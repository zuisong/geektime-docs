ä¸ŠèŠ‚è¯¾æˆ‘ä»¬è®²äº†å†³ç­–æ ‘ï¼ŒåŸºäºä¿¡æ¯åº¦é‡çš„ä¸åŒæ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå†³ç­–æ ‘åˆ†ä¸ºID3ç®—æ³•ã€C4.5ç®—æ³•å’ŒCARTç®—æ³•ã€‚ä»Šå¤©æˆ‘æ¥å¸¦ä½ å­¦ä¹ CARTç®—æ³•ã€‚CARTç®—æ³•ï¼Œè‹±æ–‡å…¨ç§°å«åšClassification And Regression Treeï¼Œä¸­æ–‡å«åšåˆ†ç±»å›å½’æ ‘ã€‚ID3å’ŒC4.5ç®—æ³•å¯ä»¥ç”ŸæˆäºŒå‰æ ‘æˆ–å¤šå‰æ ‘ï¼Œè€ŒCARTåªæ”¯æŒäºŒå‰æ ‘ã€‚åŒæ—¶CARTå†³ç­–æ ‘æ¯”è¾ƒç‰¹æ®Šï¼Œæ—¢å¯ä»¥ä½œåˆ†ç±»æ ‘ï¼Œåˆå¯ä»¥ä½œå›å½’æ ‘ã€‚

é‚£ä¹ˆä½ é¦–å…ˆéœ€è¦äº†è§£çš„æ˜¯ï¼Œä»€ä¹ˆæ˜¯åˆ†ç±»æ ‘ï¼Œä»€ä¹ˆæ˜¯å›å½’æ ‘å‘¢ï¼Ÿ

æˆ‘ç”¨ä¸‹é¢çš„è®­ç»ƒæ•°æ®ä¸¾ä¸ªä¾‹å­ï¼Œä½ èƒ½çœ‹åˆ°ä¸åŒèŒä¸šçš„äººï¼Œä»–ä»¬çš„å¹´é¾„ä¸åŒï¼Œå­¦ä¹ æ—¶é—´ä¹Ÿä¸åŒã€‚å¦‚æœæˆ‘æ„é€ äº†ä¸€æ£µå†³ç­–æ ‘ï¼Œæƒ³è¦åŸºäºæ•°æ®åˆ¤æ–­è¿™ä¸ªäººçš„èŒä¸šèº«ä»½ï¼Œè¿™ä¸ªå°±å±äºåˆ†ç±»æ ‘ï¼Œå› ä¸ºæ˜¯ä»å‡ ä¸ªåˆ†ç±»ä¸­æ¥åšé€‰æ‹©ã€‚å¦‚æœæ˜¯ç»™å®šäº†æ•°æ®ï¼Œæƒ³è¦é¢„æµ‹è¿™ä¸ªäººçš„å¹´é¾„ï¼Œé‚£å°±å±äºå›å½’æ ‘ã€‚

![](https://static001.geekbang.org/resource/image/af/cf/af89317aa55ac3b9f068b0f370fcb9cf.png?wh=624%2A259)  
åˆ†ç±»æ ‘å¯ä»¥å¤„ç†ç¦»æ•£æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ç§ç±»æœ‰é™çš„æ•°æ®ï¼Œå®ƒè¾“å‡ºçš„æ˜¯æ ·æœ¬çš„ç±»åˆ«ï¼Œè€Œå›å½’æ ‘å¯ä»¥å¯¹è¿ç»­å‹çš„æ•°å€¼è¿›è¡Œé¢„æµ‹ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åœ¨æŸä¸ªåŒºé—´å†…éƒ½æœ‰å–å€¼çš„å¯èƒ½ï¼Œå®ƒè¾“å‡ºçš„æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚

## CARTåˆ†ç±»æ ‘çš„å·¥ä½œæµç¨‹

é€šè¿‡ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬çŸ¥é“å†³ç­–æ ‘çš„æ ¸å¿ƒå°±æ˜¯å¯»æ‰¾çº¯å‡€çš„åˆ’åˆ†ï¼Œå› æ­¤å¼•å…¥äº†çº¯åº¦çš„æ¦‚å¿µã€‚åœ¨å±æ€§é€‰æ‹©ä¸Šï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡ç»Ÿè®¡â€œä¸çº¯åº¦â€æ¥åšåˆ¤æ–­çš„ï¼ŒID3æ˜¯åŸºäºä¿¡æ¯å¢ç›Šåšåˆ¤æ–­ï¼ŒC4.5åœ¨ID3çš„åŸºç¡€ä¸Šåšäº†æ”¹è¿›ï¼Œæå‡ºäº†ä¿¡æ¯å¢ç›Šç‡çš„æ¦‚å¿µã€‚å®é™…ä¸ŠCARTåˆ†ç±»æ ‘ä¸C4.5ç®—æ³•ç±»ä¼¼ï¼Œåªæ˜¯å±æ€§é€‰æ‹©çš„æŒ‡æ ‡é‡‡ç”¨çš„æ˜¯åŸºå°¼ç³»æ•°ã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ30ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/13/8c/3d/77b9abbb.jpg" width="30px"><span>rainman</span> ğŸ‘ï¼ˆ39ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å¯¹äº CART å›å½’æ ‘çš„å¯è§†åŒ–ï¼Œå¯ä»¥å…ˆåœ¨ç”µè„‘ä¸Šå®‰è£… graphvizï¼›ç„¶å pip install graphvizï¼Œè¿™æ˜¯å®‰è£…pythonçš„åº“ï¼Œéœ€è¦ä¾èµ–å‰é¢å®‰è£…çš„ graphvizã€‚å¯è§†åŒ–ä»£ç å¦‚ä¸‹ï¼š

----
from sklearn.tree import export_graphviz
import graphviz

# å‚æ•°æ˜¯å›å½’æ ‘æ¨¡å‹åç§°ï¼Œä¸è¾“å‡ºæ–‡ä»¶ã€‚
dot_data = export_graphviz(dtr, out_file=None)
graph = graphviz.Source(dot_data)
# render æ–¹æ³•ä¼šåœ¨åŒçº§ç›®å½•ä¸‹ç”Ÿæˆ Boston PDFæ–‡ä»¶ï¼Œå†…å®¹å°±æ˜¯å›å½’æ ‘ã€‚
graph.render(&#39;Boston&#39;)
----

å…·ä½“å†…å®¹å¯ä»¥å» sklearn(https:&#47;&#47;scikit-learn.org&#47;stable&#47;modules&#47;generated&#47;sklearn.tree.export_graphviz.html)
å’Œ graphviz(https:&#47;&#47;graphviz.readthedocs.io&#47;en&#47;stable&#47;) çœ‹çœ‹ã€‚</div>2019-02-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/2f/e2/3640e491.jpg" width="30px"><span>å°ç†ŠçŒ«</span> ğŸ‘ï¼ˆ16ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ID3ï¼šä»¥ä¿¡æ¯å¢ç›Šä½œä¸ºåˆ¤æ–­æ ‡å‡†ï¼Œè®¡ç®—æ¯ä¸ªç‰¹å¾çš„ä¿¡æ¯å¢ç›Šï¼Œé€‰å–ä¿¡æ¯å¢ç›Šæœ€å¤§çš„ç‰¹å¾ï¼Œä½†æ˜¯å®¹æ˜“é€‰å–åˆ°å–å€¼è¾ƒå¤šçš„ç‰¹å¾
C4.5ï¼šä»¥ä¿¡æ¯å¢ç›Šæ¯”ä½œä¸ºåˆ¤æ–­æ ‡å‡†ï¼Œè®¡ç®—æ¯ä¸ªç‰¹å¾çš„ä¿¡æ¯å¢ç›Šæ¯”ï¼Œé€‰å–ä¿¡æ¯å¢ç›Šæ¯”æœ€å¤§çš„ç‰¹å¾
CARTï¼šåˆ†ç±»æ ‘ä»¥åŸºå°¼ç³»æ•°ä¸ºæ ‡å‡†ï¼Œé€‰å–åŸºå°¼ç³»æ•°å°çš„çš„ç‰¹å¾
            å›å½’æ ‘ä»¥å‡æ–¹è¯¯å·®æˆ–ç»å¯¹å€¼è¯¯å·®ä¸ºæ ‡å‡†ï¼Œé€‰å–å‡æ–¹è¯¯å·®æˆ–ç»å¯¹å€¼è¯¯å·®æœ€å°çš„ç‰¹å¾

ç»ƒä¹ é¢˜ï¼š
from sklearn import datasets
from sklearn.model_selection import train_test_split
from sklearn import tree
from sklearn.metrics import accuracy_score
import graphviz 

# å‡†å¤‡æ‰‹å†™æ•°å­—æ•°æ®é›†
digits = datasets.load_digits()
# è·å–ç‰¹å¾å’Œæ ‡è¯†
features = digits.data
labels = digits.target
# é€‰å–æ•°æ®é›†çš„33%ä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features, test_features, train_labels, test_labels = train_test_split(features, labels, test_size=0.33)
# åˆ›å»ºCARTåˆ†ç±»æ ‘
clf = tree.DecisionTreeClassifier()
# æ‹Ÿåˆæ„é€ CARTåˆ†ç±»æ ‘
clf.fit(train_features, train_labels)
# é¢„æµ‹æµ‹è¯•é›†ç»“æœ
test_predict = clf.predict(test_features)
# æµ‹è¯•é›†ç»“æœè¯„ä»·
print(&#39;CARTåˆ†ç±»æ ‘å‡†ç¡®ç‡:&#39;, accuracy_score(test_labels, test_predict))
# ç”»å†³ç­–æ ‘
dot_data = tree.export_graphviz(clf, out_file=None)
graph = graphviz.Source(dot_data)
graph.render(&#39;CART&#47;&#47;CART_practice_digits&#39;)

CARTåˆ†ç±»æ ‘å‡†ç¡®ç‡: 0.8636363636363636</div>2019-02-15</li><br/><li><img src="" width="30px"><span>jake</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>
é¦–å…ˆæƒ³é—®ä¸€ä¸ªé—®é¢˜ å°±æ˜¯åœ¨è®²åˆ°åŸºå°¼ç³»æ•°é‚£é‡Œ æœ‰ä¸€ä¸ªå›¾é‚£é‡Œçš„ä¾‹å­ ä»€ä¹ˆD: 9ä¸ªæ‰“ç¯®çƒ 3ä¸ªä¸æ‰“ç¯®çƒé‚£é‡Œ
é‚£é‡Œçš„Dçš„åŸºå°¼ç³»æ•°ç”¨åˆ°äº†å­èŠ‚ç‚¹å½’ä¸€åŒ–åŸºå°¼ç³»æ•°ä¹‹å’Œè¿™ä¸ªæ–¹æ³•æ±‚ è¯·é—®Dçš„åŸºå°¼ç³»æ•°ä¸èƒ½ç›´æ¥ç”¨ ä¸Šé¢é‚£ä¸ªå…¬å¼ ä¹Ÿå°±æ˜¯&quot;1 - [p(ck|t)]^2&quot;é‚£ä¸ªå…¬å¼è®¡ç®—å— æˆ‘ç”¨è¿™ä¸ªå…¬å¼è®¡ç®—å‡ºDçš„åŸºå°¼ç³»æ•°ä¸º 1 - (9&#47;12 * 9&#47;12 + 3&#47;12 * 3&#47;12) = 6&#47;16ã€‚ æˆ‘ä¹Ÿæƒ³é—®ä¸€ä¸‹ä¸Šé¢é‚£ä¸ªåŒå­¦æçš„è¿™ä¸ªé—®é¢˜</div>2019-02-24</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erBSoNm28CNCYpvytDbhfSYpgCo6T9vuzKkSoflr3sX8VucMz8ykrichKDY9vVoMVomUIakXSQq9icw/132" width="30px"><span>xfoolin</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ID3 æ˜¯é€šè¿‡ä¿¡æ¯å¢ç›Šï¼Œé€‰å–ä¿¡æ¯å¢ç›Šæœ€å¤§çš„ç‰¹å¾ï¼›C4.5 æ˜¯é€šè¿‡ä¿¡æ¯å¢ç›Šç‡ï¼Œé€‰å–ï¼ŒCART æ˜¯é€šè¿‡åŸºå°¼ç³»æ•°ï¼Œé€‰å–åŸºå°¼ç³»æ•°æœ€å°çš„ç‰¹å¾ã€‚


from sklearn.model_selection import train_test_split#è®­ç»ƒé›†å’Œæµ‹è¯•é›†
from sklearn.metrics import mean_squared_error#äºŒä¹˜åå·®å‡å€¼
from sklearn.metrics import mean_absolute_error#ç»å¯¹å€¼åå·®å‡å€¼
from sklearn.datasets import load_digits#å¼•å…¥ digits æ•°æ®é›†
from sklearn.metrics import accuracy_score#æµ‹è¯•ç»“æœçš„å‡†ç¡®æ€§
from sklearn import tree
import graphviz
#å‡†å¤‡æ•°æ®é›†
digits = load_digits()
#è·å–æ•°æ®é›†çš„ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
features = digits.data
labels = digits.target
#éšæœºæŠ½å– 33% çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features,test_features,train_labels,test_labels = \
train_test_split(features,labels,test_size = 0.33,random_state = 0)
#åˆ›å»º CART åˆ†ç±»æ ‘
clf = tree.DecisionTreeClassifier(criterion = &#39;gini&#39;)
#æ‹Ÿåˆæ„é€ åˆ†ç±»æ ‘
clf = clf.fit(train_features,train_labels)
#ç”¨ CART åˆ†ç±»æ ‘åšé¢„æµ‹
test_predict = clf.predict(test_features)
#é¢„æµ‹ç»“æœä¸æµ‹è¯•é›†ä½œå¯¹æ¯”
score = accuracy_score(test_labels,test_predict)
#è¾“å‡ºå‡†ç¡®ç‡
print(&#39;å‡†ç¡®ç‡ %.4f&#39;%score)
dot_data = tree.export_graphviz(clf,out_file = None)
graph = graphviz.Source(dot_data)
#è¾“å‡ºåˆ†ç±»æ ‘å›¾ç¤º
graph.view()
</div>2019-02-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/0a/eb/6d6a94d2.jpg" width="30px"><span>Lee</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div># encoding=utf-8
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.tree import DecisionTreeClassifier
from sklearn.datasets import load_digits

# å‡†å¤‡æ•°æ®é›†
digits=load_digits()
# è·å–ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
features = digits.data
labels = digits.target
# éšæœºæŠ½å– 33% çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features, test_features, train_labels, test_labels = train_test_split(features, labels, test_size=0.33, random_state=0)
# åˆ›å»º CART åˆ†ç±»æ ‘
clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
# æ‹Ÿåˆæ„é€  CART åˆ†ç±»æ ‘
clf = clf.fit(train_features, train_labels)
# ç”¨ CART åˆ†ç±»æ ‘åšé¢„æµ‹
test_predict = clf.predict(test_features)
# é¢„æµ‹ç»“æœä¸æµ‹è¯•é›†ç»“æœä½œæ¯”å¯¹
score = accuracy_score(test_labels, test_predict)
print(&quot;CART åˆ†ç±»æ ‘å‡†ç¡®ç‡ %.4lf&quot; % score)

CART åˆ†ç±»æ ‘å‡†ç¡®ç‡ 0.8620</div>2019-01-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/03/3f/09308258.jpg" width="30px"><span>é›¨å…ˆç”Ÿçš„æ™´å¤©</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>scikit learn package ç¡®å®éå¸¸å¥½ç”¨ï¼Œå¾ˆç®€æ´ã€‚æ¨èå¤§å®¶ä¹Ÿå»å®˜ç½‘çœ‹ä¸€çœ‹ï¼Œè¯·é—®ä¸€ä¸‹æ€æ ·å¯ä»¥æŠŠdecision tree å¯è§†åŒ–å‘€ï¼Ÿ </div>2019-01-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/64/76/0da71882.jpg" width="30px"><span>Mi compaero de armas</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®é‡‡ç”¨CARTç®—æ³•æ—¶ï¼Œå¦‚æœç¦»æ•£å‹å±æ€§çš„å€¼ä¸æ­¢ä¸¤ç§è¿˜èƒ½ä½¿ç”¨CARTç®—æ³•å—</div>2019-11-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg" width="30px"><span>Ronnyz</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç¬¬äºŒé—®
```
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.tree import DecisionTreeClassifier
from sklearn.datasets import load_digits

digits = load_digits()

# print(digits)

features=digits.data
labels = digits.target

train_features,test_features,train_labels,test_labels=train_test_split(features,labels,test_size =0.33,random_state=0)

clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
clf=clf.fit(train_features,train_labels)

predict_labels=clf.predict(test_features)

print(&#39;åˆ†ç±»å‡†ç¡®åº¦ï¼š&#39;,accuracy_score(test_labels,predict_labels))
```
åˆ†ç±»å‡†ç¡®åº¦ï¼š 0.8619528619528619</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e5/bc/e5ff2613.jpg" width="30px"><span>è®¸å®‡å®</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œçœ‹äº†ä¸¤éè¿˜æ˜¯ä¸æ˜ç™½åˆ†ç±»çš„è¿™ä¸ªå†³ç­–æ ‘æ˜¯ä¾æ®ä»€ä¹ˆç”»å‡ºæ¥çš„ï¼Ÿ</div>2019-07-18</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJYEdMwBDUC6gYrUoI7092ocWJPyw1aP8xNOFXxOv7LEw1xj5a4icDibV7pd9vN45lXicXYjB7oYXVqg/132" width="30px"><span>ç¾Šå°çœ‹</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>1ã€ä¸ºä»€ä¹ˆCRATçš„åŸºå°¼ç³»æ•°æ¯”C4.5çš„ä¿¡æ¯å¢ç›Šç‡å¥½å‘¢ï¼Ÿæ—¢ç„¶sklearnåº“é»˜è®¤ç”¨çš„åŸºå°¼ç³»æ•°ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªå¥½ä¸€äº›å§ï¼Ÿ
2ã€from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.tree import DecisionTreeClassifier
#from sklearn.datasets import load_iris
from sklearn.datasets import load_digits

# å‡†å¤‡æ•°æ®é›†
#iris=load_iris()
digits=load_digits()
# è·å–ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
#features = iris.data
#labels = iris.target
features = digits.data
labels = digits.target
# éšæœºæŠ½å– 33% çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features, test_features, train_labels, test_labels = train_test_split(features, labels, test_size=0.33, random_state=0)
# åˆ›å»º CART åˆ†ç±»æ ‘
clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
# æ‹Ÿåˆæ„é€  CART åˆ†ç±»æ ‘
clf = clf.fit(train_features, train_labels)
# ç”¨ CART åˆ†ç±»æ ‘åšé¢„æµ‹
test_predict = clf.predict(test_features)
# é¢„æµ‹ç»“æœä¸æµ‹è¯•é›†ç»“æœä½œæ¯”å¯¹
score = accuracy_score(test_labels, test_predict)
print(&quot;CART åˆ†ç±»æ ‘å‡†ç¡®ç‡ %.4lf&quot; % score)

CART åˆ†ç±»æ ‘å‡†ç¡®ç‡ 0.8636</div>2019-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/c7/a3/1e2f9f5a.jpg" width="30px"><span>åœ†åœ†çš„å¤§é£Ÿå®¢</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.tree import DecisionTreeClassifier
from sklearn.datasets import load_digits
#å‡†å¤‡æ•°æ®é›†
digits=load_digits()
#è·å–ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
features = digits.data
labels = digits.target
#éšæœºæŠ½å–33%çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features, test_features, train_labels, test_labels = train_test_split(features, labels, test_size=0.33, random_state=0)
#åˆ›å»ºCARTåˆ†ç±»æ ‘
clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
#æ‹Ÿåˆæ„é€ CARTåˆ†ç±»æ ‘
clf = clf.fit(train_features, train_labels)
#ç”¨CARTåˆ†ç±»æ ‘åšé¢„æµ‹
test_predict = clf.predict(test_features)
#é¢„æµ‹ç»“æœä¸æµ‹è¯•é›†ç»“æœä½œå¯¹æ¯” 
score = accuracy_score(test_labels, test_predict)
print (&quot;CARTåˆ†ç±»æ ‘å‡†ç¡®ç‡%.4lf&quot;% score)</div>2019-02-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/8e/6d/c68e07ef.jpg" width="30px"><span>Chino</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>é¦–å…ˆæƒ³é—®ä¸€ä¸ªé—®é¢˜ å°±æ˜¯åœ¨è®²åˆ°åŸºå°¼ç³»æ•°é‚£é‡Œ æœ‰ä¸€ä¸ªå›¾é‚£é‡Œçš„ä¾‹å­ ä»€ä¹ˆD: 9ä¸ªæ‰“ç¯®çƒ 3ä¸ªä¸æ‰“ç¯®çƒé‚£é‡Œ
é‚£é‡Œçš„Dçš„åŸºå°¼ç³»æ•°ç”¨åˆ°äº†å­èŠ‚ç‚¹å½’ä¸€åŒ–åŸºå°¼ç³»æ•°ä¹‹å’Œè¿™ä¸ªæ–¹æ³•æ±‚ è¯·é—®Dçš„åŸºå°¼ç³»æ•°ä¸èƒ½ç›´æ¥ç”¨ ä¸Šé¢é‚£ä¸ªå…¬å¼ ä¹Ÿå°±æ˜¯&quot;1 - [p(ck|t)]^2&quot;é‚£ä¸ªå…¬å¼è®¡ç®—å—  æˆ‘ç”¨è¿™ä¸ªå…¬å¼è®¡ç®—å‡ºDçš„åŸºå°¼ç³»æ•°ä¸º 1 - (9&#47;12 * 9&#47;12 + 3&#47;12 * 3&#47;12) = 6&#47;16

# ID3,C4.5,CARTåœ¨åšèŠ‚ç‚¹åˆ’åˆ†çš„åŒºåˆ«
# æˆ‘è®¤ä¸ºæ˜¯ä¸‰è€…çš„å…±åŒä¹‹å¤„å°±æ˜¯å¾—å‡ºæ¯ä¸ªç±»åˆ«çš„æŸä¸ªå±æ€§å€¼ ç„¶åæ ¹æ®è¿™ä¸ªå±æ€§å€¼
# æ¥é€‰å–å“ªä¸ªç±»å‹å½“èŠ‚ç‚¹ å› æ­¤ä¸åŒä¹‹å¤„å°±æ˜¯è¿™ä¸ªå±æ€§å€¼.
# ID3 æ ¹æ® ä¿¡æ¯å¢ç›Š åˆ¤æ–­ å“ªä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯å¢ç›Šæœ€å¤§å°±å½“èŠ‚ç‚¹
# C4.5 æ ¹æ® ä¿¡æ¯å¢ç›Šç‡ åˆ¤æ–­ è·ŸID3ç›¸ä¼¼
# CARTåˆ†ç±»æ ‘ æ ¹æ® åŸºå°¼ç³»æ•° åˆ¤æ–­ è¶Šå°ä»£è¡¨è¶Šç¨³å®š

from sklearn.datasets import load_digits
from sklearn.tree import DecisionTreeClassifier
from sklearn.metrics import accuracy_score
from sklearn.model_selection import train_test_split


digit = load_digits()

# æŠŠæ•°æ®é›†ä¸­çš„æ•°æ®å’Œç»“æœæ‹¿å‡ºæ¥
features = digit.data
target = digit.target

# æŠŠæ•°æ®é›†ä¸­çš„æ•°æ®åˆ†33%å½“ä½œæµ‹è¯•æ•°æ® å…¶ä»–ç”¨æ¥è®­ç»ƒ
train_features,test_features,train_target,test_target = train_test_split(features,target,test_size=0.33)

# å®šä¹‰CARTåˆ†ç±»æ ‘
clf = DecisionTreeClassifier()

# æŠŠè®­ç»ƒæ•°æ®å¼„åˆ°åˆ†ç±»æ•°ä¸­ æ„é€ æ ‘
clf = clf.fit(train_features,train_target)

# æŠŠæµ‹è¯•æ•°æ®æ”¾è¿›æ ‘ä¸­å¾—å‡ºé¢„æµ‹ç»“æœ
predict_target = clf.predict(test_features)

# å¯¹æ¯”é¢„æµ‹å‡ºæ¥çš„æ•°æ®å’Œå®é™…ç»“æœ
score = accuracy_score(predict_target,test_target)

print(score)

</div>2019-02-01</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/yZKYKNcLpTJDspoDPEXEJ1w6VSpziaicvXDWauo1k1qAm9Ac9eEWurheHw5AOzoYCtPfZJ53ibqJNH6zoibkq5fWXg/132" width="30px"><span>Melons</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å¦‚æœæŒ‰ç…§ç¬¬ä¸€ä¸ªå…¬å¼ï¼Œæ•°æ®é›†Dçš„åŸºå°¼ç³»æ•°è®¡ç®—æ–¹æ³•ä¸º1-ï¼ˆ9&#47;12 * 9&#47;12 + 3&#47;12 * 3&#47;12ï¼‰=3&#47;8ï¼›è¯·é—®ä¸ºä»€ä¹ˆä¸èƒ½è¿™æ ·ç®—å‘¢ï¼Ÿ</div>2021-01-14</li><br/><li><img src="" width="30px"><span>lemonlxn</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä½¿ç”¨CARTæ ‘ï¼Œåšå›å½’æˆ–è€…åˆ†ç±»ï¼Œæ ·æœ¬æ•°æ®ç±»å‹ æœ‰æ— è§„å®šï¼Œåªèƒ½æ˜¯ åˆ†ç±» æˆ– æ•°å€¼ æ•°æ®ç±»å‹ï¼Œè¿˜æ˜¯ä¸¤è€…éƒ½å¯ä»¥å­˜åœ¨ï¼Ÿ</div>2020-09-21</li><br/><li><img src="" width="30px"><span>freedomwl</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>è€å¸ˆï¼Œæ³¢å£«é¡¿æˆ¿ä»·ä»£ç æ¯æ¬¡è¿è¡Œç»“æœä¸ä¸€æ ·æ˜¯å› ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†æ¯è¿è¡Œä¸€æ¬¡éƒ½ä¼šé‡æ–°éšæœºé€‰å–çš„åŸå› å—ï¼Ÿ</div>2020-07-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/b5/0d/df1f17b5.jpg" width="30px"><span>å“å“Ÿå“Ÿ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>1ã€ID3ï¼ŒC4.5ï¼Œä»¥åŠ CART åˆ†ç±»æ ‘åˆ’åˆ†å¸¦æ¥ä¿¡æ¯çº¯åº¦æé«˜ï¼Œä¿¡æ¯ç†µä¸‹é™ï¼ŒID3ã€C4.5åˆ†åˆ«æ˜¯ä¿¡æ¯å¢ç›Šå’Œä¿¡æ¯å¢ç›Šç‡è¶Šé«˜ä¿¡æ¯çº¯åº¦è¶Šé«˜ï¼ŒCARTæ˜¯åŸºå°¼ç³»æ•°è¶Šå°å·®è·è¶Šå°
2ã€ç…§ç€è€å¸ˆçš„æ¡ˆä¾‹æ”¹äº†ä¸€ä¸‹
from sklearn.metrics import accuracy_score
from sklearn.model_selection import train_test_split
from sklearn.tree import DecisionTreeClassifier
from sklearn.datasets import load_digits

hd = load_digits()
# print(handWrite)
features = hd.data
labels = hd.target

train_features, test_features, train_labels, test_labels = train_test_split(features, labels, test_size=0.33, random_state=0)

# åˆ›å»ºCARTåˆ†ç±»æ ‘
clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
# æ‹Ÿåˆæ„é€ CARTåˆ†ç±»æ ‘
clf = clf.fit(train_features, train_labels)
# ç”¨CARTåˆ†ç±»æ ‘åšé¢„æµ‹
test_predict = clf.predict(test_features)
# é¢„æµ‹ç»“æœä¸æµ‹è¯•é›†ç»“æœä½œæ¯”å¯¹
score = accuracy_score(test_labels, test_predict)
print(&quot;CARTåˆ†ç±»æ ‘å‡†ç¡®ç‡ %.4lf&quot; % score)</div>2020-04-29</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ziaN7rOONp15HJm6A9JoAYicJL8VA59x10DX4JZyvcfqmmpCnumXgAkNn37aFoALftyTaQNlUF7te54LibvVm20TQ/132" width="30px"><span>Geek_c9fa4e</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>from sklearn.datasets import load_digits
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_absolute_error,mean_squared_error,accuracy_score
from sklearn.tree import DecisionTreeRegressor
data=load_digits()
labels=data.data
features=data.target
x_train,x_test,y_train,y_test=train_test_split(labels,features,test_size=0.2)
dtr=DecisionTreeRegressor()
dtr.fit(x_train,y_train)
data_predict=dtr.predict(x_test)
print(&quot;åˆ†ç±»å‡†ç¡®ç‡ä¸º:&quot;,accuracy_score(y_test,data_predict))</div>2020-04-25</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/1ornnGqSaTxRdbxhUHibeylvYngHvK64ebMaBso6vwXD9I3OEic75dZXxypvwfoCKeKutkpK2d7Xte8Gqh0UH4QA/132" width="30px"><span>Geek_5d8f2f</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>é‚£è¯·é—®å¦‚ä½•åº”ç”¨å‘¢ï¼Ÿæ¯”æ–¹åˆ†ç±»æ ‘æˆ‘å¾—å‡ºäº† 0.9600ï¼Œ é‚£è¿™æ—¶å€™æˆ‘æœ‰ä¸€ä¸ªæ–°æ•°æ®ï¼Œå¦‚ä½•ä¼ å…¥å»åˆ¤åˆ«è¿™ä¸ªæ–°æ•°æ®å‘¢ï¼Ÿï¼Ÿä¸€ä¸ªå¤´ä¸¤ä¸ªå¤§</div>2020-04-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/bf/e3/2aa8ec84.jpg" width="30px"><span>é±¼éå­</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>
# encoding=utf-8
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.tree import DecisionTreeClassifier
# from sklearn.datasets import load_iris
from sklearn.datasets import load_digits
# å‡†å¤‡æ•°æ®é›†
# iris = load_iris()
digits = load_digits()
# è·å–ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
# features = iris.data
features = digits.data
labels = digits.target
# labels = iris.target
# éšæœºæŠ½å–33%çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features, test_features, train_labels, test_labels = train_test_split(features, labels, test_size=0.33, random_state=0)
# åˆ›å»ºCARTåˆ†ç±»æ ‘
clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
# æ‹Ÿåˆæ„é€ CARTåˆ†ç±»æ ‘
clf = clf.fit(train_features, train_labels)
# ç”¨CARTåˆ†ç±»æ ‘åšé¢„æµ‹
test_predict = clf.predict(test_features)
# é¢„æµ‹ç»“æœä¸æµ‹è¯•é›†ç»“æœä½œæ¯”å¯¹
score = accuracy_score(test_labels, test_predict)
print(&quot;CARTåˆ†ç±»æ ‘å‡†ç¡®ç‡ %.4lf&quot; % score)</div>2020-02-08</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKGRpeljInKj7fUQvwrB9v6kmTOkJlG9ghUoWCXquaDDFmtXeDrEL4p8Gscfx4ZmfeSs2GbZgwwibg/132" width="30px"><span>GodlikeJy</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å¯¹äºæ¨¡å‹è¯„ä»·ï¼Œè¿™é‡Œéœ€è¦å­¦ä¹ ä¸€äº›ç»Ÿè®¡å­¦çŸ¥è¯†ï¼Œæ··æ·†çŸ©é˜µ
1. çœŸé˜³æ€§ï¼ˆTrue Positiveï¼ŒTPï¼‰ï¼šæ ·æœ¬çš„çœŸå®ç±»åˆ«æ˜¯æ­£ä¾‹ï¼Œå¹¶ä¸”æ¨¡å‹é¢„æµ‹çš„ç»“æœä¹Ÿæ˜¯æ­£ä¾‹
2. çœŸé˜´æ€§ï¼ˆTrue Negativeï¼ŒTNï¼‰ï¼šæ ·æœ¬çš„çœŸå®ç±»åˆ«æ˜¯è´Ÿä¾‹ï¼Œå¹¶ä¸”æ¨¡å‹å°†å…¶é¢„æµ‹æˆä¸ºè´Ÿä¾‹
3. å‡é˜³æ€§ï¼ˆFalse Positiveï¼ŒFPï¼‰ï¼šæ ·æœ¬çš„çœŸå®ç±»åˆ«æ˜¯è´Ÿä¾‹ï¼Œä½†æ˜¯æ¨¡å‹å°†å…¶é¢„æµ‹æˆä¸ºæ­£ä¾‹
4. å‡é˜´æ€§ï¼ˆFalse Negativeï¼ŒFNï¼‰ï¼šæ ·æœ¬çš„çœŸå®ç±»åˆ«æ˜¯æ­£ä¾‹ï¼Œä½†æ˜¯æ¨¡å‹å°†å…¶é¢„æµ‹æˆä¸ºè´Ÿä¾‹
æ­£ç¡®ç‡ï¼ˆAccuracyï¼‰ï¼šè¢«æ­£ç¡®åˆ†ç±»çš„æ ·æœ¬æ¯”ä¾‹æˆ–æ•°é‡  (TP+TN)&#47;total</div>2019-12-28</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx9A2J1pCWjnsg5drDCp1zgYpfwIARUwicIWofKsy0ECMk39iaWltn4lUwJn1GK6OC7jbjicGBBx0tA/132" width="30px"><span>å¾®æ¾œgao</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®cartå†³ç­–æ ‘å‰ªæCCPæ–¹æ³•ä¸­ä¸ºä»€ä¹ˆå¸Œæœ›å‰ªæå‰åè¯¯å·®æœ€å°

</div>2019-09-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/42/f7/67a2e6ee.jpg" width="30px"><span>å†…å­˜çˆ†äº†</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ€è€ƒé¢˜
1ã€ID3å’ŒC4.5ï¼Œä»¥åŠCARTåˆ†ç±»æ ‘åœ¨åšç»“ç‚¹åˆ’åˆ†çš„æ—¶å€™çš„åŒºåˆ«ï¼š
ID3å’ŒC4.5åœ¨åšç»“ç‚¹åˆ’åˆ†çš„æ—¶å€™ï¼Œæ„å»ºæˆçš„æ•°å¯ä»¥æ˜¯å¤šå‰æ ‘æˆ–è€…äºŒå‰æ ‘ï¼Œä½†æ˜¯CARTç®—æ³•åªèƒ½æ„æˆäºŒå‰æ ‘ï¼Œå¯¹äºå–å¤šä¸ªå€¼çš„å±æ€§å˜é‡ï¼Œéœ€è¦å°†å¤šä¸ªç±»åˆ«åˆå¹¶æˆä¸¤ä¸ªç±»åˆ«ï¼Œå½¢æˆè¶…ç±»ï¼Œç„¶åè®¡ç®—ä¸¤ä¸ªâ€œè¶…ç±»â€ä¸‹æ ·æœ¬æµ‹è¯•è¾“å‡ºå–å¾—çš„å·®å¼‚æ€§ã€‚
2ã€æ„å»ºåˆ†ç±»æ ‘
# encoding=utf-8
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.tree import DecisionTreeClassifier
from sklearn.datasets import load_digits

# å‡†å¤‡æ•°æ®é›†
digits = load_digits()
# è·å–ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
features = digits.data
labels = digits.target
# éšæœºæŠ½å– 33% çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features, test_features, train_labels, test_labels = train_test_split(features, labels, test_size=0.33, random_state=0)
# åˆ›å»ºCART åˆ†ç±»æ ‘
clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
# æ‹Ÿåˆæ„é€ CARTåˆ†ç±»æ ‘
clf = clf.fit(train_features, train_labels)
# ç”¨CART åˆ†ç±»æ ‘åšé¢„æµ‹
test_predict = clf.predict(test_features)
# é¢„æµ‹ç»“æœä¸æµ‹è¯•ç»“æœåšå¯¹æ¯”
score = accuracy_score(test_labels, test_predict)
print(&quot;CART åˆ†ç±»æ ‘å‡†ç¡®ç‡ %.4lf&quot; % score)

# ç»“æœï¼šCART åˆ†ç±»æ ‘å‡†ç¡®ç‡ 0.8687</div>2019-07-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/97/77/a01ebefc.jpg" width="30px"><span>Wei_å¼º</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>p(C1|t) è¡¨ç¤ºèŠ‚ç‚¹ t å±äºç±»åˆ« Ck çš„æ¦‚ç‡ã€‚è¿™ä¸ªå’Œæ¡ä»¶æ¦‚ç‡çš„è¡¨è¾¾å½¢å¼æœ‰ç‚¹åƒï¼Œä½†æ˜¯æ„æ€ä¸ä¸€æ ·ã€‚æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿ</div>2019-07-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/fd/71/2c66cbdd.jpg" width="30px"><span>David</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸ºå•¥CARTåªæ”¯æŒäºŒå‰æ ‘å‘¢ï¼Ÿ</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/8e/76/6d55e26f.jpg" width="30px"><span>å¼ æ™“è¾‰</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>#encoding=utf-8
from sklearn.datasets import load_digits
from sklearn.tree import DecisionTreeClassifier
from sklearn.metrics import accuracy_score
from sklearn.model_selection import train_test_split

digits = load_digits()
features = digits.data 
targets = digits.target 
train_features, test_features, train_digits, test_digits = train_test_split(features, targets, test_size = 0.33)
clf = DecisionTreeClassifier()
clf = clf.fit(train_features, train_digits)
predict_digits = clf.predict(test_features)
print(&quot;The predict accuracy is:&quot;, accuracy_score(test_digits, predict_digits))</div>2019-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a3/87/c415e370.jpg" width="30px"><span>æ»¢</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯­è¨€ç‰ˆæœ¬ï¼šPython 3.6 ç¯å¢ƒï¼šIDLE

&gt;&gt;&gt;from sklearn.model_selection import train_test_split
&gt;&gt;&gt;from sklearn.metrics import accuracy_score
&gt;&gt;&gt;from sklearn.tree import DecisionTreeClassifier
&gt;&gt;&gt;from sklearn.datasets import load_digits
&gt;&gt;&gt;import ssl
&gt;&gt;&gt;ssl._create_default_https_context = ssl._create_unverified_context
&gt;&gt;&gt;#å‡†å¤‡æ•°æ®
&gt;&gt;&gt;digits = load_gigits()
&gt;&gt;&gt;#è·å–ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
&gt;&gt;&gt;features = digits.data
&gt;&gt;&gt;labels = digits.target
&gt;&gt;&gt; #éšæœºæŠ½å–40%ä½œä¸ºæµ‹è¯•æ•°æ®ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒé›†
&gt;&gt;&gt;train_features,test_features,train_labels,test_labels = train_test_split(features,labels, test_size = 0.40, random_state = 0)
&gt;&gt;&gt;#åˆ›å»ºCARTåˆ†ç±»æ ‘
&gt;&gt;&gt;clf = DecisionTreeClassifier(criterion=&#39;gini&#39;)
&gt;&gt;&gt;#æ‹Ÿåˆæ„å»ºCARTåˆ†ç±»æ ‘
&gt;&gt;&gt;clf.fit(train_features, train_labels)
&gt;&gt;&gt;#ç”¨CARTåˆ†ç±»æ ‘åšé¢„æµ‹
&gt;&gt;&gt;test_predic = clf.predict(test_features)
&gt;&gt;&gt;#é¢„æµ‹ç»“æœä¸æµ‹è¯•ç»“æœåšæ¯”å¯¹
&gt;&gt;&gt;score = accuracy_score(test_labels, test_predic)
&gt;&gt;&gt;print (&#39;CARTåˆ†ç±»æ ‘å‡†ç¡®ç‡%.4lf&#39;, %score)
CARTåˆ†ç±»æ ‘å‡†ç¡®ç‡0.8164</div>2019-04-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/f9/81/54b1a5a8.jpg" width="30px"><span>littlePerfect</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ¢ç´¢æ•°æ®é‚£ä¸€è¡Œä»£ç æœ‰ä»€ä¹ˆä½œç”¨?
print(boston.feature_names)</div>2019-02-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg" width="30px"><span>Geek_hve78z</span> ğŸ‘ï¼ˆ20ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>1ã€ID3ï¼ŒC4.5ï¼Œä»¥åŠ CART åˆ†ç±»æ ‘åœ¨åšèŠ‚ç‚¹åˆ’åˆ†æ—¶çš„åŒºåˆ«å—ï¼Ÿ
ID3æ˜¯åŸºäºä¿¡æ¯å¢ç›Šæ¥åˆ¤æ–­ï¼Œä¿¡æ¯å¢ç›Šæœ€å¤§çš„ï¼Œé€‰å–ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚
C4.5é‡‡ç”¨ä¿¡æ¯å¢ç›Šç‡æ¥åˆ¤æ–­ï¼Œä¿¡æ¯å¢ç›Šç‡æœ€å¤§çš„ï¼Œé€‰å–ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚
CARTåˆ†ç±»æ ‘é‡‡ç”¨åŸºå°¼ç³»æ•°æœ€å°çš„å±æ€§ä½œä¸ºå±æ€§åˆ’åˆ†
2ã€sklearn ä¸­æœ‰ä¸ªæ‰‹å†™æ•°å­—æ•°æ®é›†ï¼Œè°ƒç”¨çš„æ–¹æ³•æ˜¯ load_digits()ï¼Œä½ èƒ½å¦åˆ›å»ºä¸€ä¸ª CART åˆ†ç±»æ ‘ï¼Œå¯¹æ‰‹å†™æ•°å­—æ•°æ®é›†åšåˆ†ç±»ï¼Ÿå¦å¤–é€‰å–ä¸€éƒ¨åˆ†æµ‹è¯•é›†ï¼Œç»Ÿè®¡ä¸‹åˆ†ç±»æ ‘çš„å‡†ç¡®ç‡ï¼Ÿ
# æ‰‹å†™æ•°æ®é›†load_digits()å»ºç«‹CARTåˆ†ç±»æ ‘
# encoding= utf-8
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.tree import DecisionTreeClassifier
from sklearn.datasets import load_digits

#å‡†å¤‡æ•°æ®
digits=load_digits()
#è·å–ç‰¹å¾é›†å’Œåˆ†ç±»æ ‡è¯†
features=digits.data
labels=digits.target
#éšæœºæŠ½å–33%çš„æ•°æ®ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä¸ºè®­ç»ƒé›†
train_features,test_features,train_labels,test_labels=train_test_split(features,labels,test_size=0.33,random_state=0)
#åˆ›å»ºcartåˆ†ç±»æ ‘
clf=DecisionTreeClassifier(criterion=&#39;gini&#39;)
#æ‹Ÿåˆæ„é€ cartåˆ†ç±»æ ‘
clf=clf.fit(train_features,train_labels)
# ç”¨cartåˆ†ç±»æ ‘åšé¢„æµ‹
test_predict=clf.predict(test_features)
#é¢„æµ‹ç»“æœä¸æµ‹è¯•é›†ç»“æœåšæ¯”å¯¹
score=accuracy_score(test_labels,test_predict)
print(&quot;CART åˆ†ç±»æ ‘å‡†ç¡®ç‡ %.4lf&quot;%score)
-----------
è¿ç®—ç»“æœï¼šCART åˆ†ç±»æ ‘å‡†ç¡®ç‡ 0.8603</div>2019-02-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/a7/f0/e3212f18.jpg" width="30px"><span>èƒ¡</span> ğŸ‘ï¼ˆ18ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>cartåˆ†ç±»æ ‘çš„å†³ç­–æ ‘é‚£å‰¯å›¾çœ‹ä¸æ‡‚ã€‚</div>2019-01-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/77/be/1f2409e8.jpg" width="30px"><span>æ¢æ—æ¾</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆ é‚£ä¸ªæ‰“ç¯®çƒçš„ä¾‹å­é‡Œ D1&#47;Då’ŒD2&#47;Dä¸ºä»€ä¹ˆæ˜¯6&#47;9å’Œ2&#47;9å‘¢ï¼Ÿå¦‚æœæ˜¯å­èŠ‚ç‚¹å çˆ¶èŠ‚ç‚¹çš„æ¯”ä¾‹ä¸æ˜¯åº”è¯¥æ˜¯å„1&#47;2å—ï¼Ÿ</div>2019-01-23</li><br/>
</ul>