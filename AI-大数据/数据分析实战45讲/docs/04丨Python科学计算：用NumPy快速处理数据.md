ä¸Šä¸€èŠ‚æˆ‘è®²äº†Pythonçš„åŸºæœ¬è¯­æ³•ï¼Œä»Šå¤©æˆ‘æ¥ç»™ä½ è®²ä¸‹Pythonä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„ç¬¬ä¸‰æ–¹åº“NumPyã€‚

å®ƒä¸ä»…æ˜¯Pythonä¸­ä½¿ç”¨æœ€å¤šçš„ç¬¬ä¸‰æ–¹åº“ï¼Œè€Œä¸”è¿˜æ˜¯SciPyã€Pandasç­‰æ•°æ®ç§‘å­¦çš„åŸºç¡€åº“ã€‚å®ƒæ‰€æä¾›çš„æ•°æ®ç»“æ„æ¯”Pythonè‡ªèº«çš„â€œæ›´é«˜çº§ã€æ›´é«˜æ•ˆâ€ï¼Œå¯ä»¥è¿™ä¹ˆè¯´ï¼ŒNumPyæ‰€æä¾›çš„æ•°æ®ç»“æ„æ˜¯Pythonæ•°æ®åˆ†æçš„åŸºç¡€ã€‚

æˆ‘ä¸Šæ¬¡è®²åˆ°äº†Pythonæ•°ç»„ç»“æ„ä¸­çš„åˆ—è¡¨listï¼Œå®ƒå®é™…ä¸Šç›¸å½“äºä¸€ä¸ªæ•°ç»„çš„ç»“æ„ã€‚è€ŒNumPyä¸­ä¸€ä¸ªå…³é”®æ•°æ®ç±»å‹å°±æ˜¯å…³äºæ•°ç»„çš„ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜å­˜åœ¨è¿™æ ·ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„æ•°ç»„ç»“æ„å‘¢ï¼Ÿ

å®é™…ä¸Šï¼Œæ ‡å‡†çš„Pythonä¸­ï¼Œç”¨åˆ—è¡¨listä¿å­˜æ•°ç»„çš„æ•°å€¼ã€‚ç”±äºåˆ—è¡¨ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»æ„çš„å¯¹è±¡ï¼Œæ‰€ä»¥åˆ—è¡¨ä¸­listä¿å­˜çš„æ˜¯å¯¹è±¡çš„æŒ‡é’ˆã€‚è™½ç„¶åœ¨Pythonç¼–ç¨‹ä¸­éšå»äº†æŒ‡é’ˆçš„æ¦‚å¿µï¼Œä½†æ˜¯æ•°ç»„æœ‰æŒ‡é’ˆï¼ŒPythonçš„åˆ—è¡¨listå…¶å®å°±æ˜¯æ•°ç»„ã€‚è¿™æ ·å¦‚æœæˆ‘è¦ä¿å­˜ä¸€ä¸ªç®€å•çš„æ•°ç»„\[0,1,2]ï¼Œå°±éœ€è¦æœ‰3ä¸ªæŒ‡é’ˆå’Œ3ä¸ªæ•´æ•°çš„å¯¹è±¡ï¼Œè¿™æ ·å¯¹äºPythonæ¥è¯´æ˜¯éå¸¸ä¸ç»æµçš„ï¼Œæµªè´¹äº†å†…å­˜å’Œè®¡ç®—æ—¶é—´ã€‚

## ä½¿ç”¨NumPyè®©ä½ çš„Pythonç§‘å­¦è®¡ç®—æ›´é«˜æ•ˆ

ä¸ºä»€ä¹ˆè¦ç”¨NumPyæ•°ç»„ç»“æ„è€Œä¸æ˜¯Pythonæœ¬èº«çš„åˆ—è¡¨listï¼Ÿè¿™æ˜¯å› ä¸ºåˆ—è¡¨listçš„å…ƒç´ åœ¨ç³»ç»Ÿå†…å­˜ä¸­æ˜¯åˆ†æ•£å­˜å‚¨çš„ï¼Œè€ŒNumPyæ•°ç»„å­˜å‚¨åœ¨ä¸€ä¸ªå‡åŒ€è¿ç»­çš„å†…å­˜å—ä¸­ã€‚è¿™æ ·æ•°ç»„è®¡ç®—éå†æ‰€æœ‰çš„å…ƒç´ ï¼Œä¸åƒåˆ—è¡¨listè¿˜éœ€è¦å¯¹å†…å­˜åœ°å€è¿›è¡ŒæŸ¥æ‰¾ï¼Œä»è€ŒèŠ‚çœäº†è®¡ç®—èµ„æºã€‚

å¦å¤–åœ¨å†…å­˜è®¿é—®æ¨¡å¼ä¸­ï¼Œç¼“å­˜ä¼šç›´æ¥æŠŠå­—èŠ‚å—ä»RAMåŠ è½½åˆ°CPUå¯„å­˜å™¨ä¸­ã€‚å› ä¸ºæ•°æ®è¿ç»­çš„å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒNumPyç›´æ¥åˆ©ç”¨ç°ä»£CPUçš„çŸ¢é‡åŒ–æŒ‡ä»¤è®¡ç®—ï¼ŒåŠ è½½å¯„å­˜å™¨ä¸­çš„å¤šä¸ªè¿ç»­æµ®ç‚¹æ•°ã€‚å¦å¤–NumPyä¸­çš„çŸ©é˜µè®¡ç®—å¯ä»¥é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸CPUè®¡ç®—èµ„æºï¼Œå¤§å¤§æå‡äº†è®¡ç®—æ•ˆç‡ã€‚

å½“ç„¶é™¤äº†ä½¿ç”¨NumPyå¤–ï¼Œä½ è¿˜éœ€è¦ä¸€äº›æŠ€å·§æ¥æå‡å†…å­˜å’Œæé«˜è®¡ç®—èµ„æºçš„åˆ©ç”¨ç‡ã€‚ä¸€ä¸ªé‡è¦çš„è§„åˆ™å°±æ˜¯ï¼š**é¿å…é‡‡ç”¨éšå¼æ‹·è´ï¼Œè€Œæ˜¯é‡‡ç”¨å°±åœ°æ“ä½œçš„æ–¹å¼**ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘æƒ³è®©ä¸€ä¸ªæ•°å€¼xæ˜¯åŸæ¥çš„ä¸¤å€ï¼Œå¯ä»¥ç›´æ¥å†™æˆx\*=2ï¼Œè€Œä¸è¦å†™æˆy=x\*2ã€‚

è¿™æ ·é€Ÿåº¦èƒ½å¿«åˆ°2å€ç”šè‡³æ›´å¤šã€‚

æ—¢ç„¶NumPyè¿™ä¹ˆå‰å®³ï¼Œä½ è¯¥ä»å“ªå„¿å…¥æ‰‹å­¦ä¹ å‘¢ï¼Ÿåœ¨NumPyé‡Œæœ‰ä¸¤ä¸ªé‡è¦çš„å¯¹è±¡ï¼šndarrayï¼ˆN-dimensional array objectï¼‰è§£å†³äº†å¤šç»´æ•°ç»„é—®é¢˜ï¼Œè€Œufuncï¼ˆuniversal function objectï¼‰åˆ™æ˜¯è§£å†³å¯¹æ•°ç»„è¿›è¡Œå¤„ç†çš„å‡½æ•°ã€‚ä¸‹é¢ï¼Œæˆ‘å°±å¸¦ä½ ä¸€ä¸€æ¥çœ‹ã€‚

**ndarrayå¯¹è±¡**

ndarrayå®é™…ä¸Šæ˜¯å¤šç»´æ•°ç»„çš„å«ä¹‰ã€‚åœ¨NumPyæ•°ç»„ä¸­ï¼Œç»´æ•°ç§°ä¸ºç§©ï¼ˆrankï¼‰ï¼Œä¸€ç»´æ•°ç»„çš„ç§©ä¸º1ï¼ŒäºŒç»´æ•°ç»„çš„ç§©ä¸º2ï¼Œä»¥æ­¤ç±»æ¨ã€‚åœ¨NumPyä¸­ï¼Œæ¯ä¸€ä¸ªçº¿æ€§çš„æ•°ç»„ç§°ä¸ºä¸€ä¸ªè½´ï¼ˆaxesï¼‰ï¼Œå…¶å®ç§©å°±æ˜¯æè¿°è½´çš„æ•°é‡ã€‚

ä¸‹é¢ï¼Œä½ æ¥çœ‹ndarrayå¯¹è±¡æ˜¯å¦‚ä½•åˆ›å»ºæ•°ç»„çš„ï¼Œåˆæ˜¯å¦‚ä½•å¤„ç†ç»“æ„æ•°ç»„çš„å‘¢ï¼Ÿ

**åˆ›å»ºæ•°ç»„**

```
import numpy as np
a = np.array([1, 2, 3])
b = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
b[1,1]=10
print a.shape
print b.shape
print a.dtype
print b
```

è¿è¡Œç»“æœï¼š

```
(3L,)
(3L, 3L)
int32
[[ 1  2  3]
 [ 4 10  6]
 [ 7  8  9]]
```

åˆ›å»ºæ•°ç»„å‰ï¼Œä½ éœ€è¦å¼•ç”¨NumPyåº“ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡arrayå‡½æ•°åˆ›å»ºæ•°ç»„ï¼Œå¦‚æœæ˜¯å¤šé‡æ•°ç»„ï¼Œæ¯”å¦‚ç¤ºä¾‹é‡Œçš„bï¼Œé‚£ä¹ˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿä½ å¯ä»¥å…ˆæŠŠä¸€ä¸ªæ•°ç»„ä½œä¸ºä¸€ä¸ªå…ƒç´ ï¼Œç„¶ååµŒå¥—èµ·æ¥ï¼Œæ¯”å¦‚ç¤ºä¾‹bä¸­çš„\[1,2,3]å°±æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œç„¶å\[4,5,6]\[7,8,9]ä¹Ÿæ˜¯ä½œä¸ºå…ƒç´ ï¼Œç„¶åæŠŠä¸‰ä¸ªå…ƒç´ å†æ”¾åˆ°\[]æ•°ç»„é‡Œï¼Œèµ‹å€¼ç»™å˜é‡bã€‚

å½“ç„¶æ•°ç»„ä¹Ÿæ˜¯æœ‰å±æ€§çš„ï¼Œæ¯”å¦‚ä½ å¯ä»¥é€šè¿‡å‡½æ•°shapeå±æ€§è·å¾—æ•°ç»„çš„å¤§å°ï¼Œé€šè¿‡dtypeè·å¾—å…ƒç´ çš„å±æ€§ã€‚å¦‚æœä½ æƒ³å¯¹æ•°ç»„é‡Œçš„æ•°å€¼è¿›è¡Œä¿®æ”¹çš„è¯ï¼Œç›´æ¥èµ‹å€¼å³å¯ï¼Œæ³¨æ„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹è®¡çš„ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³å¯¹bæ•°ç»„ï¼Œä¹å®«æ ¼é‡Œçš„ä¸­é—´å…ƒç´ è¿›è¡Œä¿®æ”¹çš„è¯ï¼Œä¸‹æ ‡åº”è¯¥æ˜¯\[1,1]ã€‚

**ç»“æ„æ•°ç»„**

å¦‚æœä½ æƒ³ç»Ÿè®¡ä¸€ä¸ªç­çº§é‡Œé¢å­¦ç”Ÿçš„å§“åã€å¹´é¾„ï¼Œä»¥åŠè¯­æ–‡ã€è‹±è¯­ã€æ•°å­¦æˆç»©è¯¥æ€ä¹ˆåŠï¼Ÿå½“ç„¶ä½ å¯ä»¥ç”¨æ•°ç»„çš„ä¸‹æ ‡æ¥ä»£è¡¨ä¸åŒçš„å­—æ®µï¼Œæ¯”å¦‚ä¸‹æ ‡ä¸º0çš„æ˜¯å§“åã€ä¸‹æ ‡ä¸º1çš„æ˜¯å¹´é¾„ç­‰ï¼Œä½†æ˜¯è¿™æ ·ä¸æ˜¾æ€§ã€‚

å®é™…ä¸Šåœ¨Cè¯­è¨€é‡Œï¼Œå¯ä»¥å®šä¹‰ç»“æ„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡structå®šä¹‰ç»“æ„ç±»å‹ï¼Œç»“æ„ä¸­çš„å­—æ®µå æ®è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ¯ä¸ªç»“æ„ä½“å ç”¨çš„å†…å­˜å¤§å°éƒ½ç›¸åŒï¼Œé‚£åœ¨NumPyä¸­æ˜¯æ€æ ·æ“ä½œçš„å‘¢ï¼Ÿ

```
import numpy as np
persontype = np.dtype({
    'names':['name', 'age', 'chinese', 'math', 'english'],
    'formats':['S32','i', 'i', 'i', 'f']})
peoples = np.array([("ZhangFei",32,75,100, 90),("GuanYu",24,85,96,88.5),
       ("ZhaoYun",28,85,92,96.5),("HuangZhong",29,65,85,100)],
    dtype=persontype)
ages = peoples[:]['age']
chineses = peoples[:]['chinese']
maths = peoples[:]['math']
englishs = peoples[:]['english']
print np.mean(ages)
print np.mean(chineses)
print np.mean(maths)
print np.mean(englishs)
```

è¿è¡Œç»“æœï¼š

```
28.25
77.5
93.25
93.75
```

ä½ çœ‹ä¸‹è¿™ä¸ªä¾‹å­ï¼Œé¦–å…ˆåœ¨NumPyä¸­æ˜¯ç”¨dtypeå®šä¹‰çš„ç»“æ„ç±»å‹ï¼Œç„¶ååœ¨å®šä¹‰æ•°ç»„çš„æ—¶å€™ï¼Œç”¨arrayä¸­æŒ‡å®šäº†ç»“æ„æ•°ç»„çš„ç±»å‹dtype=persontypeï¼Œè¿™æ ·ä½ å°±å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨è‡ªå®šä¹‰çš„persontypeäº†ã€‚æ¯”å¦‚æƒ³çŸ¥é“æ¯ä¸ªäººçš„è¯­æ–‡æˆç»©ï¼Œå°±å¯ä»¥ç”¨chineses = peoples\[:]\[â€˜chineseâ€™]ï¼Œå½“ç„¶NumPyä¸­è¿˜æœ‰ä¸€äº›è‡ªå¸¦çš„æ•°å­¦è¿ç®—ï¼Œæ¯”å¦‚è®¡ç®—å¹³å‡å€¼ä½¿ç”¨np.meanã€‚

**ufuncè¿ç®—**

ufuncæ˜¯universal functionçš„ç¼©å†™ï¼Œæ˜¯ä¸æ˜¯å¬èµ·æ¥å°±æ„Ÿè§‰åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Ÿç¡®å¦‚å…¶åï¼Œå®ƒèƒ½å¯¹æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è¿›è¡Œå‡½æ•°æ“ä½œã€‚NumPyä¸­å¾ˆå¤šufuncå‡½æ•°è®¡ç®—é€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸ºéƒ½æ˜¯é‡‡ç”¨Cè¯­è¨€å®ç°çš„ã€‚

**è¿ç»­æ•°ç»„çš„åˆ›å»º**

NumPyå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ›å»ºè¿ç»­æ•°ç»„ï¼Œæ¯”å¦‚æˆ‘ä½¿ç”¨arangeæˆ–linspaceå‡½æ•°è¿›è¡Œåˆ›å»ºï¼š

```
x1 = np.arange(1,11,2)
x2 = np.linspace(1,9,5)
```

np.arangeå’Œnp.linspaceèµ·åˆ°çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åˆ›å»ºç­‰å·®æ•°ç»„ã€‚è¿™ä¸¤ä¸ªæ•°ç»„çš„ç»“æœx1,x2éƒ½æ˜¯\[1 3 5 7 9]ã€‚ç»“æœç›¸åŒï¼Œä½†æ˜¯ä½ èƒ½çœ‹å‡ºæ¥åˆ›å»ºçš„æ–¹å¼æ˜¯ä¸åŒçš„ã€‚

arange()ç±»ä¼¼å†…ç½®å‡½æ•°range()ï¼Œé€šè¿‡æŒ‡å®š**åˆå§‹å€¼ã€ç»ˆå€¼ã€æ­¥é•¿**æ¥åˆ›å»ºç­‰å·®æ•°åˆ—çš„ä¸€ç»´æ•°ç»„ï¼Œé»˜è®¤æ˜¯ä¸åŒ…æ‹¬ç»ˆå€¼çš„ã€‚

linspaceæ˜¯linear spaceçš„ç¼©å†™ï¼Œä»£è¡¨çº¿æ€§ç­‰åˆ†å‘é‡çš„å«ä¹‰ã€‚linspace()é€šè¿‡æŒ‡å®š**åˆå§‹å€¼ã€ç»ˆå€¼ã€å…ƒç´ ä¸ªæ•°**æ¥åˆ›å»ºç­‰å·®æ•°åˆ—çš„ä¸€ç»´æ•°ç»„ï¼Œé»˜è®¤æ˜¯åŒ…æ‹¬ç»ˆå€¼çš„ã€‚

**ç®—æ•°è¿ç®—**

é€šè¿‡NumPyå¯ä»¥è‡ªç”±åœ°åˆ›å»ºç­‰å·®æ•°ç»„ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è¿›è¡ŒåŠ ã€å‡ã€ä¹˜ã€é™¤ã€æ±‚næ¬¡æ–¹å’Œå–ä½™æ•°ã€‚

```
x1 = np.arange(1,11,2)
x2 = np.linspace(1,9,5)
print np.add(x1, x2)
print np.subtract(x1, x2)
print np.multiply(x1, x2)
print np.divide(x1, x2)
print np.power(x1, x2)
print np.remainder(x1, x2)
```

è¿è¡Œç»“æœï¼š

```
[ 2.  6. 10. 14. 18.]
[0. 0. 0. 0. 0.]
[ 1.  9. 25. 49. 81.]
[1. 1. 1. 1. 1.]
[1.00000000e+00 2.70000000e+01 3.12500000e+03 8.23543000e+05
 3.87420489e+08]
[0. 0. 0. 0. 0.]
```

æˆ‘è¿˜ä»¥x1, x2æ•°ç»„ä¸ºä¾‹ï¼Œæ±‚è¿™ä¸¤ä¸ªæ•°ç»„ä¹‹é—´çš„åŠ ã€å‡ã€ä¹˜ã€é™¤ã€æ±‚næ¬¡æ–¹å’Œå–ä½™æ•°ã€‚åœ¨næ¬¡æ–¹ä¸­ï¼Œx2æ•°ç»„ä¸­çš„å…ƒç´ å®é™…ä¸Šæ˜¯æ¬¡æ–¹çš„æ¬¡æ•°ï¼Œx1æ•°ç»„çš„å…ƒç´ ä¸ºåŸºæ•°ã€‚

åœ¨å–ä½™å‡½æ•°é‡Œï¼Œä½ æ—¢å¯ä»¥ç”¨np.remainder(x1, x2)ï¼Œä¹Ÿå¯ä»¥ç”¨np.mod(x1, x2)ï¼Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚

**ç»Ÿè®¡å‡½æ•°**

å¦‚æœä½ æƒ³è¦å¯¹ä¸€å †æ•°æ®æœ‰æ›´æ¸…æ™°çš„è®¤è¯†ï¼Œå°±éœ€è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œæè¿°æ€§çš„ç»Ÿè®¡åˆ†æï¼Œæ¯”å¦‚äº†è§£è¿™äº›æ•°æ®ä¸­çš„æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ï¼Œæ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œæ–¹å·®ã€æ ‡å‡†å·®å¤šå°‘ç­‰ç­‰ã€‚å®ƒä»¬å¯ä»¥è®©ä½ æ›´æ¸…æ¥šåœ°å¯¹è¿™ç»„æ•°æ®æœ‰è®¤çŸ¥ã€‚

ä¸‹é¢æˆ‘æ¥ä»‹ç»ä¸‹åœ¨NumPyä¸­å¦‚ä½•ä½¿ç”¨è¿™äº›ç»Ÿè®¡å‡½æ•°ã€‚

**è®¡æ•°ç»„/çŸ©é˜µä¸­çš„æœ€å¤§å€¼å‡½æ•°amax()ï¼Œæœ€å°å€¼å‡½æ•°amin()**

```
import numpy as np
a = np.array([[1,2,3], [4,5,6], [7,8,9]])
print np.amin(a)
print np.amin(a,0)
print np.amin(a,1)
print np.amax(a)
print np.amax(a,0)
print np.amax(a,1)
```

è¿è¡Œç»“æœï¼š

```
1
[1 2 3]
[1 4 7]
9
[7 8 9]
[3 6 9]
```

amin() ç”¨äºè®¡ç®—æ•°ç»„ä¸­çš„å…ƒç´ æ²¿æŒ‡å®šè½´çš„æœ€å°å€¼ã€‚å¯¹äºä¸€ä¸ªäºŒç»´æ•°ç»„aï¼Œamin(a)æŒ‡çš„æ˜¯æ•°ç»„ä¸­å…¨éƒ¨å…ƒç´ çš„æœ€å°å€¼ï¼Œamin(a,0)æ˜¯å»¶ç€axis=0è½´çš„æœ€å°å€¼ï¼Œaxis=0è½´æ˜¯æŠŠå…ƒç´ çœ‹æˆäº†\[1,4,7], \[2,5,8], \[3,6,9]ä¸‰ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æœ€å°å€¼ä¸º\[1,2,3]ï¼Œamin(a,1)æ˜¯å»¶ç€axis=1è½´çš„æœ€å°å€¼ï¼Œaxis=1è½´æ˜¯æŠŠå…ƒç´ çœ‹æˆäº†\[1,2,3], \[4,5,6], \[7,8,9]ä¸‰ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æœ€å°å€¼ä¸º\[1,4,7]ã€‚åŒç†amax()æ˜¯è®¡ç®—æ•°ç»„ä¸­å…ƒç´ æ²¿æŒ‡å®šè½´çš„æœ€å¤§å€¼ã€‚

**ç»Ÿè®¡æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹å·® ptp()**

```
a = np.array([[1,2,3], [4,5,6], [7,8,9]])
print np.ptp(a)
print np.ptp(a,0)
print np.ptp(a,1)
```

è¿è¡Œç»“æœï¼š

```
8
[6 6 6]
[2 2 2]
```

å¯¹äºç›¸åŒçš„æ•°ç»„aï¼Œnp.ptp(a)å¯ä»¥ç»Ÿè®¡æ•°ç»„ä¸­æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®ï¼Œå³9-1=8ã€‚åŒæ ·ptp(a,0)ç»Ÿè®¡çš„æ˜¯æ²¿ç€axis=0è½´çš„æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹å·®ï¼Œå³7-1=6ï¼ˆå½“ç„¶8-2=6,9-3=6ï¼Œç¬¬ä¸‰è¡Œå‡å»ç¬¬ä¸€è¡Œçš„ptpå·®å‡ä¸º6ï¼‰ï¼Œptp(a,1)ç»Ÿè®¡çš„æ˜¯æ²¿ç€axis=1è½´çš„æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹å·®ï¼Œå³3-1=2ï¼ˆå½“ç„¶6-4=2, 9-7=2ï¼Œå³ç¬¬ä¸‰åˆ—ä¸ç¬¬ä¸€åˆ—çš„ptpå·®å‡ä¸º2ï¼‰ã€‚

**ç»Ÿè®¡æ•°ç»„çš„ç™¾åˆ†ä½æ•° percentile()**

```
a = np.array([[1,2,3], [4,5,6], [7,8,9]])
print np.percentile(a, 50)
print np.percentile(a, 50, axis=0)
print np.percentile(a, 50, axis=1)
```

è¿è¡Œç»“æœï¼š

```
5.0
[4. 5. 6.]
[2. 5. 8.]
```

åŒæ ·ï¼Œpercentile()ä»£è¡¨ç€ç¬¬ p ä¸ªç™¾åˆ†ä½æ•°ï¼Œè¿™é‡Œpçš„å–å€¼èŒƒå›´æ˜¯0-100ï¼Œå¦‚æœp=0ï¼Œé‚£ä¹ˆå°±æ˜¯æ±‚æœ€å°å€¼ï¼Œå¦‚æœp=50å°±æ˜¯æ±‚å¹³å‡å€¼ï¼Œå¦‚æœp=100å°±æ˜¯æ±‚æœ€å¤§å€¼ã€‚åŒæ ·ä½ ä¹Ÿå¯ä»¥æ±‚å¾—åœ¨axis=0 å’Œ axis=1ä¸¤ä¸ªè½´ä¸Šçš„p%çš„ç™¾åˆ†ä½æ•°ã€‚

**ç»Ÿè®¡æ•°ç»„ä¸­çš„ä¸­ä½æ•°median()ã€å¹³å‡æ•°mean()**

```
a = np.array([[1,2,3], [4,5,6], [7,8,9]])
#æ±‚ä¸­ä½æ•°
print np.median(a)
print np.median(a, axis=0)
print np.median(a, axis=1)
#æ±‚å¹³å‡æ•°
print np.mean(a)
print np.mean(a, axis=0)
print np.mean(a, axis=1)
```

è¿è¡Œç»“æœï¼š

```
5.0
[4. 5. 6.]
[2. 5. 8.]
5.0
[4. 5. 6.]
[2. 5. 8.]
```

ä½ å¯ä»¥ç”¨median()å’Œmean()æ±‚æ•°ç»„çš„ä¸­ä½æ•°ã€å¹³å‡å€¼ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥æ±‚å¾—åœ¨axis=0å’Œ1ä¸¤ä¸ªè½´ä¸Šçš„ä¸­ä½æ•°ã€å¹³å‡å€¼ã€‚ä½ å¯ä»¥è‡ªå·±ç»ƒä¹ ä¸‹çœ‹çœ‹è¿è¡Œç»“æœã€‚

**ç»Ÿè®¡æ•°ç»„ä¸­çš„åŠ æƒå¹³å‡å€¼average()**

```
a = np.array([1,2,3,4])
wts = np.array([1,2,3,4])
print np.average(a)
print np.average(a,weights=wts)
```

è¿è¡Œç»“æœï¼š

```
2.5
3.0
```

average()å‡½æ•°å¯ä»¥æ±‚åŠ æƒå¹³å‡ï¼ŒåŠ æƒå¹³å‡çš„æ„æ€å°±æ˜¯æ¯ä¸ªå…ƒç´ å¯ä»¥è®¾ç½®ä¸ªæƒé‡ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¯ä¸ªå…ƒç´ çš„æƒé‡æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥np.average(a)=(1+2+3+4)/4=2.5ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šæƒé‡æ•°ç»„wts=\[1,2,3,4]ï¼Œè¿™æ ·åŠ æƒå¹³å‡np.average(a,weights=wts)=(1\*1+2\*2+3\*3+4\*4)/(1+2+3+4)=3.0ã€‚

**ç»Ÿè®¡æ•°ç»„ä¸­çš„æ ‡å‡†å·®std()ã€æ–¹å·®var()**

```
a = np.array([1,2,3,4])
print np.std(a)
print np.var(a)
```

è¿è¡Œç»“æœï¼š

```
1.118033988749895
1.25
```

æ–¹å·®çš„è®¡ç®—æ˜¯æŒ‡æ¯ä¸ªæ•°å€¼ä¸å¹³å‡å€¼ä¹‹å·®çš„å¹³æ–¹æ±‚å’Œçš„å¹³å‡å€¼ï¼Œå³mean((x - x.mean())\** 2)ã€‚æ ‡å‡†å·®æ˜¯æ–¹å·®çš„ç®—æœ¯å¹³æ–¹æ ¹ã€‚åœ¨æ•°å­¦æ„ä¹‰ä¸Šï¼Œä»£è¡¨çš„æ˜¯ä¸€ç»„æ•°æ®ç¦»å¹³å‡å€¼çš„åˆ†æ•£ç¨‹åº¦ã€‚æ‰€ä»¥np.var(a)=1.25, np.std(a)=1.118033988749895ã€‚

**NumPyæ’åº**

æ’åºæ˜¯ç®—æ³•ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§ï¼Œä¹Ÿæ˜¯åœ¨æ•°æ®åˆ†æå·¥ä½œä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼Œè®¡ç®—æœºä¸“ä¸šçš„åŒå­¦ä¼šåœ¨å¤§å­¦æœŸé—´çš„ç®—æ³•è¯¾ä¸­å­¦ä¹ ã€‚

é‚£ä¹ˆè¿™äº›æ’åºç®—æ³•åœ¨NumPyä¸­å®ç°èµ·æ¥å…¶å®éå¸¸ç®€å•ï¼Œä¸€æ¡è¯­å¥å°±å¯ä»¥æå®šã€‚è¿™é‡Œä½ å¯ä»¥ä½¿ç”¨sortå‡½æ•°ï¼Œsort(a, axis=-1, kind=â€˜quicksortâ€™, order=None)ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯å¿«é€Ÿæ’åºï¼›åœ¨kindé‡Œï¼Œå¯ä»¥æŒ‡å®šquicksortã€mergesortã€heapsortåˆ†åˆ«è¡¨ç¤ºå¿«é€Ÿæ’åºã€åˆå¹¶æ’åºã€å †æ’åºã€‚åŒæ ·axisé»˜è®¤æ˜¯-1ï¼Œå³æ²¿ç€æ•°ç»„çš„æœ€åä¸€ä¸ªè½´è¿›è¡Œæ’åºï¼Œä¹Ÿå¯ä»¥å–ä¸åŒçš„axisè½´ï¼Œæˆ–è€…axis=Noneä»£è¡¨é‡‡ç”¨æ‰å¹³åŒ–çš„æ–¹å¼ä½œä¸ºä¸€ä¸ªå‘é‡è¿›è¡Œæ’åºã€‚å¦å¤–orderå­—æ®µï¼Œå¯¹äºç»“æ„åŒ–çš„æ•°ç»„å¯ä»¥æŒ‡å®šæŒ‰ç…§æŸä¸ªå­—æ®µè¿›è¡Œæ’åºã€‚

```
a = np.array([[4,3,2],[2,4,1]])
print np.sort(a)
print np.sort(a, axis=None)
print np.sort(a, axis=0)  
print np.sort(a, axis=1)  
```

è¿è¡Œç»“æœï¼š

```
[[2 3 4]
 [1 2 4]]
[1 2 2 3 4 4]
[[2 3 1]
 [4 4 2]]
[[2 3 4]
 [1 2 4]]
```

ä½ å¯ä»¥è‡ªå·±è®¡ç®—ä¸‹è¿™ä¸ªè¿è¡Œç»“æœï¼Œç„¶åå†è·‘ä¸€éæ¯”å¯¹ä¸‹ã€‚

## æ€»ç»“

åœ¨NumPyå­¦ä¹ ä¸­ï¼Œä½ é‡ç‚¹è¦æŒæ¡çš„å°±æ˜¯å¯¹æ•°ç»„çš„ä½¿ç”¨ï¼Œå› ä¸ºè¿™æ˜¯NumPyå’Œæ ‡å‡†Pythonæœ€å¤§çš„åŒºåˆ«ã€‚åœ¨NumPyä¸­é‡æ–°å¯¹æ•°ç»„è¿›è¡Œäº†å®šä¹‰ï¼ŒåŒæ—¶æä¾›äº†ç®—æœ¯å’Œç»Ÿè®¡è¿ç®—ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨NumPyè‡ªå¸¦çš„æ’åºåŠŸèƒ½ï¼Œä¸€å¥è¯å°±æå®šå„ç§æ’åºç®—æ³•ã€‚

å½“ç„¶è¦ç†è§£NumPyæä¾›çš„æ•°æ®ç»“æ„ä¸ºä»€ä¹ˆæ¯”Pythonè‡ªèº«çš„â€œæ›´é«˜çº§ã€æ›´é«˜æ•ˆâ€ï¼Œè¦ä»å¯¹æ•°æ®æŒ‡é’ˆçš„å¼•ç”¨è§’åº¦è¿›è¡Œç†è§£ã€‚

![](https://static001.geekbang.org/resource/image/7b/66/7ba74ca7776ac29a5dc94c272d72ff66.jpg?wh=1142%2A564)  
æˆ‘ä»Šå¤©é‡ç‚¹è®²äº†NumPyçš„æ•°æ®ç»“æ„ï¼Œä½ èƒ½ç”¨è‡ªå·±çš„è¯è¯´æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨NumPyè€Œä¸æ˜¯Pythonçš„åˆ—è¡¨listå—ï¼Ÿé™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜çŸ¥é“é‚£äº›æ•°æ®ç»“æ„ç±»å‹ï¼Ÿ

**ç»ƒä¹ é¢˜ï¼šç»Ÿè®¡å…¨ç­çš„æˆç»©**

å‡è®¾ä¸€ä¸ªå›¢é˜Ÿé‡Œæœ‰5åå­¦å‘˜ï¼Œæˆç»©å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ä½ å¯ä»¥ç”¨NumPyç»Ÿè®¡ä¸‹è¿™äº›äººåœ¨è¯­æ–‡ã€è‹±è¯­ã€æ•°å­¦ä¸­çš„å¹³å‡æˆç»©ã€æœ€å°æˆç»©ã€æœ€å¤§æˆç»©ã€æ–¹å·®ã€æ ‡å‡†å·®ã€‚ç„¶åæŠŠè¿™äº›äººçš„æ€»æˆç»©æ’åºï¼Œå¾—å‡ºåæ¬¡è¿›è¡Œæˆç»©è¾“å‡ºã€‚

![](https://static001.geekbang.org/resource/image/44/5c/442a89eed30c13b543e5f717c538325c.jpg?wh=1142%2A1031)

æœŸå¾…ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ15ï¼‰</strong></div><ul>
<li><span>mickey</span> ğŸ‘ï¼ˆ64ï¼‰ ğŸ’¬ï¼ˆ8ï¼‰<p>#!&#47;usr&#47;bin&#47;python
#vim: set fileencoding:utf-8
import numpy as np

&#39;&#39;&#39;
å‡è®¾ä¸€ä¸ªå›¢é˜Ÿé‡Œæœ‰5åå­¦å‘˜ï¼Œæˆç»©å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚
1.ç”¨NumPyç»Ÿè®¡ä¸‹è¿™äº›äººåœ¨è¯­æ–‡ã€è‹±è¯­ã€æ•°å­¦ä¸­çš„å¹³å‡æˆç»©ã€æœ€å°æˆç»©ã€æœ€å¤§æˆç»©ã€æ–¹å·®ã€æ ‡å‡†å·®ã€‚
2.æ€»æˆç»©æ’åºï¼Œå¾—å‡ºåæ¬¡è¿›è¡Œæˆç»©è¾“å‡ºã€‚
&#39;&#39;&#39;

scoretype = np.dtype({
    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],
    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})

peoples = np.array(
        [
            (&quot;zhangfei&quot;, 66, 65, 30),
            (&quot;guanyu&quot;, 95, 85, 98),
            (&quot;zhaoyun&quot;, 93, 92, 96),
            (&quot;huangzhong&quot;, 90, 88, 77),
            (&quot;dianwei&quot;, 80, 90, 90)
        ], dtype=scoretype)

#print(peoples)

name = peoples[:][&#39;name&#39;]
wuli = peoples[:][&#39;chinese&#39;]
zhili = peoples[:][&#39;english&#39;]
tili = peoples[:][&#39;math&#39;]

def show(name,cj):
    print name,
    print &quot; |&quot;,
    print np.mean(cj),
    print &quot; | &quot;,
    print np.min(cj),
    print &quot; | &quot;,
    print np.max(cj),
    print &quot; | &quot;,
    print np.var(cj),
    print &quot; | &quot;,
    print np.std(cj)

print(&quot;ç§‘ç›®  | å¹³å‡æˆç»© | æœ€å°æˆç»© | æœ€å¤§æˆç»© | æ–¹å·® | æ ‡å‡†å·®&quot;)
show(&quot;è¯­æ–‡&quot;, wuli)
show(&quot;è‹±è¯­&quot;, zhili)
show(&quot;æ•°å­¦&quot;, tili)

print(&quot;æ’å:&quot;)
ranking =sorted(peoples,cmp = lambda x,y: cmp(x[1]+x[2]+x[3],y[1]+y[2]+y[3]), reverse=True)
print(ranking)</p>2018-12-21</li><br/><li><span>ä¹ˆæ˜¥â€®è„¸å°çš„ä½ äº†äº²å¹¶â€­</span> ğŸ‘ï¼ˆ110ï¼‰ ğŸ’¬ï¼ˆ9ï¼‰<p>æ’åç¬¬ä¸€çš„åŒå­¦æ˜¯ç”¨ Python 2 çš„å†™æ³•ï¼Œæˆ‘ç”¨ Python 3 ä¹Ÿå†™ä¸€éï¼Œä¾›å¤§å®¶å‚è€ƒã€‚

# -*- coding: utf-8 -*-
&quot;&quot;&quot;
Created on Sun Jan 20 00:51:28 2019

@author: Dachun Li
&quot;&quot;&quot;
import numpy as np
a = np.array([[4,3,2],[2,4,1]])
print(np.sort(a))
print(np.sort(a, axis=None))
print(np.sort(a, axis=0))
print(np.sort(a, axis=1))

print(&quot;\npart 6 ä½œä¸š\n&quot;)

persontype = np.dtype({
    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;,&#39;english&#39;,&#39;math&#39; ],
    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})
peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),
       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),
       (&quot;DianWei&quot;,80,90,90)],dtype=persontype)
#æŒ‡å®šçš„ç«–åˆ—
name = peoples[:][&#39;name&#39;]
chinese = peoples[:][&#39;chinese&#39;]
english = peoples[:][&#39;english&#39;]
math = peoples[:][&#39;math&#39;]
#å®šä¹‰å‡½æ•°ç”¨äºæ˜¾ç¤ºæ¯ä¸€æ’çš„å†…å®¹
def show(name,cj):
    print(&#39;{} |   {}  |   {}   |   {}   |   {}    |    {}   &#39;
          .format(name,np.mean(cj),np.min(cj),np.max(cj),np.var(cj),np.std(cj)))

print(&quot;ç§‘ç›® | å¹³å‡æˆç»© | æœ€å°æˆç»© | æœ€å¤§æˆç»© | æ–¹å·® | æ ‡å‡†å·®&quot;)
show(&quot;è¯­æ–‡&quot;, chinese)
show(&quot;è‹±è¯­&quot;, english)
show(&quot;æ•°å­¦&quot;, math)

print(&quot;æ’å:&quot;)
#ç”¨sortedå‡½æ•°è¿›è¡Œæ’åº
ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)
print(ranking)

</p>2019-01-20</li><br/><li><span>Zahputor</span> ğŸ‘ï¼ˆ68ï¼‰ ğŸ’¬ï¼ˆ6ï¼‰<p>è€å¸ˆä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹axis=0,axis=1,è¿™ä¸ªåº”è¯¥æ€ä¹ˆç†è§£ï¼Ÿçœ‹å¾—ä¸æ˜¯å¾ˆæ˜ç™½</p>2018-12-21</li><br/><li><span>Kylin</span> ğŸ‘ï¼ˆ44ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<p>åŸºæœ¬ä¸Šâ€¦æ²¡å¬æ‡‚ï¼Œä¸€è„¸æ‡µé€¼çš„å¬å®Œäº†ï¼Œè€å¸ˆè¿˜èƒ½æŠ¢æ•‘ä¸€ä¸‹å—ï¼Ÿæ˜¯ç¼ºç‚¹ä»€ä¹ˆåŸºç¡€çŸ¥è¯†ï¼Ÿ</p>2018-12-24</li><br/><li><span>èœ‰è£</span> ğŸ‘ï¼ˆ12ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>å…³äºaxiså‚æ•°çš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿæœ‰ç‚¹æ¨¡ç³Šï¼Œåæ¥çŸ¥ä¹ä¸Šçœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œæ€è·¯æ¸…æ™°å¤šäº†ï¼Œä¹Ÿæ¨èå¤§å®¶çœ‹ä¸€ä¸‹ï¼šhttps:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;30960190</p>2019-03-24</li><br/><li><span>ä½•æ¥š</span> ğŸ‘ï¼ˆ12ï¼‰ ğŸ’¬ï¼ˆ7ï¼‰<p>#!&#47;usr&#47;bin&#47;env python3
# -*- coding: utf-8 -*-

import numpy as np
persontype = np.dtype({
    &#39;names&#39;: [&#39;name&#39;,  &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],
    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})
peoples = np.array([(&quot;ZhangFei&quot;, 66, 65, 30), (&quot;GuanYu&quot;, 95, 85, 98),
                    (&quot;ZhaoYun&quot;, 93, 92, 96), (&quot;HuangZhong&quot;, 90, 88, 77),
                    (&quot;DianWei&quot;, 80, 90, 90)],
                   dtype=persontype)
for col in peoples.dtype.names:
#    print(col)
    if col is &quot;name&quot;:
        continue
    print(&quot;mean of {}: {}&quot;.format(col, peoples[col].mean()))
    print(&quot;min of {}: {}&quot;.format(col, peoples[col].min()))
    print(&quot;max of {}: {}&quot;.format(col, peoples[col].max()))
    print(&quot;var of {}: {}&quot;.format(col, peoples[col].var()))
    print(&quot;std of {}: {}&quot;.format(col, peoples[col].std()))

report = np.empty([0, 0])
for i in range(peoples.size):
    sum_score = peoples[&#39;chinese&#39;][i] + peoples[&#39;english&#39;][i] + peoples[&#39;math&#39;][i]
    #print(sum_score)
    report = np.append(report, [ sum_score])
report = -np.sort(-report)
print(&quot;sorted score:&quot;)
print(report)

æ€ä¹ˆåœ¨ numpy é‡Œä½œæˆç»©æ±‚å’Œè¿˜ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚å¦å¤–ï¼Œæƒ³æŠŠæˆç»©å’Œåå­—æŒ‰æ’åºåæ‰“å°å‡ºæ¥ï¼Œè¦ç”¨ç´¢å¼•ï¼Œèµ¶æ—¶é—´æ²¡ç ”ç©¶ï¼Œç­‰çœ‹åˆ«äººçš„ç»“æœã€‚</p>2018-12-21</li><br/><li><span>ä»æœªåœ¨æ­¤</span> ğŸ‘ï¼ˆ9ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>æ ¹æ®æˆ‘åœ¨ç½‘ä¸Šæ‰¾çš„å­¦ä¹ èµ„æ–™ï¼Œaxisï¼0ï¼Œä»£è¡¨è·¨è¡Œï¼›=1ä»£è¡¨è·¨åˆ—ï¼Œè¿™æ ·å¾ˆå®¹æ˜“ç†è§£ã€‚</p>2018-12-21</li><br/><li><span>Ben</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>scoretype = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],
                      &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})
peoples = np.array(
    [
        (&quot;zhangfei&quot;, 66, 65, 30),
        (&quot;guanyu&quot;, 95, 85, 98),
        (&quot;zhaoyun&quot;, 93, 92, 96),
        (&quot;huangzhong&quot;, 90, 88, 77),
        (&quot;dianwei&quot;, 80, 90, 90)
    ], dtype=scoretype)
print(&quot;ç§‘ç›® | å¹³å‡æˆç»© | æœ€å°æˆç»© | æœ€å¤§æˆç»© | æ–¹å·® | æ ‡å‡†å·®&quot;)
courses = {&#39;è¯­æ–‡&#39;: peoples[:][&#39;chinese&#39;],
           &#39;è‹±æ–‡&#39;: peoples[:][&#39;english&#39;], &#39;æ•°å­¦&#39;: peoples[:][&#39;math&#39;]}
for course, scores in courses.items():
    print(course, np.mean(scores), np.amin(scores), np.amax(scores), np.std(scores),
          np.var(scores))
print(&#39;Ranking&#39;)
ranking = sorted(peoples, key=lambda x: x[1]+x[2]+x[3], reverse=True)
print(ranking)</p>2019-07-01</li><br/><li><span>å¤•å­</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>ä¸€ã€ä¸ºä»€ä¹ˆç”¨numpyè€Œä¸ç”¨listï¼Ÿ
â‘ å­˜å‚¨ä¸Šï¼Œlistéœ€è¦åŒæ—¶å­˜å‚¨å…ƒç´ å’ŒæŒ‡é’ˆï¼Œè€Œnumpyæ•°ç»„åªå­˜å‚¨å…ƒç´ ï¼ŒèŠ‚çœå†…å­˜å’Œè®¡ç®—æ—¶é—´ã€‚
â‘¡listçš„å…ƒç´ åœ¨ç³»ç»Ÿå†…å­˜ä¸­åˆ†æ•£å­˜å‚¨ï¼Œè€Œnumpyæ•°ç»„å­˜å‚¨åœ¨ä¸€ä¸ªå‡åŒ€è¿ç»­çš„å†…å­˜å—ä¸­ï¼Œéå†å…ƒç´ æ—¶ä¸éœ€è¦æŸ¥æ‰¾å†…å­˜åœ°å€ï¼ŒèŠ‚çœè®¡ç®—èµ„æºã€‚
â‘¢åœ¨å†…å­˜è®¿é—®æ¨¡å¼ä¸­ï¼Œç¼“å­˜ä¼šç›´æ¥æŠŠå­èŠ‚å—ä»RAMåŠ è½½åˆ°CPUå¯„å­˜å™¨ä¸­ã€‚å› ä¸ºæ•°æ®è¿ç»­çš„å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œnumpyç›´æ¥åˆ©ç”¨ç°ä»£CPUçš„çŸ¢é‡åŒ–æŒ‡ä»¤è®¡ç®—ï¼ŒåŠ è½½å¯„å­˜å™¨ä¸­çš„å¤šä¸ªè¿ç»­æµ®ç‚¹æ•°ã€‚å¦å¤–numpyä¸­çš„çŸ©é˜µè®¡ç®—å¯ä»¥é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸CPUè®¡ç®—èµ„æºï¼Œå¤§å¤§æå‡äº†è®¡ç®—æ•ˆç‡ã€‚

äºŒã€å…¶ä»–æ•°æ®ç»“æ„ç±»å‹ï¼šå­—å…¸ã€å…ƒç»„ã€å­—ç¬¦ä¸²

ä¸‰ã€ç»ƒä¹ é¢˜
scoretype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;], &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]})
peoples = np.array([(&#39;ZhangFei&#39;,66,65,30,0),(&#39;GuanYu&#39;,95,85,98,0),(&#39;ZhaoYun&#39;,93,92,96,0),(&#39;HuangZhong&#39;,90,88,77,0),(&#39;DianWei&#39;,80,90,90,0)], dtype=scoretype)
chineses = peoples[:][&#39;chinese&#39;]
englishes = peoples[:][&#39;english&#39;]
maths = peoples[:][&#39;math&#39;]
print(&#39;è¯­æ–‡æˆç»©ï¼š&#39;)
print(&#39;å¹³å‡æˆç»©&#39;,np.mean(chineses))
print(&#39;æœ€å°æˆç»©&#39;,np.amin(chineses))
print(&#39;æœ€å¤§æˆç»©&#39;,np.amax(chineses))
print(&#39;æ–¹å·®&#39;,np.var(chineses))
print(&#39;æ ‡å‡†å·®&#39;,np.std(chineses))
print(&#39;-&#39;*30)
print(&#39;è‹±è¯­æˆç»©ï¼š&#39;)
print(&#39;å¹³å‡æˆç»©&#39;,np.mean(englishes))
print(&#39;æœ€å°æˆç»©&#39;,np.amin(englishes))
print(&#39;æœ€å¤§æˆç»©&#39;,np.amax(englishes))
print(&#39;æ–¹å·®&#39;,np.var(englishes))
print(&#39;æ ‡å‡†å·®&#39;,np.std(englishes))
print(&#39;-&#39;*30)
print(&#39;æ•°å­¦æˆç»©ï¼š&#39;)
print(&#39;å¹³å‡æˆç»©&#39;,np.mean(maths))
print(&#39;æœ€å°æˆç»©&#39;,np.amin(maths))
print(&#39;æœ€å¤§æˆç»©&#39;,np.amax(maths))
print(&#39;æ–¹å·®&#39;,np.var(maths))
print(&#39;æ ‡å‡†å·®&#39;,np.std(maths))
peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]
print(np.sort(peoples,order=&#39;total&#39;))

è¾“å‡ºç»“æœä¸ºï¼š
è¯­æ–‡æˆç»©ï¼š
å¹³å‡æˆç»© 84.8
æœ€å°æˆç»© 66
æœ€å¤§æˆç»© 95
æ–¹å·® 114.96000000000001
æ ‡å‡†å·® 10.721940122944169
------------------------------
è‹±è¯­æˆç»©ï¼š
å¹³å‡æˆç»© 84.0
æœ€å°æˆç»© 65
æœ€å¤§æˆç»© 92
æ–¹å·® 95.6
æ ‡å‡†å·® 9.777525249264253
------------------------------
æ•°å­¦æˆç»©ï¼š
å¹³å‡æˆç»© 78.2
æœ€å°æˆç»© 30
æœ€å¤§æˆç»© 98
æ–¹å·® 634.56
æ ‡å‡†å·® 25.19047439013406

[(b&#39;ZhangFei&#39;, 66, 65, 30, 161) (b&#39;HuangZhong&#39;, 90, 88, 77, 255)
 (b&#39;DianWei&#39;, 80, 90, 90, 260) (b&#39;GuanYu&#39;, 95, 85, 98, 278)
 (b&#39;ZhaoYun&#39;, 93, 92, 96, 281)]

æˆ‘å¯¹ç»“æ„æ•°ç»„ä¸å¤ªç†Ÿæ‚‰ï¼Œæ±‚æ€»åˆ†é‚£é‡Œè¯•äº†å¯¹åˆ‡ç‰‡æ±‚å’ŒæŠ¥é”™äº†ï¼Œçœ‹äº†è¯„è®ºé‡Œè€å¸ˆçš„è§£ç­”æ‰çŸ¥é“åœ¨å®šä¹‰é‡Œåšï¼Œè¿™ä¸ªè¦æ³¨æ„å¤šç»ƒä¹ ã€‚</p>2020-03-21</li><br/><li><span>æŠ¢åœ°ç“œçš„é˜¿å§¨</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>Dataframe å³å°†ç™»åœºï¼å“ˆå“ˆå“ˆ</p>2018-12-22</li><br/><li><span>ç‹å¼ </span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p> &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;] æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p>2019-07-20</li><br/><li><span>å°è‘±æ‹Œè±†è…</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹æ‚¨ï¼Œæ²¡å­¦è¿‡é«˜æ•°ï¼Œæ²¡æ¥è§¦è¿‡è®¡ç®—æœºè¯­è¨€ï¼Œè¦æå‰å»æŠŠå„ç§å‡½æ•°ææ¸…æ¥šå—ï¼Ÿæœ‰æ²¡æœ‰æ¨èçš„åŠæ³•ï¼Œä¹¦ç±ï¼Œè¯¾ç¨‹ï¼Ÿ</p>2018-12-21</li><br/><li><span>qinggeouye</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>import numpy as np

people_type = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;, &#39;total&#39;],
                        &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;, &#39;f&#39;]})
peoples = np.array([(&#39;ZhangFei&#39;, 60, 65, 30, 0), (&#39;GuanYu&#39;, 95, 85, 98, 0),
                    (&#39;ZhaoYun&#39;, 93, 92, 96, 0), (&#39;HuangZhong&#39;, 90, 88, 77, 0),
                    (&#39;DianWei&#39;, 80, 90, 90, 0)], dtype=people_type)

chinese = peoples[:][&#39;chinese&#39;]
math = peoples[:][&#39;math&#39;]
english = peoples[:][&#39;english&#39;]

peoples[:][&#39;total&#39;] = chinese + math + english
print(&quot;rank of total scores is \n %s&quot; % np.sort(peoples, order=&#39;total&#39;))
print(&quot;\n&quot;)

for key in list(people_type.fields.keys())[1:4]:
    print(&quot;mean of %s is %s&quot; % (key, np.mean(peoples[:][key])))
    print(&quot;max of %s is %s&quot; % (key, np.amax(peoples[:][key])))
    print(&quot;min of %s is %s&quot; % (key, np.amin(peoples[:][key])))
    print(&quot;std of %s is %s&quot; % (key, np.std(peoples[:][key])))
    print(&quot;var of %s is %s&quot; % (key, np.var(peoples[:][key])))
    print(&quot;\n&quot;)</p>2019-10-31</li><br/><li><span>å»ºå¼º</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>#ç®€æ˜“å­¦ç”Ÿæˆç»©æ¡£æ¡ˆç®¡ç†
import numpy as np
student_type = np.dtype({&#39;names&#39;:[&#39;studentname&#39;,&#39;Chinese&#39;,&#39;English&#39;,&#39;Math&#39;,&#39;Total&#39;],&#39;formats&#39;:[&#39;U10&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]})
students = np.array([ (&quot;å¼ é£&quot;,66,65,30,None),(&quot;å…³ç¾½&quot;,95,85,98,None),(&quot;èµµäº‘&quot;,93,92,96,None),(&quot;é»„å¿ &quot;,90,88,77,None),(&quot;å…¸éŸ¦&quot;,80,90,90,None)]
                    ,dtype = student_type)
Chinese = students[:][&#39;Chinese&#39;]
English = students[:][&#39;English&#39;]
Math = students[:][&#39;Math&#39;]

#æŒ‡æ ‡åˆ†æ
score_analy={&#39;å¹³å‡æˆç»©&#39;:{&#39;è¯­æ–‡&#39;:np.mean(Chinese),&#39;è‹±è¯­&#39;: np.mean(English),&#39;æ•°å­¦&#39;:np.mean(Math)}
            ,&#39;æœ€å°æˆç»©&#39;:{&#39;è¯­æ–‡&#39;:np.amin(Chinese),&#39;è‹±è¯­&#39;: np.amin(English),&#39;æ•°å­¦&#39;:np.amin(Math)}
            ,&#39;æœ€å¤§æˆç»©&#39;:{&#39;è¯­æ–‡&#39;:np.amax(Chinese),&#39;è‹±è¯­&#39;: np.amax(English),&#39;æ•°å­¦&#39;:np.amax(Math)}
            ,&#39;æ ‡å‡†å·®&#39;  :{&#39;è¯­æ–‡&#39;:np.std(Chinese) ,&#39;è‹±è¯­&#39;: np.std(English) ,&#39;æ•°å­¦&#39;: np.std(Math)}
            ,&#39;æ–¹å·®&#39;    :{&#39;è¯­æ–‡&#39;:np.var(Chinese) ,&#39;è‹±è¯­&#39;: np.var(English) ,&#39;æ•°å­¦&#39;: np.var(Math)}}

#ç»Ÿè®¡æ€»æˆç»©
for i in range(len(students)):
    students[i][&#39;Total&#39;] = sum(list(students[i])[1:-1])

#è¾“å‡ºåˆ†ææŒ‡æ ‡
print(&quot;  æŒ‡æ ‡é¡¹  \t\t   è¯­æ–‡   \t\t   è‹±è¯­   \t\t   æ•°å­¦   &quot;)
print((&quot;-&quot; * 10 +&quot;\t\t&quot;)*4)
for index in score_analy:
    report = f&quot;{index:10}&quot;.format(index) + &quot;\t\t{è¯­æ–‡:&gt;10.2f}\t\t{è‹±è¯­:&gt;10.2f}\t\t{æ•°å­¦:&gt;10.2f}&quot;
    print(report.format_map(score_analy[index]))

print((&quot;-&quot; * 82))

#æŒ‰æ€»æˆç»©è¾“å‡ºæ’å
print(&quot;åæ¬¡\t\tå§“å\t\tæ€»åˆ†&quot;)
print((&quot;-&quot; * 4 +&quot;\t\t&quot;)*3)
    
s = np.sort(students,order=&#39;Total&#39;)
for i in range(len(s)):
    k=-1 * (i+1)
    print(&#39;{rank:4}\t\t{name:4}\t\t{score:&gt;4}&#39;.format(rank=i+1,name=s[k][&#39;studentname&#39;],score=s[k][&#39;Total&#39;]))
</p>2019-06-15</li><br/><li><span>Geek_ce3c1f</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>import numpy as np
persontype = np.dtype({
    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],
    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})
peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,90),
                    (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),
                    (&quot;Dianwei&quot;,80,90,90)],dtype=persontype)

chineses = peoples[:][&#39;chinese&#39;]
maths = peoples[:][&#39;math&#39;]
englishs = peoples[:][&#39;english&#39;]

print(&quot;è¯­æ–‡å¹³å‡åˆ†%.2fï¼Œæœ€å°æˆç»©%dï¼Œæœ€å¤§æˆç»©%dï¼Œæ–¹å·®%.2fï¼Œæ ‡å‡†å·®%.2f&quot; %(np.mean(chineses),np.amin(chineses),np.amax(chineses),np.var(chineses),np.std(chineses)))
print(&quot;æ•°å­¦å¹³å‡åˆ†%d, æœ€å°æˆç»©%dï¼Œæœ€å¤§æˆç»©%dï¼Œæ–¹å·®%dï¼Œæ ‡å‡†å·®%d&quot; %(np.mean(maths),np.amin(maths),np.amax(maths),np.var(maths),np.std(maths)))
print(&quot;è‹±è¯­å¹³å‡åˆ†%d, æœ€å°æˆç»©%dï¼Œæœ€å¤§æˆç»©%dï¼Œæ–¹å·®%dï¼Œæ ‡å‡†å·®%d&quot; %(np.mean(englishs),np.amin(englishs),np.amax(englishs),np.var(englishs),np.std(englishs)))

# chengji = np.array([[66,65,30],[95,85,90],[93,92,96],[90,88,77],[80,90,90]])

rank = np.sort(peoples, axis=None, kind=&#39;mergesort&#39;, order=(&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;))
print(rank)</p>2019-03-11</li><br/>
</ul>