ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ‘æ™”ï¼

å‰é¢æˆ‘ä»¬ä»‹ç»äº† LangChain æœ€æ ¸å¿ƒçš„æŠ½è±¡ï¼Œç›¸ä¿¡ä½ ç°åœ¨å·²ç»èƒ½å¤Ÿç”¨ LangChain å®Œæˆä¸€äº›ä¸€æ¬¡æ€§çš„ç®€å•ä»»åŠ¡äº†ã€‚ä»è¿™ä¸€è®²å¼€å§‹ï¼Œæˆ‘ä»¬ä¼šå°è¯•å¼€å‘ä¸€äº›å¤§æ¨¡å‹åº”ç”¨ã€‚é€šè¿‡è¿™äº›åº”ç”¨ï¼Œä½ ä¼šé€æ¸äº†è§£åˆ°å¸¸è§çš„åº”ç”¨ç±»å‹æœ‰å“ªäº›ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ LangChain å¼€å‘è¿™äº›åº”ç”¨ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜ä¼šé‡åˆ°å¾ˆå¤šä¹‹å‰æ²¡æœ‰è®²åˆ°è¿‡çš„ LangChain æŠ½è±¡ï¼Œæˆ‘ä¼šç»“åˆå¼€å‘çš„å†…å®¹ç»™ä½ åšä¸€äº›ä»‹ç»ã€‚

è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°±ä»æœ€ç®€å•çš„èŠå¤©æœºå™¨äººå¼€å§‹è®²èµ·ã€‚

## ç®€å•çš„èŠå¤©æœºå™¨äºº

å‰é¢è¯´è¿‡ï¼ŒChatGPT ä¹‹æ‰€ä»¥ç«çˆ†ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯æ‹œèŠå¤©æ¨¡å¼æ‰€èµï¼Œäººä»¬å¯¹äºèŠå¤©æ¨¡å¼çš„ç†Ÿæ‚‰ï¼Œé™ä½äº† ChatGPT çš„ç†è§£é—¨æ§›ã€‚å¼€å‘ä¸€ä¸ªå¥½çš„èŠå¤©æœºå™¨äººå¹¶ä¸å®¹æ˜“ï¼Œä½†å¼€å‘ä¸€ä¸ªèŠå¤©æœºå™¨äººï¼Œå°¤å…¶æ˜¯æœ‰äº† LangChain ä¹‹åï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“çš„ã€‚æˆ‘ä»¬è¿™ä¸€è®²çš„ç›®æ ‡å°±æ˜¯å¼€å‘ä¸€ä¸ªç®€å•çš„èŠå¤©æœºå™¨äººï¼Œå®ƒä¹Ÿä¼šæˆä¸ºæˆ‘ä»¬åé¢å‡ è®²çš„åŸºç¡€ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªèŠå¤©æœºå™¨äººæ˜¯æ€æ ·é€æ¸å˜å¾—å¼ºå¤§èµ·æ¥ã€‚

å‡ºäºç®€åŒ–çš„ç›®çš„ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªå‘½ä»¤è¡Œçš„èŠå¤©æœºå™¨äººã€‚ä¸‹é¢å°±æ˜¯è¿™ä¸ªæœ€ç®€ç‰ˆèŠå¤©æœºå™¨äººçš„å®ç°ï¼š

```python
from langchain_openai import ChatOpenAI
from langchain_core.messages import HumanMessage

chat_model = ChatOpenAI(model="gpt-4o-mini")

while True:
    user_input = input("You:> ")
    if user_input.lower() == 'exit':
        break
    stream = chat_model.stream([HumanMessage(content=user_input)])
    for chunk in stream:
        print(chunk.content, end='', flush=True)
    print()
```
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ12ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/14/bf/35/0e3a92a7.jpg" width="30px"><span>æ™´å¤©äº†</span> ğŸ‘ï¼ˆ8ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸ªäººç†è§£çš„ç»“æ„

å¤§æ¨¡å‹è¿”å›çš„æ¶ˆæ¯ =  å†å²è¿è¡Œå™¨(å¤§æ¨¡å‹,  å†å²å­˜å‚¨é€»è¾‘).è°ƒç”¨( [äººç±»æ¶ˆæ¯], äººç±»ä¼šè¯æ ‡è¯†).</div>2024-11-21</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIaxhA2xdIRKQ0rXZhrjcWPYp4hR1mjST6lcBeuYTg0Omf0hyREfr8VH8JWXEyEVq82ht7wdzWsyA/132" width="30px"><span>Geek_682837</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>è¿™é‡Œlangchainçš„ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿç”¨kimiçš„Moonshoté‡åˆ°è¿™ä¸ªé”™äº†ï¼ŒError in RootListenersTracer.on_llm_end callback: KeyError(&#39;message&#39;)ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ</div>2024-11-26</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erD8CwHKGGIia1HwRBxy5GxMLTfGGzOeLjrmZ6ich9Ng7bbPia89iaSibbldnV4uiaKNXFcO2vQ3ztibCrDw/132" width="30px"><span>Williamleelol</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>trimmer | prompt | chat_model è¿™ä¸ªé¡ºåºæ˜¯å›ºå®šçš„ä¹ˆï¼Œè¯•äº†ä¸‹è°ƒæ•´é¡ºåºä¼šæŠ¥é”™ï¼Œæœ‰ä»€ä¹ˆè§„åˆ™ä¹ˆï¼Ÿ</div>2025-01-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/a4/34/0ab08db6.jpg" width="30px"><span>swift</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®æ‰®æ¼”å­”å­çš„é‚£ä¸ªä¾‹å­ä¸­çš„æç¤ºè¯æ¨¡æ¿çš„ç”¨æ³•ï¼Œsystem è¿™ä¸ªè§’è‰²çš„æç¤ºè¯ä¹Ÿä¼šåœ¨æ¯ä¸€è½®ç”¨æˆ·è¾“å…¥çš„æ—¶å€™é‡å¤ï¼Œè¿˜æ˜¯åªæœ‰ç¬¬ä¸€è½®æ—¶å€™ä¼šå‘é€ç»™å¤§æ¨¡å‹ï¼Ÿ</div>2025-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/74/d5/56b3a879.jpg" width="30px"><span>poettian</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ¯”è¾ƒå¥½å¥‡langchainæä¾›çš„è¿™ä¹ˆå¤šapiï¼Œæ€ä¹ˆå»è®°ä½å‘¢ï¼Ÿåˆšå¼€å§‹ä½¿ç”¨ï¼Œæœ‰ç‚¹çœ¼èŠ±ç¼­ä¹±çš„æ„Ÿè§‰</div>2025-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg" width="30px"><span>mgs2002</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>é—®ä¸‹è€å¸ˆï¼Œè¯¾ç¨‹é‡Œé¢çš„ä»£ç æ˜¯æ€æ ·è¿è¡Œèµ·æ¥çœ‹æ•ˆæœçš„ï¼Œç”¨LangGraph Studioè¿™ä¸ªIDEå—</div>2025-01-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/bf/35/0e3a92a7.jpg" width="30px"><span>æ™´å¤©äº†</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>langchain ç”¨golangç‰ˆæœ¬ä¹Ÿæ²¡å…³ç³»å§ å’Œæ•™ç¨‹ä¸å†²çªå§

https:&#47;&#47;github.com&#47;tmc&#47;langchaingo</div>2024-11-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/83/7f/7b1f3f68.jpg" width="30px"><span>willmyc</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆï¼Œä½ å¥½ï¼ç¬¬ä¸‰æ®µä»£ç ä¸­å¥½åƒè¿˜éœ€è¦å¯¼å…¥å¦‚ä¸‹çš„åŒ…æ‰èƒ½æ­£å¸¸è¿è¡Œï¼šfrom langchain.prompts import ChatPromptTemplate, MessagesPlaceholder</div>2024-11-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg" width="30px"><span>å¼ ç”³å‚²</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ç¬¬9è®²æ‰“å¡~
ä½¿ç”¨æŒä¹…åŒ–çš„æ–¹å¼ä¿å­˜å†å²æ¶ˆæ¯ï¼Œå…³é”®å°±æ˜¯å°†Historyç»„ä»¶æ›¿æ¢æˆ`FileChatMessageHistory`ã€‚
å…·ä½“ä»£ç ï¼šhttps:&#47;&#47;gitee.com&#47;zhangshenao&#47;happy-llm&#47;blob&#47;master&#47;%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84AI%E5%BC%80%E5%8F%91%E7%AC%AC%E4%B8%80%E8%AF%BE&#47;4.%E8%A7%92%E8%89%B2%E6%89%AE%E6%BC%94%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA.py</div>2025-01-17</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKicUXKVXIQAmToH3CkpQGjjDHRGSh0RjBpUf82r9WibfrrJMHxZXcuNVgCy8icpI9Mo4He8umCspDDA/132" width="30px"><span>Geek_8cf9dd</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>èŠå¤©æœºå™¨äººçš„å†å²ä¼šè¯å­˜å†…å­˜å®¹æ˜“ä¸¢å¤±ï¼Œæ”¾dbä¸­å­˜æ”¾ä¼šæ›´å¥½äº›å§</div>2025-02-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/e8/55/63189817.jpg" width="30px"><span>MClink</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>openai.NotFoundError: Error code: 404 - {&#39;error&#39;: {&#39;type&#39;: &#39;invalid_request_error&#39;, &#39;code&#39;: &#39;unknown_url&#39;, &#39;message&#39;: &#39;Unknown request URL: POST &#47;chat&#47;completions. Please check the URL for typos, or see the docs at https:&#47;&#47;platform.openai.com&#47;docs&#47;api-reference&#47;.&#39;, &#39;param&#39;: None}}. åŸŸåæ˜¯ä¸æ˜¯è¦é…ç½®ã€‚</div>2025-01-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg" width="30px"><span>Demon.Lee</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>1ã€èŠå¤©æœºå™¨äººï¼šä¸Šä¸‹æ–‡å†…å®¹ï¼ˆå†å²èŠå¤©è®°å½•ï¼‰ï¼Œè§’è‰²ï¼Œä¸Šä¸‹æ–‡å¤§å°ï¼ˆæˆæœ¬ï¼‰ï¼›
2ã€äº†è§£åˆ°å¦ä¸€ç§æ§åˆ¶ä¸Šä¸‹æ–‡çª—å£å¤§å°çš„æ–¹å¼æ˜¯å¯¹å†å²è®°å½•è¿›è¡Œæ‘˜è¦ï¼›
3ã€LCEL çœŸæ˜¯å¤ªæ£’äº†ï¼ŒæŠ½è±¡å‡ºä¸€ä¸ªä¸ªæ¥å£ï¼Œå†ä½¿ç”¨å£°æ˜å¼ç¼–ç¨‹ï¼ŒçœŸæ˜¯ç¼–ç¨‹çš„è‰ºæœ¯ï¼›
4ã€ç¬¬4ç‚¹æ˜¯å•¥æ¥ç€ï¼Œæˆ‘ç»™å¿˜äº†â€¦â€¦</div>2025-01-06</li><br/>
</ul>