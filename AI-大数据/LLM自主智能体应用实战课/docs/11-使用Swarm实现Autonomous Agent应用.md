ä½ å¥½ï¼Œæˆ‘æ˜¯æé”Ÿã€‚

åœ¨ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å®‰è£…å¥½äº† Swarmï¼Œè¿è¡Œäº†ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œç„¶åä¸€èµ·å­¦ä¹ äº† Swarm çš„å®˜æ–¹æ–‡æ¡£ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬æŠŠä¸ŠèŠ‚è¯¾å­¦åˆ°çš„æ–°çŸ¥è¯†æŠ•å…¥å®æˆ˜ï¼ŒåŸºäº Swarm å¼€å‘æˆ‘ä»¬çš„ 24 ç‚¹æ¸¸æˆæ™ºèƒ½ä½“åº”ç”¨ã€‚

æˆ‘ä»¬ä¹‹å‰å·²ç»åŸºäº MetaGPTã€AutoGPT å®ç°è¿‡ä¸¤æ¬¡è¿™ä¸ªåº”ç”¨ï¼Œè¿™èŠ‚è¯¾è¦åšçš„å·¥ä½œå°±æ˜¯å°†ä¹‹å‰çš„è®¾è®¡ç§»æ¤åˆ° Swarmã€‚

## è§’è‰²å»ºæ¨¡å’Œå·¥ä½œæµè®¾è®¡

é¦–å…ˆæˆ‘ä»¬è¦åšçš„å·¥ä½œè¿˜æ˜¯é’ˆå¯¹ Swarm æ¥åšè§’è‰²å»ºæ¨¡å’Œå·¥ä½œæµè®¾è®¡ã€‚

ä»æ¦‚å¿µä¸Šè®²ï¼ŒSwarm åº”ç”¨ä¸­çš„æ¦‚å¿µå…¶å®æ›´æ¥è¿‘ AutoGPTã€‚Swarm çš„ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µæ˜¯ Agentï¼ˆæ™ºèƒ½ä½“ï¼‰å’Œ Handoffï¼ˆç§»äº¤ï¼‰ï¼ŒAgent ä¸ AutoGPT çš„ Agent å¯¹åº”ï¼ŒHandoff å¯¹åº”ç€ AutoGPT Builder å›¾å½¢ç•Œé¢ä¸­ä¸¤ä¸ª Agent ä¹‹é—´çš„é‚£äº›è¿æ¥å…³ç³»ï¼ˆè¿æ¥çº¿ä»¥åŠç›¸å…³çš„è¾“å…¥ã€è¾“å‡ºæ•°æ®ï¼‰ã€‚å› æ­¤ Swarm ç‰ˆ 24 ç‚¹æ¸¸æˆæ™ºèƒ½ä½“åº”ç”¨çš„è§’è‰²å»ºæ¨¡å’Œå·¥ä½œæµè®¾è®¡ä¸ AutoGPT ç‰ˆå®Œå…¨ç›¸åŒï¼ŒåŒæ ·ä¹Ÿåˆ’åˆ†ä¸º 4 ä¸ª Agentï¼š**GameDealer**ã€**MathProdigy**ã€**GameJudger**ã€**GamePlayer**ã€‚

æˆ‘ç›´æ¥æŠŠ 08 è¯¾ä¸­çš„æµç¨‹å›¾å¤åˆ¶è¿‡æ¥ã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/bc/84/bc46948cd46f8529ea921f306374c584.png?wh=878x932)

å› ä¸º Swarm çš„æ¯ä¸€ä¸ª Agent åœ¨è¿è¡Œ client.run() æ—¶éƒ½éœ€è¦è®¿é—® LLMï¼Œè€Œæˆ‘ä»¬ä¹‹å‰åœ¨å®ç° MetaGPTã€AutoGPT ç‰ˆçš„ 24 ç‚¹æ¸¸æˆæ™ºèƒ½ä½“åº”ç”¨æ—¶ï¼ŒMathProdigy å’Œ GamePlayer è¿™ä¸¤ä¸ª Agentï¼ˆæˆ– Roleï¼‰æ˜¯æ²¡æœ‰è®¿é—® LLM çš„ã€‚å¯¹äº MathProdigy å’Œ GamePlayerï¼Œè²Œä¼¼æœ€ç›´æ¥çš„æ–¹å¼æ˜¯ä¸ä½¿ç”¨ Swarm çš„ Agentï¼Œè€Œæ˜¯ç”¨è‡ªå®šä¹‰çš„ç±»æ¥å®ç°ã€‚è¿™æ ·åšç¡®å®ä¹Ÿèƒ½å®ç° 24 ç‚¹æ¸¸æˆæ™ºèƒ½ä½“åº”ç”¨ï¼Œä¸è¿‡ä¸ºäº†å±•ç¤º Swarm è°ƒç”¨å¤–éƒ¨å‡½æ•°ï¼ˆå¤–éƒ¨å·¥å…·ï¼‰çš„èƒ½åŠ›ï¼Œä¹Ÿä¸ºäº†ä»£ç çš„ä¸€è‡´æ€§ï¼Œæˆ‘å†³å®šæŠŠå®ƒä»¬ 4 ä¸ªå…¨éƒ¨å®ç°ä¸º Swarm çš„ Agentã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ2ï¼‰</strong></div><ul>
<li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/adf8X0vmoJN8EuJOpIs81VyVmib9zgxTeWheic1C3DKfFeFT0os67qbicsRFHUeMnz7nKQ25XHp2r7wlbX8KXfLDA/132" width="30px"><span>ç³ç²‘ä¸æ˜¯é¥­</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®è¿™æ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„å‘¢ï¼Ÿ
å®šä¹‰ç©å®¶ agent, æœ‰å‡½æ•° get_human_reply_funcè·å– ç”¨æˆ·è¾“å…¥ã€‚
```python
agent_david = Agent(
    name=&quot;GamePlayer&quot;,
    instructions=get_instruction,
    model=&quot;qwen2.5&quot;,
    functions=[get_human_reply_func],
)
``` 

è¿è¡Œagent è¿™é‡Œï¼Œè¿™é‡Œæœ‰ user_prompt.
```python
    response = client.run(
        agent=agent_david,
        messages=[{&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: get_user_prompt(context_var_dict)}],
        context_variables=context_var_dict
    )
    for message in response.messages:
        print(f&quot;message is: {message}&quot;)
    human_reply = response.messages[-1][&quot;content&quot;]
    print(human_reply)
    return human_reply
```
æ˜¯ client.run() è¿è¡Œåï¼Œæ˜¯å…ˆè¿è¡Œçš„ get_human_reply_func å—ï¼Ÿ ç„¶åå†å»è·å– user_prompt?  ä¸ºä»€ä¹ˆresponse ä¼šæœ‰å¥½å‡ ä¸ªå‘¢ï¼ˆæ•°å­¦è¡¨è¾¾å¼ä¹Ÿæ•è·äº†ï¼Œdeal ä¹Ÿé”™è¯¯æ•è·äº†ï¼‰ï¼Ÿ</div>2025-02-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/6c/79/f098c11d.jpg" width="30px"><span>YX</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>åœ¨ä½¿ç”¨GamePlayerçš„æ—¶å€™ï¼Œå‘ç°ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œå½“è¾“å…¥ç®—æœ¯è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæ¨¡å‹æœ€åä¼šè¿”å›dealï¼Œæˆ‘ç¨å¾®æŠŠæç¤ºè¯æ”¹äº†ä¸‹ï¼š
What&#39;s the human reply of {last_cards_posted}? Just return the human reply itself and do not add anything else, such as &#39;The human reply ...&#39;. If the input is an arithmetic expression, return it as is.</div>2025-02-01</li><br/>
</ul>