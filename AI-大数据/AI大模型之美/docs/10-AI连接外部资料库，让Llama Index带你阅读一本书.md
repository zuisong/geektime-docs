ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ–‡æµ©ã€‚

æœ‰ä¸å°‘äººåœ¨ä½¿ç”¨OpenAIæä¾›çš„GPTç³»åˆ—æ¨¡å‹çš„æ—¶å€™ï¼Œéƒ½åé¦ˆæ•ˆæœå¹¶ä¸å¥½ã€‚è¿™äº›åé¦ˆä¸­æœ‰ä¸€å¤§ç±»é—®é¢˜ï¼Œæ˜¯å›ç­”ä¸äº†ä¸€äº›ç®€å•çš„é—®é¢˜ã€‚æ¯”å¦‚å½“æˆ‘ä»¬ç”¨ä¸­æ–‡é—®AIä¸€äº›äº‹å®æ€§çš„é—®é¢˜ï¼ŒAIå¾ˆå®¹æ˜“èƒ¡ç¼–ä¹±é€ ã€‚è€Œå½“ä½ é—®å®ƒæœ€è¿‘å‘ç”Ÿçš„æ–°é—»äº‹ä»¶çš„æ—¶å€™ï¼Œå®ƒå°±å¹²è„†å‘Šè¯‰ä½ å®ƒä¸çŸ¥é“21å¹´ä¹‹åçš„äº‹æƒ…ã€‚

æœ¬æ¥å‘¢ï¼Œæˆ‘å†™åˆ°è¿™é‡Œå°±å¯ä»¥äº†ã€‚ä¸è¿‡åˆ°äº†3æœˆ24æ—¥ï¼ŒOpenAIæ¨å‡ºäº†ChatGPT Pluginsè¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥è®©ChatGPTé€šè¿‡æ’ä»¶çš„å½¢å¼é“¾æ¥å¤–éƒ¨çš„ç¬¬ä¸‰æ–¹åº”ç”¨ã€‚æˆ‘è‡ªå·±ä¹Ÿè¿˜åœ¨æ’é˜Ÿç­‰waiting listï¼Œæ‰€ä»¥æš‚æ—¶ä¹Ÿæ— æ³•ä½“éªŒã€‚ä¸è¿‡ï¼Œå³ä½¿æœ‰äº†ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½ç¡®ä¿è‡ªå·±æƒ³è¦çŸ¥é“çš„ä¿¡æ¯æ­£å¥½è¢«å…¶ä»–äººæä¾›äº†ã€‚è€Œä¸”ï¼Œæœ‰äº›ä¿¡æ¯å’Œé—®é¢˜æˆ‘ä»¬åªæƒ³æä¾›ç»™è‡ªå·±å…¬å¸çš„å†…éƒ¨ä½¿ç”¨ï¼Œå¹¶ä¸æƒ³å¼€æ”¾ç»™æ‰€æœ‰äººã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æ—¢å¸Œæœ›èƒ½å¤Ÿåˆ©ç”¨OpenAIçš„å¤§è¯­è¨€æ¨¡å‹çš„èƒ½åŠ›ï¼Œä½†æ˜¯åˆéœ€è¦è¿™äº›èƒ½åŠ›ä»…ä»…åœ¨æˆ‘ä»¬è‡ªå·±æŒ‡å®šçš„æ•°æ®ä¸Šã€‚é‚£ä¹ˆè¿™ä¸€è®²ï¼Œå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚

## å¤§å‹è¯­è¨€æ¨¡å‹çš„ä¸è¶³ä¹‹å¤„

æˆ‘ä»¬å…ˆæ¥å°è¯•é—®ChatGPTä¸€ä¸ªäººå°½çš†çŸ¥çš„å¸¸è¯†ï¼Œâ€œé²è¿…å…ˆç”Ÿå»æ—¥æœ¬å­¦ä¹ åŒ»å­¦çš„è€å¸ˆæ˜¯è°â€ï¼Œç»“æœå®ƒç»™å‡ºçš„ç­”æ¡ˆæ˜¯é²è¿…çš„å¥½å‹ï¼Œå†…å±±ä¹¦åº—çš„è€æ¿å†…å±±å®Œé€ ï¼Œè€Œä¸æ˜¯å¤§å®¶éƒ½å­¦ä¹ è¿‡çš„è—¤é‡å…ˆç”Ÿã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/89/64/891fc431e1cd46b1d45f60fe79c2e964.png?wh=704x264)

ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œå’Œå¤§æ¨¡å‹çš„åŸç†ä»¥åŠå®ƒä½¿ç”¨è®­ç»ƒçš„æ•°æ®é›†æ˜¯æœ‰å…³çš„ã€‚å¤§è¯­è¨€æ¨¡å‹çš„åŸç†ï¼Œå°±æ˜¯åˆ©ç”¨è®­ç»ƒæ ·æœ¬é‡Œé¢å‡ºç°çš„æ–‡æœ¬çš„å‰åå…³ç³»ï¼Œé€šè¿‡å‰é¢çš„æ–‡æœ¬å¯¹æ¥ä¸‹æ¥å‡ºç°çš„æ–‡æœ¬è¿›è¡Œæ¦‚ç‡é¢„æµ‹ã€‚å¦‚æœç±»ä¼¼çš„å‰åæ–‡æœ¬å‡ºç°å¾—è¶Šå¤šï¼Œé‚£ä¹ˆè¿™ä¸ªæ¦‚ç‡åœ¨è®­ç»ƒè¿‡ç¨‹é‡Œä¼šæ”¶æ•›åˆ°å°‘æ•°æ­£ç¡®ç­”æ¡ˆä¸Šï¼Œå›ç­”å°±å‡†ç¡®ã€‚å¦‚æœè¿™æ ·çš„æ–‡æœ¬å¾ˆå°‘ï¼Œé‚£ä¹ˆè®­ç»ƒè¿‡ç¨‹é‡Œå°±ä¼šæœ‰ä¸€å®šçš„éšæœºæ€§ï¼Œå¯¹åº”çš„ç­”æ¡ˆå°±å®¹æ˜“ä¼¼æ˜¯è€Œéã€‚è€Œåœ¨GPT-3çš„æ¨¡å‹é‡Œï¼Œè™½ç„¶æ•´ä½“çš„è®­ç»ƒè¯­æ–™å¾ˆå¤šï¼Œä½†æ˜¯ä¸­æ–‡è¯­æ–™å¾ˆå°‘ã€‚åªæœ‰ä¸åˆ°1%çš„è¯­æ–™æ˜¯ä¸­æ–‡çš„ï¼Œæ‰€ä»¥å¦‚æœé—®å¾ˆå¤šä¸­æ–‡ç›¸å…³çš„çŸ¥è¯†æ€§æˆ–è€…å¸¸è¯†æ€§é—®é¢˜ï¼Œå®ƒçš„å›ç­”å¾€å¾€å°±å¾ˆæ‰¯ã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ30ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/24/ad/26/767527f6.jpg" width="30px"><span>Owen</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æˆªæ­¢åˆ°ç›®å‰ï¼Œæœ€æ–°èƒ½è¿è¡Œçš„ä»£ç 

&#39;&#39;&#39;
å½’çº³æ€»ç»“æ–‡ç« å†…å®¹
&#39;&#39;&#39;
from langchain.chat_models import ChatOpenAI
from langchain.text_splitter import SpacyTextSplitter
from llama_index.core import SummaryIndex, ServiceContext, SimpleDirectoryReader
from llama_index.core.node_parser import SentenceSplitter

documents = SimpleDirectoryReader(input_dir=&quot;data&quot;).load_data() # åªèƒ½å¡«å†™æ–‡ä»¶å¤¹ï¼Œä¸èƒ½å…·ä½“åˆ°æ–‡ä»¶

service_context = ServiceContext.from_defaults(
    llm=ChatOpenAI(temperature=0, model_name=&quot;gpt-3.5-turbo&quot;, max_tokens=1000, n=1),
    node_parser=SentenceSplitter(chunk_size=512, chunk_overlap=20),
)

index = SummaryIndex.from_documents(documents = documents, service_context = service_context)
query_engine = index.as_query_engine()
response = query_engine.query(&quot;ç”¨ä¸­æ–‡æ€»ç»“è¿™ä¸ªæ•…äº‹&quot;)

print(response)</div>2024-03-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/37/a5/56/b3cf71a9.jpg" width="30px"><span>Penguin Shi</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ã€Šè—¤é‡å…ˆç”Ÿã€‹è¾“å‡ºæ‘˜è¦çš„ä»£ç ï¼Œå› ä¸ºä»£ç æ›´æ–°ï¼Œæœ‰bugï¼Œå‚è€ƒhttps:&#47;&#47;gpt-index.readthedocs.io&#47;en&#47;latest&#47;guides&#47;primer&#47;usage_pattern.htmlæ›´æ–°ä»£ç å¦‚ä¸‹ï¼š

from langchain.chat_models import ChatOpenAI
from langchain.text_splitter import SpacyTextSplitter
from llama_index import ListIndex, LLMPredictor, ServiceContext
from llama_index import (
    VectorStoreIndex,
    get_response_synthesizer,
)
from llama_index.retrievers import VectorIndexRetriever
from llama_index.query_engine import RetrieverQueryEngine
from llama_index.node_parser import SimpleNodeParser

# define LLM
llm_predictor = LLMPredictor(llm=ChatOpenAI(temperature=0, model_name=&quot;gpt-3.5-turbo&quot;, max_tokens=1024))

text_splitter = SpacyTextSplitter(pipeline=&quot;zh_core_web_sm&quot;, chunk_size = 2048)
parser = SimpleNodeParser(text_splitter=text_splitter)
documents = SimpleDirectoryReader(&#39;.&#47;data&#47;mr_fujino&#39;).load_data()

index = ListIndex.from_documents(documents)
retriever = index.as_retriever()

query_engine = RetrieverQueryEngine.from_args(retriever, response_mode=&#39;tree_summarize&#39;)
response = query_engine.query(&quot;ä¸‹é¢é²è¿…å…ˆç”Ÿä»¥ç¬¬ä¸€äººç§°â€˜æˆ‘â€™å†™çš„å†…å®¹ï¼Œè¯·ä½ ç”¨ä¸­æ–‡æ€»ç»“ä¸€ä¸‹:&quot;)

print(response)

å¦ç›®å‰æ–‡æ¡£ä¸­ï¼Œ&quot;æˆ‘æŠŠä»ç½‘ä¸Šæ‰¾åˆ°çš„ã€Šè—¤é‡å…ˆç”Ÿã€‹è¿™ç¯‡æ–‡ç« å˜æˆäº†ä¸€ä¸ª txt æ–‡ä»¶ï¼Œæ”¾åœ¨äº† data&#47;mr_fujino è¿™ä¸ªç›®å½•ä¸‹ã€‚æˆ‘ä»¬çš„ä»£ç ä¹Ÿéå¸¸ç®€å•ï¼Œä¸€å…±æ²¡æœ‰å‡ è¡Œã€‚&quot;æ­¤æ–‡å­—ä¸‹æ–¹ä»£ç çš„ï¼Œç¬¬7è¡Œï¼Œindex = GPTSimpleVectorIndex.from_documents(documents)ä¸­ï¼Œâ€œGPTSimpleVectorIndexâ€è¿˜æœªæ”¹æˆâ€œGPTVectorStoreIndexâ€ ï¼›ç¬¬9è¡Œï¼Œæ›´æ”¹ä¸ºindex.storage_context.persist(&#39;index_mr_fujino&#39;)ã€‚
è¯·æ›´æ”¹ï¼Œæ–¹ä¾¿åç»­åŒå­¦å­¦ä¹ å¹¶è¿è¡Œä»£ç ã€‚</div>2023-07-09</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqQOqqTaRhPyuHICBpPfMcnNgg7xXmkrNZwlsibyLekYzNsuHdwdk1JLTUicbm4Oq78Zx17TFib2EusQ/132" width="30px"><span>Wise</span> ğŸ‘ï¼ˆ20ï¼‰ ğŸ’¬ï¼ˆ5ï¼‰<div>åœ¨llama_index V0.6.1 ç‰ˆæœ¬ä¸­ï¼Œæ²¡æœ‰GPTSimpleVectorIndex ç±»äº†
import openai, os
from llama_index import GPTVectorStoreIndex, SimpleDirectoryReader
os.environ[&quot;OPENAI_API_KEY&quot;] = &#39;&#39;
# åŠ è½½ documents
documents = SimpleDirectoryReader(&#39;.&#47;data&#47;mr_fujino&#39;).load_data()
index = GPTVectorStoreIndex.from_documents(documents)
index.storage_context.persist(&#39;index_mr_fujino&#39;)

# ä»ç£ç›˜é‡æ–°åŠ è½½ï¼š
from llama_index import StorageContext, load_index_from_storage
# rebuild storage context
storage_context = StorageContext.from_defaults(persist_dir=&quot;.&#47;index_mr_fujino&quot;)
# load index
index = load_index_from_storage(storage_context)
query_engine = index.as_query_engine()
response = query_engine.query(&quot;é²è¿…å…ˆç”Ÿåœ¨æ—¥æœ¬å­¦ä¹ åŒ»å­¦çš„è€å¸ˆæ˜¯è°ï¼Ÿ&quot;)
print(response)

å‚è€ƒå®˜æ–¹æ–‡æ¡£è¿æ¥ï¼šhttps:&#47;&#47;gpt-index.readthedocs.io&#47;en&#47;latest&#47;getting_started&#47;starter_example.html</div>2023-05-07</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhuGLVRYZibOTfMumk53Wn8Q0Rkg0o6DzTicbibCq42lWQoZ8lFeQvicaXuZa7dYsr9URMrtpXMVDDww/132" width="30px"><span>hello</span> ğŸ‘ï¼ˆ15ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<div>æƒ³è¯·æ•™ä¸‹è€å¸ˆï¼Œæˆ‘ä»¬å–‚çš„è¯­æ–™ï¼Œä¼šè¢«å…¶ä»–äººçœ‹åˆ°ä½¿ç”¨å—ï¼Ÿ</div>2023-04-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/64/53/c93b8110.jpg" width="30px"><span>daz2yy</span> ğŸ‘ï¼ˆ11ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œè¯·é—®ä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æŠŠå®ƒç”¨ä½œ QA ç³»ç»Ÿçš„æ—¶å€™æœ‰ä¸ªé—®é¢˜ï¼ŒåŸæœ¬ QA å°±æœ‰æ ‡å‡†çš„å›ç­”æ¨¡ç‰ˆï¼Œé‡Œé¢åŒ…æ‹¬æœ‰æ–‡æ¡£åœ°å€ã€æ“ä½œæ­¥éª¤ç­‰ï¼›å¦‚æœè®© GPT æ ¹æ®è¿™ä¸ªæ¨¡ç‰ˆæ¥å›ç­”é—®é¢˜ï¼Œä»–ä¼šè‡ªç”±å‘æŒ¥ï¼Œä¼šæ¼æ‰ä¸€éƒ¨åˆ†å†…å®¹ï¼›æƒ³æ‹¥æœ‰ AI è‡ªç”±å¯¹è¯çš„èƒ½åŠ›ï¼Œåˆæƒ³æœ‰å›ºå®šçš„å›ç­”æ¨¡ç‰ˆè¿™ä¸ªæ€ä¹ˆèƒ½è¾ƒå¥½çš„å…¼é¡¾å‘¢ï¼Ÿ</div>2023-04-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/d3/cb/08bbf097.jpg" width="30px"><span>Terry</span> ğŸ‘ï¼ˆ8ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹langchainæˆ‘ç†è§£ä¹Ÿæ˜¯ä¸€ä¸ªLLMåº”ç”¨æ¡†æ¶ï¼Œå®ƒçš„åŠŸèƒ½å’Œç‰ˆæœ¬ä¹Ÿæ›´æ–°å¾ˆå¿«ã€‚å®ƒå’Œllama_indexçš„åŒºåˆ†æ˜¯ä»€ä¹ˆï¼Ÿåœ¨LLMåº”ç”¨å¼€å‘ä¸Šï¼Œæˆ‘ä»¬ä¸€èˆ¬æ€ä¹ˆé€‰æ‹©ä¼šæ¯”è¾ƒå¥½ï¼Ÿ</div>2023-04-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/d2/74/7861f504.jpg" width="30px"><span>é©¬å¬</span> ğŸ‘ï¼ˆ8ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>åˆ†äº«ä¸€ä¸ªåŠ è½½MySQLæ•°æ®çš„ä¾‹å­ï¼š
from llama_index import GPTSimpleVectorIndex,download_loader

DatabaseReader = download_loader(&#39;DatabaseReader&#39;)

reader = DatabaseReader(
    scheme = &quot;mysql&quot;, # Database Scheme
    host = &quot;localhost&quot;, # Database Host
    port = &quot;3306&quot;, # Database Port
    user = &quot;martin&quot;, # Database User
    password = &quot;xxxxxx&quot;, # Database Password
    dbname = &quot;martin&quot;, # Database Name
)

query = f&quot;&quot;&quot;
select * from student_info
&quot;&quot;&quot;

documents = reader.load_data(query=query)
print(documents)</div>2023-04-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/81/49/2451a946.jpg" width="30px"><span>Oxygen Au æ˜•</span> ğŸ‘ï¼ˆ6ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>
response = list_index.query(&quot;ä¸‹é¢é²è¿…å…ˆç”Ÿä»¥ç¬¬ä¸€äººç§°â€˜æˆ‘â€™å†™çš„å†…å®¹ï¼Œè¯·ä½ ç”¨ä¸­æ–‡æ€»ç»“ä¸€ä¸‹:&quot;, response_mode=&quot;tree_summarize&quot;)
print(response)


ä¸Šé¢è¿™æ®µä»£ç æŠ¥é”™ï¼ŒAttributeError: &#39;GPTListIndex&#39; object has no attribute &#39;query&#39; ï¼Œ æˆ‘ç”¨çš„æ˜¯llama-index 0.6.1

ä¸‹é¢æ˜¯æ­£ç¡®çš„ä»£ç 
query_engine = list_index.as_query_engine(response_mode=&quot;tree_summarize&quot;)
response = query_engine.query(&quot;ä¸‹é¢é²è¿…å…ˆç”Ÿä»¥ç¬¬ä¸€äººç§°â€˜æˆ‘â€™å†™çš„å†…å®¹ï¼Œè¯·ä½ ç”¨ä¸­æ–‡æ€»ç»“ä¸€ä¸‹:&quot;)
print(response)

ç»“æœï¼š é²è¿…å…ˆç”Ÿåœ¨æ—¥æœ¬å­¦ä¹ åŒ»å­¦æ—¶é‡åˆ°äº†è—¤é‡ä¸¥ä¹éƒæ•™æˆï¼Œä»–å¾ˆæœ‰å­¦é—®ï¼Œå¯¹å­¦ç”Ÿä¹Ÿå¾ˆå…³å¿ƒï¼Œç”šè‡³å¸®åŠ©é²è¿…ä¿®æ”¹è®²ä¹‰ã€‚ä½†é²è¿…å½“æ—¶ä¸å¤Ÿç”¨åŠŸï¼Œæœ‰æ—¶ä¹Ÿå¾ˆä»»æ€§ã€‚åœ¨å­¦ä¹ ä¸­ï¼Œä»–é‡åˆ°äº†ä¸€äº›å›°éš¾å’Œä¸æ„‰å¿«çš„äº‹æƒ…ï¼Œæœ€ç»ˆå†³å®šç¦»å¼€åŒ»å­¦å»å­¦ä¹ ç”Ÿç‰©å­¦ã€‚ç¦»å¼€å‰ï¼Œè—¤é‡å…ˆç”Ÿé€ç»™ä»–ä¸€å¼ ç…§ç‰‡ï¼Œå¹¶å¸Œæœ›ä»–èƒ½ä¿æŒè”ç³»ã€‚é²è¿…å¾ˆä¹…æ²¡æœ‰å’Œä»»ä½•äººé€šä¿¡ï¼Œä½†æƒ³èµ·äº†è¿™ä½çƒ­å¿ƒçš„è€å¸ˆï¼Œä»–çš„ç…§ç‰‡æŒ‚åœ¨é²è¿…çš„æˆ¿é—´é‡Œï¼Œæ¯å½“ä»–ç–²å€¦æ—¶çœ‹åˆ°ç…§ç‰‡å°±ä¼šæ„Ÿåˆ°å‹‡æ°”å’Œè‰¯å¿ƒå‘ç°ã€‚</div>2023-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ae/ef/cbb8d881.jpg" width="30px"><span>é»„æ™ºè£</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç°åœ¨æœ‰å¾ˆå¤šåº”ç”¨ï¼Œåœ¨ä½ æŠŠæ–‡æ¡£ä¸Šä¼ ä¹‹åï¼Œè¿˜ä¼šç»™ä½ ä¸€ç³»åˆ—çš„æç¤ºï¼Œå‘Šè¯‰ä½ å¯ä»¥å‘å¯¹åº”çš„ä¹¦æˆ–è€…è®ºæ–‡é—®ä»€ä¹ˆé—®é¢˜ã€‚
------ å¯ä»¥æ ¹æ®ç´¢å¼•çš„æ–‡æœ¬ï¼Œè®©chatgpt è®¾è®¡å‡ ä¸ªæé—®çš„é—®é¢˜</div>2023-05-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/0b/80/a0533acb.jpg" width="30px"><span>å‹‡.Max</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>ä¸Šé¢from llama_index import GPTSimpleVectorIndexä¼šæŠ¥é”™ï¼Œå› ä¸ºç°åœ¨å·²ç»æ”¹æˆäº†GPTVectorStoreIndexã€‚
from llama_index import GPTVectorStoreIndex &#47;&#47;è€å¸ˆçœ‹åˆ°åå¯ä»¥æ›´æ–°ä¸‹
</div>2023-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/36/a8/1c/d231cbfb.jpg" width="30px"><span>Viola</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div> æœ‰åŒå­¦é‡åˆ°å—ï¼Ÿ
type object &#39;GPTSimpleVectorIndex&#39; has no attribute &#39;from_documents&#39;</div>2023-04-05</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL1ibGVhrcN2dn9g9ib0NRotH876fWRVdgMSiaW4bKtBZJjNUVblh8IYacaahYzAnUhcYZn8V0eXzgnw/132" width="30px"><span>hawk</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>è¿™äº›é¢„é€‰çš„é—®é¢˜ï¼Œåº”è¯¥ä¹Ÿæ˜¯é€šè¿‡ç»„åˆç‰¹å®šçš„æç¤ºè¯­ï¼Œå’Œæ®µè½æ‘˜è¦ï¼Œæ‰”ç»™GPTå¾—åˆ°çš„å§ï¼Ÿ</div>2023-04-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/7e/ca/0689da8f.jpg" width="30px"><span>ç‰›å‘³æµ“é¾™é­æµ</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>æ‰€ä»¥llama_indexè·ŸchatGPTæ²¡ä»€ä¹ˆå…³ç³»æ˜¯å—ã€‚ã€‚è¿˜æ˜¯è¯´è¿™ä¸ªåŒ…æœ¬èº«ä¹Ÿåœ¨è·ŸopenAIæ‰“äº¤é“ï¼Œçœ‹ä»£ç çœ‹ä¸å‡ºæ¥</div>2023-05-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/70/f5/afdf4a68.jpg" width="30px"><span>ä¸œä¸´æ²§æµ·</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å»ºè®®è€å¸ˆå®‰è£…çš„åº“æ–‡ä»¶æ ‡æ˜ä¸€ä¸‹ç‰ˆæœ¬å·ï¼Œé‡åˆ°è¿™æ ·é—®é¢˜å¥½å‡ æ¬¡äº†ï¼Œæ¯æ¬¡éƒ½è¦æµªè´¹å¤§é‡æ—¶é—´ã€‚
llama_indexç‰ˆæœ¬éƒ½åˆ°v0.6.5ï¼Œæ›´æ–°å¤ªå¿«äº†</div>2023-05-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/f7/a1/49643e20.jpg" width="30px"><span>snow</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>æƒ³è¯·æ•™ä¸‹è€å¸ˆï¼Œä¸ºä»€ä¹ˆæˆ‘åœ¨è°ƒç”¨query çš„æ—¶å€™ï¼Œæç¤ºè¯´BaseQueryEngine.query() got an unexpected keyword argument &#39;response_mode&#39; ï¼Ÿ  å‘ç°å½“å®šä¹‰ list_index = GPTListIndex(nodes=nodes, service_context=service_context)ï¼Œ æ²¡æ³•ç›´æ¥è°ƒç”¨list_index.query() ,è€Œéœ€è¦  list_index.as_query_engine().query() è¿™æ ·å­è°ƒç”¨ã€‚ </div>2023-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/50/da/ed4803cb.jpg" width="30px"><span>CCC</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>è€å¸ˆindexåˆ›å»ºçš„è¿‡ç¨‹ä¸­ä¼šæŠŠæ–‡æœ¬å†…å®¹ä¼ ç»™openaiè¿›è¡Œembeddingå¬å›å—ï¼Œè¿™ä¸ªåœ°æ–¹ä¸å¤ªç†è§£ç´¢å¼•åˆ›å»ºæ˜¯å®Œå…¨æœ¬åœ°çš„è¿˜æ˜¯éœ€è¦openaiçš„å‘é‡æ•°æ®</div>2023-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/36/a1/24/98e4985d.jpg" width="30px"><span>æ©˜å­ğŸŠæ±½æ°´</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<div>é‡æ–°è¾“å…¥äº†
!pip install -U llama-index
è¿˜æ˜¯æŠ¥é”™ï¼Œè€å¸ˆå¯ä»¥å¸®å¿™çœ‹çœ‹å—ï¼Ÿ

ImportError: cannot import name &#39;GPTSimpleVectorIndex&#39; from &#39;llama_index&#39; (&#47;usr&#47;local&#47;lib&#47;python3.10&#47;dist-packages&#47;llama_index&#47;__init__.py)</div>2023-05-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/0f/c1/92c540fe.jpg" width="30px"><span>joy  à½¼</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>é’ˆå¯¹å¼€æºæ¨¡å‹ï¼Œä»€ä¹ˆåœºæ™¯å»ºè®®ä½¿ç”¨ç¬¬äºŒå¤§è„‘ï¼Ÿä»€ä¹ˆåœºæ™¯å»ºè®®ä½¿ç”¨finetune?</div>2023-04-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/17/57/ac61fff9.jpg" width="30px"><span>å¯ç†™</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œä¸ºä»€ä¹ˆ ç”¨ GPTListIndex æ¶ˆè€—çš„ token æ¯” ç”¨  GPTSimpleVectorIndex çš„è¦å¤šï¼Œ GPTSimpleVectorIndex ä¸æ˜¯è¿˜æœ‰ç”¨åˆ°  Embedding å—ï¼Ÿ</div>2023-04-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/51/bc/c7514a30.jpg" width="30px"><span>Dev.lu</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è°¢è°¢è€å¸ˆåˆ†äº«ï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œ
1. è¯­æ–™çš„å¤§å°ä¼šä¸ä¼šå½±å“å›ç­”é—®é¢˜çš„å»¶æ—¶ï¼Ÿ
2. å¦‚æœéœ€è¦å¯¹è¯­æ–™è¿›è¡Œæ·»åŠ æˆ–è€…å‡å°‘ï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡è·‘ä»£ç ï¼Ÿ
3. å¦‚æœç¦»çº¿è¯­æ–™æ•°æ®å¾ˆå¤§ï¼Œindexè¿‡åçš„è¯­æ–™æ•°æ®æœ‰æ²¡æœ‰å¯èƒ½å¯¼è‡´å†…å­˜ä¸å¤Ÿï¼Œæˆ–è€…OpenAIçš„APIä¼šé™åˆ¶requestçš„å¤§å°å—ï¼Ÿè¿˜æ˜¯æ”¶è´¹ä¸åŒ</div>2023-04-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f5/99/5bf198e3.jpg" width="30px"><span>å­Ÿå¥</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>å¦‚æœæ˜¯ä»£ç ä»“åº“ï¼Œè¿˜é€‚åˆç”¨embeddingè¿™ä¸ªæ–¹æ¡ˆå—ï¼Ÿæˆ‘çœ‹ä¸­ç§‘é™¢å¼€æºçš„é‚£ä¸ªæ–¹æ¡ˆå°±å¯ä»¥æ€»ç»“æºç ï¼Œå‘æºç æé—®ä»€ä¹ˆçš„ï¼Œä¸çŸ¥é“æ˜¯æ€ä¹ˆåšçš„</div>2023-04-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/21/60/ad/03351e6e.jpg" width="30px"><span>xbc</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œå¸¦æˆ‘ä»¬ç©ç© modelscope.cn</div>2023-04-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/19/e1/a7fbc963.jpg" width="30px"><span>Warren</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®llama_indexä¸­çš„GPTSimpleVectorIndexå°±æ˜¯è°ƒç”¨openaiçš„apiåšçš„embeddingå—ï¼Ÿ</div>2023-04-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/9a/ab/fd201314.jpg" width="30px"><span>å°è€¿</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®è€å¸ˆï¼Œæˆ‘æ¢äº†ä¸€ç¯‡æ–‡ç« ç”¨ llama_index åšæ€»ç»“ï¼Œä¸€ç›´æŠ¥é™é€Ÿé—®é¢˜ï¼Œå¥½åƒæ˜¯llamaå†…éƒ¨è°ƒç”¨çš„æŠ¥é”™ï¼Œåº”è¯¥æ€ä¹ˆæ”¹è¿›ä»£ç å‘¢ï¼Ÿ
Retrying langchain.chat_models.openai.ChatOpenAI.completion_with_retry.&lt;locals&gt;._completion_with_retry in 8.0 seconds as it raised RateLimitError: Rate limit reached for default-gpt-3.5-turbo in organization org-oEUgEoq9uZ4oju2xVxmZ7cUO on requests per min. Limit: 3 &#47; min. Please try again in 20s. Contact us through our help center at help.openai.com if you continue to have issues. Please add a payment method to your account to increase your rate limit. Visit https:&#47;&#47;platform.openai.com&#47;account&#47;billing to add a payment method..</div>2023-05-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2e/20/07/80337e76.jpg" width="30px"><span>æ±Ÿæ¹–ä¸­äºº</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œè¿™ä¸ªå¯ä»¥ç”¨æ¥åšæœºå™¨äººå®¢æœå—ï¼Ÿçœ‹èµ·æ¥å¥½åƒåªè¦æŠŠè‡ªå®¶çš„æ•°æ®å–‚ç»™å®ƒå°±å¯ä»¥äº†ï¼Œå¦‚æœç”¨æ¥åšå®¢æœï¼Œæœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„å‘¢</div>2023-04-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/6d/00/cb00b423.jpg" width="30px"><span>éƒ‘é›¨ç‘›</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œæˆ‘è¯»å–çš„è‡ªå·±çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åè¿è¡Œçš„æ—¶å€™æŠ¥é”™ï¼Œè¯·é—®è¿™ä¸ªé”™è¯¯æ˜¯ä»€ä¹ˆå¼•èµ·çš„ï¼Ÿ
æ‰§è¡Œè¯­å¥ï¼š
------------
response = list_index.query(&quot;ä¸‹é¢æ˜¯ä¸€ä¸ªé¡¹ç›®çš„æ–‡ä»¶ï¼Œè¯·ä½ ç”¨ä¸­æ–‡æ€»ç»“ä¸€ä¸‹:&quot;, response_mode=&quot;tree_summarize&quot;)
print(response)
--------
File ~&#47;miniforge3&#47;envs&#47;geektime&#47;lib&#47;python3.10&#47;site-packages&#47;llama_index&#47;langchain_helpers&#47;text_splitter.py:157, in TokenTextSplitter.split_text_with_overlaps(self, text, extra_info_str)
    155 num_cur_tokens = max(len(self.tokenizer(cur_token)), 1)
    156 if num_cur_tokens &gt; effective_chunk_size:
--&gt; 157     raise ValueError(
    158         &quot;A single term is larger than the allowed chunk size.\n&quot;
    159         f&quot;Term size: {num_cur_tokens}\n&quot;
    160         f&quot;Chunk size: {self._chunk_size}&quot;
    161         f&quot;Effective chunk size: {effective_chunk_size}&quot;
    162     )
    163 # If adding token to current_doc would exceed the chunk size:
    164 # 1. First verify with tokenizer that current_doc
    165 # 1. Update the docs list
    166 if cur_total + num_cur_tokens &gt; effective_chunk_size:
    167     # NOTE: since we use a proxy for counting tokens, we want to
    168     # run tokenizer across all of current_doc first. If
    169     # the chunk is too big, then we will reduce text in pieces

ValueError: A single term is larger than the allowed chunk size.
Term size: 453
Chunk size: 356Effective chunk size: 356</div>2023-04-26</li><br/><li><img src="" width="30px"><span>Geek_a96962</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œæ—¢ç„¶æ˜¯aiå¤§æ¨¡å‹ä¹‹ç¾ï¼Œèƒ½ä¸èƒ½ä»‹ç»ä¸ç”¨chatgptçš„ï¼Œæ¯”å¦‚ç”¨ä¸€äº›å¼€æºçš„å¤§æ¨¡å‹ æ¥å®Œæˆç›¸åŒçš„ä¸šåŠ¡</div>2023-04-24</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEjHEWycVre5ZRtE6M8KaWyu1GKA0KOQsrrlm0ZdZf9EIljQ8P19uZdKS2uINwnzCibnv2iaRfmIPw/132" width="30px"><span>å°é»‘</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>INFO:llama_index.token_counter.token_counter:&gt; [query] Total LLM token usage: 4043 tokens
INFO:llama_index.token_counter.token_counter:&gt; [query] Total embedding token usage: 58 tokens

INFO:llama_index.token_counter.token_counter:&gt; [query] Total LLM token usage: 4160 tokens
INFO:llama_index.token_counter.token_counter:&gt; [query] Total embedding token usage: 45 tokens

ä¸ºä»€ä¹ˆæˆ‘æ€»æ˜¯æé—®æ¶ˆè€—tokenå¤šï¼Œå›å¤å¯ä»¥ç”¨çš„tokenå°±ä¸å‰©ä»€ä¹ˆäº†ï¼Ÿè¿™ä¸ªåœ¨å“ªé‡Œå¯ä»¥è®¾ç½®ï¼Ÿ</div>2023-04-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/36/9d/1b/8f0f9f13.jpg" width="30px"><span>æ•°æ®åˆ†æç«™ç«™</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸ºä»€ä¹ˆæ‰§è¡Œindex=GPTSimpleVectorIndex.from_documents(documents)
æŠ¥é”™ï¼šAuthenticationError: Incorrect API key provided: &#39;&#39;. You can find your API key at https:&#47;&#47;platform.openai.com&#47;account&#47;api-keys.
æ‰§è¡Œä¹‹å‰è¯¾ç¨‹çš„éƒ½æ˜¯å¯ä»¥çš„</div>2023-04-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/72/43/a0898bb7.jpg" width="30px"><span>è¦ƒç‘æ˜Ÿ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸Šä¼ çš„æ˜¯pdfçš„è¯ï¼Œæœ‰åŠæ³•å®šä½åˆ°å…·ä½“çš„å¼•ç”¨ä½ç½®å—ã€‚è­¬å¦‚æŸ¥å‡ºæ¥æ–‡å­—ï¼Œç»™çš„gptä½œå‚è€ƒï¼ŒåŒæ—¶éœ€è¦å®šä½åˆ°æ–‡å­—æ˜¯æ¥è‡ªåŸæ–‡ç¬¬ä¸€é¡µç¬¬äºŒæ®µè¿™æ ·ã€‚</div>2023-04-17</li><br/>
</ul>