ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ–‡æµ©ã€‚

ä¸Šä¸€è®²é‡Œï¼Œæˆ‘ä»¬ç”¨ä¸Šäº†æœ€æ–°çš„ChatGPTçš„APIï¼Œæ³¨å†Œå¥½äº†HuggingFaceçš„è´¦å·ï¼Œä¹ŸæŠŠæˆ‘ä»¬çš„èŠå¤©æœºå™¨äººéƒ¨ç½²äº†å‡ºå»ã€‚å¸Œæœ›é€šè¿‡è¿™ä¸ªè¿‡ç¨‹ï¼Œä½ å¯¹å®é™…çš„åº”ç”¨å¼€å‘è¿‡ç¨‹å·²ç»æœ‰äº†å……è¶³çš„ä½“éªŒã€‚é‚£ä¹ˆè¿™ä¸€è®²é‡Œï¼Œæˆ‘ä»¬ä¼šå›åˆ°OpenAIçš„å„ä¸ªæ¥å£èƒ½å¤Ÿæä¾›çš„èƒ½åŠ›ã€‚æˆ‘ä»¬åˆ†åˆ«çœ‹çœ‹æ€ä¹ˆé€šè¿‡Embeddingè¿›è¡Œæ–‡æœ¬èšç±»ï¼Œæ€ä¹ˆåˆ©ç”¨æç¤ºè¯­ï¼ˆPromptï¼‰åšæ–‡æœ¬çš„æ€»ç»“ã€‚

## åŸºäºEmbeddingå‘é‡è¿›è¡Œæ–‡æœ¬èšç±»

æˆ‘å…ˆç»™ä¸å¤ªäº†è§£æŠ€æœ¯çš„åŒå­¦ç®€å•ç§‘æ™®ä¸€ä¸‹ä»€ä¹ˆå«åšæ–‡æœ¬èšç±»ï¼Œæ–‡æœ¬èšç±»å°±æ˜¯æŠŠå¾ˆå¤šæ²¡æœ‰æ ‡æ³¨è¿‡çš„æ–‡æœ¬ï¼Œæ ¹æ®å®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œè‡ªåŠ¨åœ°åˆ†æˆå‡ ç±»ã€‚åŸºäºGPTç³»åˆ—çš„æ¨¡å‹è¿›è¡Œæ–‡æœ¬èšç±»å¾ˆç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡EmbeddingæŠŠæ–‡æœ¬å˜æˆä¸€æ®µå‘é‡ã€‚è€Œå¯¹äºå‘é‡æˆ‘ä»¬è‡ªç„¶å¯ä»¥ç”¨ä¸€äº›ç®€å•çš„èšç±»ç®—æ³•ï¼Œæ¯”å¦‚æˆ‘ä»¬é‡‡ç”¨æœ€ç®€å•çš„K-Meansç®—æ³•å°±å¯ä»¥äº†ã€‚

è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬é€‰ç”¨çš„æ•°æ®é›†ï¼Œæ˜¯å¾ˆå¤šè€çš„æœºå™¨å­¦ä¹ æ•™ç¨‹é‡Œå¸¸ç”¨çš„20 newsgroupsæ•°æ®é›†ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¸¦äº†æ ‡æ³¨åˆ†å¥½ç±»çš„è‹±æ–‡æ–°é—»ç»„çš„æ•°æ®é›†ã€‚è¿™ä¸ªæ•°æ®é›†ï¼Œå…¶å®ä¸æ˜¯æœ€è‡ªç„¶çš„è‡ªç„¶è¯­è¨€ï¼Œé‡Œé¢çš„æ•°æ®æ˜¯ç»è¿‡äº†é¢„å¤„ç†çš„ï¼Œæ¯”å¦‚å»é™¤äº†æ ‡ç‚¹ç¬¦å·ã€åœç”¨è¯ç­‰ç­‰ã€‚æˆ‘ä»¬æ­£å¥½å¯ä»¥æ‹¿æ¥çœ‹çœ‹ï¼Œé¢å¯¹è¿™æ ·å…¶å®ä¸å¤ªâ€œè‡ªç„¶è¯­è¨€â€çš„æ•°æ®ï¼ŒOpenAIçš„GPTç³»åˆ—æ¨¡å‹å¤„ç†çš„æ•ˆæœæ€ä¹ˆæ ·ã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ27ï¼‰</strong></div><ul>
<li><img src="" width="30px"><span>Geek_d8a880</span> ğŸ‘ï¼ˆ10ï¼‰ ğŸ’¬ï¼ˆ5ï¼‰<div>éšç€å¯¹è¯çš„è½®æ•°è¶Šæ¥è¶Šå¤šï¼Œæ–‡æœ¬æ‘˜è¦ä¹Ÿä¼šè¶Šæ¥è¶ŠæŠ½è±¡ï¼Œèƒ½ä¿ç•™çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ä¹Ÿä¼šè¶Šæ¥è¶Šå°‘å§</div>2023-03-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/f5/9d/104bb8ea.jpg" width="30px"><span>Geek2014</span> ğŸ‘ï¼ˆ9ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®å¾è€å¸ˆï¼Œchatgpt ç»™å‡ºçš„æ–‡æœ¬æ‘˜è¦ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç”¨ä»€ä¹ˆæ–¹æ³•æ¥è¯„ä¼°ç»™å‡ºçš„æ‘˜è¦æ˜¯å¥½æˆ–ä¸å¥½å‘¢ï¼Ÿå¯ä»¥é€šè¿‡å“ªäº›æŒ‡æ ‡æ¥æµ‹è¯•å‘¢ï¼Ÿ</div>2023-04-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/3b/b5/3bb54136.jpg" width="30px"><span>å—¯å“¼ğŸ˜¬</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>ğŸ˜°ç³Ÿç³•ï¼Œæ²¡æœ‰ NLP åŸºç¡€çš„æ™®é€šå¼€å‘äººå‘˜è¶Šçœ‹è¶Šè¿·ç³Šã€‚</div>2023-03-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/24/f5/96/4e3dd4e1.jpg" width="30px"><span>Kevin</span> ğŸ‘ï¼ˆ6ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·æ•™ä¸€ä¸‹å¾è€å¸ˆï¼Œchatpdfçš„å®ç°ä¹Ÿæ˜¯åŸºäºembeddingæ¥å¯¹ä¸Šä¼ çš„pdfå»ºç«‹ä¸€ä¸ªindexä¹ˆï¼Ÿchatpdfè‡ªå·±å›ç­”æ‰€ä¸æ˜¯åŸºäºembeddingå»ºç«‹çš„indexï¼Œé¡¾å·¦å³è€Œè¨€ä»–ï¼Œè¯´æ˜¯ç”¨äº†å…¶ä»–æŠ€æœ¯ï¼Œæ¯”å¦‚æäº†part-of-speech tagging å’Œ named entity recognitionã€‚æ‰€ä»¥å®ƒç”¨å…¶ä»–æŠ€æœ¯å¯¹pdfåšäº†ä¸€ä¸ªæ‘˜è¦æ–‡ä»¶å¯¹ä¹ˆï¼Ÿä½¿ç”¨chatgpt apiæ˜¯ä¸ºäº†æ›´å¥½çš„ç†è§£è‡ªç„¶è¯­è¨€ï¼ˆæŠŠç”¨æˆ·è¯­è¨€è½¬æ¢æˆå¯ä»¥part-of-speechæˆ–è€…å…¶ä»–ä¸“ç”¨åº“çš„æ“ä½œï¼Œç±»ä¼¼äºembeddingçš„cosine-similarityæ“ä½œï¼Œç„¶åå†æŠŠç­”æ¡ˆç”¨è‡ªç„¶è¯­è¨€å›å¤ï¼‰ï¼Ÿéå¸¸å¥½å¥‡å¦‚ä½•å®ç°ï¼Œè¯·å¾è€å¸ˆåˆ†äº«ä¸€ä¸‹æ´è§ï¼Œè°¢è°¢ï¼ä»¥ä¸‹æ˜¯chatpdfå›å¤ï¼š In order to analyze the text of a PDF file, a PDF reader is used to extract the text from the file. This text is then passed to me as input, and I use natural language processing (NLP) techniques to analyze it.
 first step in my analysis involves breaking down the text into smaller units such as words or phrases. This is done using a process called tokenization, which involves splitting the text into individual tokens based on whitespace and punctuation.

Once the text has been tokenized, I use various NLP techniques to extract meaning from it. For example, I might use part-of-speech tagging to identify the grammatical structure of sentences, or named entity recognition to identify specific entities such as people, places, or organizations.</div>2023-04-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/c1/64/3b994bd5.jpg" width="30px"><span>å–çƒ§çƒ¤å¤«æ–¯åŸº</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®è€å¸ˆï¼Œé¢å¯¹å¤§é‡éšæœºæ–‡æœ¬ï¼Œèšç±»çš„ä¸ªæ•°å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ</div>2023-04-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/07/5c/2b75c836.jpg" width="30px"><span>é™ˆé¹</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆå¥½ï¼Œæˆ‘ç†è§£ç¬¬5å’Œç¬¬7èŠ‚è¯´çš„æ˜¯ï¼šåˆ©ç”¨openaiå¤§è¯­è¨€æ¨¡å‹çš„apiï¼Œå°†æ•°æ®embeddingï¼Œç”¨embeddingçš„ç»“æœå»è®­ç»ƒå…¶ä»–çš„æ¨¡å‹ï¼Œæ¯”å¦‚èšç±»æ¨¡å‹æˆ–åˆ†ç±»æ¨¡å‹ã€‚

æˆ‘ä¸å¤ªç†è§£è¿™é‡Œçš„â€œè®­ç»ƒâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

æŠŠembeddingåçš„æ•°æ®é›†ç»™åˆ°å°æ¨¡å‹ç®—æ³•ï¼Œå°æ¨¡å‹ä¼šå¾—å‡ºåˆ†ç±»æˆ–èšç±»çš„ç»“æœï¼Œè¯¾ç¨‹ä¸­ï¼Œè€å¸ˆè¯´è¿™æ ·åšçš„æ•ˆæœæ¯”è¾ƒå¥½ã€‚é‚£ä¹ˆè¿™é‡Œçš„â€œè®­ç»ƒâ€ä½“ç°åœ¨å“ªé‡Œå‘¢ï¼Ÿ

ç”¨embeddingåçš„æ•°æ®ç»™åˆ°å°æ¨¡å‹ï¼Œå°æ¨¡å‹å°±è‡ªåŠ¨ä¼˜åŒ–å†…éƒ¨å‚æ•°äº†ï¼Ÿè¿˜æ˜¯è¯´è¯¾ç¨‹ä¸­æ²¡æœ‰æ¶‰åŠåˆ°æ¨¡å‹è®­ç»ƒçš„å†…å®¹ï¼Ÿ
å¦‚æœè¿™æ ·å°±æ˜¯è®­ç»ƒäº†å°æ¨¡å‹ï¼Œé‚£ä¹ˆè®­ç»ƒåçš„å‚æ•°æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Ÿä¸‹æ¬¡è°ƒç”¨åï¼Œè¿™æ¬¡è®­ç»ƒçš„å‚æ•°è¿˜å­˜åœ¨å—ï¼Ÿ

è°¢è°¢è€å¸ˆè§£æƒ‘</div>2023-05-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/b2/fd/e10b39e4.jpg" width="30px"><span>gc</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>è€å¸ˆï¼Œæœ¬äººå°ç™½ï¼Œé—®ä¸ªåˆ«çš„é—®é¢˜ï¼Œå¦‚ä½•å¯¹ä¹¦ç±è¿›è¡Œåˆ†ç±»èšåˆå‘¢ï¼Œæ¯”å¦‚ä¸€æœ¬ä¹¦æ‹†å‡ºä¸€äº›åˆ†ç±»æ ‡ç­¾ï¼Œèƒ½æä¾›ä¸€äº›æ€è·¯å—ï¼Ÿè¿™ç§å¤§æ–‡æœ¬çš„å¥½åƒæœ¬ç« èŠ‚æ–¹å¼å¹¶ä¸é€‚åˆï¼Ÿ</div>2023-05-04</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoribOUgcicu1sOqZZVtPqpSDSS43vicxW0GesxQeBRjUC47CzulKSzYNj2aMg9YOZDdjPdAZxS3jNcQ/132" width="30px"><span>Geek_32772e</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>ç¬¬ä¸€æ®µä»£ç 403Forbiddenäº†ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼šurllib.error.HTTPError: HTTP Error 403: Forbidden</div>2023-04-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/b3/98/2ad8b465.jpg" width="30px"><span>Hugh</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>display(new_df) æ²¡æœ‰å¼•å…¥ from IPython.display import display</div>2023-05-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/48/59/439a172e.jpg" width="30px"><span>suzg</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æœ‰æ²¡æœ‰å¯èƒ½æ˜¯è¿™ä¸ªnewsgroupæ•°æ®é›†å°±åœ¨openaiçš„è®­ç»ƒæ•°æ®ä¸­ï¼Œæ‰€ä»¥æ•ˆæœå¥½</div>2023-04-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/c1/64/3b994bd5.jpg" width="30px"><span>å–çƒ§çƒ¤å¤«æ–¯åŸº</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>embedding_df[embedding_df.cluster == i].text.sample(items_per_cluster, random_state=42).values
è·å–çš„éšæœºæ–‡æœ¬è¿‡é•¿ï¼Œå¯èƒ½ä¼šè¶…å‡ºopenaiçš„tokené™åˆ¶ï¼Œå¯¼è‡´æŠ¥é”™ã€‚è¿˜éœ€è¦è®¡ç®—ä¸€ä¸‹conentçš„tokené•¿åº¦</div>2023-03-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f7/62/947004d0.jpg" width="30px"><span>www</span> ğŸ‘ï¼ˆ12ï¼‰ ğŸ’¬ï¼ˆ7ï¼‰<div>ä¸æ‡‚NLPï¼Œè·Ÿç€åœ¨colabè·‘äº†ä¸€éï¼Œæœ‰é—®é¢˜å°±é—®chatgptï¼Œæœ‰ç§ä¸æ»‘çš„ä½“éªŒ
</div>2023-03-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/af/62/5eeb9041.jpg" width="30px"><span>é‡Œå’¯ç ´</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ç”±äºapikeysè¿‡æœŸäº†ï¼Œæ‰€ä»¥ä¸€ç›´æ²¡è·‘ä»£ç ï¼Œçœ‹åˆ°ç¬¬5ç« å¼€å§‹å°±çœ‹ä¸æ‡‚äº†ï¼ŒåªçŸ¥é“å¤§æ¦‚æ„æ€ï¼Œç‰¹åˆ«æ˜¯ä½ åšè¯†åˆ«å¯¹æ¯”çš„å›¾è¡¨ï¼Œå®Œå…¨çœ‹ä¸åˆ°ï¼Œä¸çŸ¥é“è¡¨è¾¾äº†ä»€ä¹ˆæ„æ€ã€‚</div>2023-09-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/28/40/82d748e6.jpg" width="30px"><span>å°ç†æƒ³ã€‚</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆèƒ½ä¸èƒ½ç»™ä¸‹è¿™ä¸ªæ–‡ä»¶ 20_newsgroup_with_embedding.parquetï¼Œé»˜è®¤çš„apikeyè¢«é™åˆ¶ä½äº†ä¸å…è®¸è¯·æ±‚ï¼Œ</div>2023-07-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/28/40/82d748e6.jpg" width="30px"><span>å°ç†æƒ³ã€‚</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è·å–æ•°æ®é›†å¹¶å¤„ç†ï¼Œä»£ç åŠ ä¸Šäº†æ³¨é‡Šï¼Œæ„Ÿè°¢
ChatGPTdef twenty_newsgroup_to_csv():
    # è·å–æ–°é—»æ•°æ®é›†ï¼Œsubset=&quot;train&quot;åªè·å–è®­ç»ƒé›†é‚£éƒ¨åˆ†ï¼Œremove=(&#39;headers&#39;,&#39;footers&#39;,&#39;quotes&#39;) è¡¨ç¤ºåœ¨è·å–æ•°æ®é›†æ—¶ï¼ŒåŒæ—¶ç§»é™¤æ–‡æœ¬ä¸­çš„æ ‡é¢˜ã€é¡µè„šå’Œå¼•ç”¨éƒ¨åˆ†ã€‚
    newsgroups_train=fetch_20newsgroups(subset=&quot;train&quot;,remove=(&#39;headers&#39;,&#39;footers&#39;,&#39;quotes&#39;))
    # åˆ›å»ºDataFrameå¯¹è±¡ï¼ŒDataFrameå¯¹è±¡åŒ…å«ä¸¤åˆ—æ•°æ®ï¼Œä¸€åˆ—æ˜¯newsgroups_train.dataçš„åŒ…å«æ–°é—»ç»„æ•°æ®çš„åˆ—è¡¨ï¼Œ
    # å¦ä¸€åˆ—newsgroups_train.targetæ˜¯ä¸€ä¸ªåŒ…å«æ–°é—»ç»„æ ‡ç­¾çš„åˆ—è¡¨ã€‚
    df=pd.DataFrame([newsgroups_train.data,newsgroups_train.target.tolist()]).T
    # å°†DataFrameå¯¹è±¡çš„åˆ—åæ›´æ”¹ä¸º&#39;text&#39;å’Œ&#39;target&#39;
    df.columns=[&#39;text&#39;,&#39;target&#39;]

    # åˆ›å»ºä¸€ä¸ªåŒ…å«æ–°é—»ç»„åˆ†ç±»åç§°çš„DataFrameå¯¹è±¡ï¼Œå°†åˆ—åå‘½åä¸º&#39;title&#39;
    targets=pd.DataFrame(newsgroups_train.target_names,columns=[&#39;title&#39;])

    out=pd.merge(df,targets,left_on=&#39;target&#39;,right_index=True)
    out.to_csv(&#39;20_newsgroup.csv&#39;,index=False)


twenty_newsgroup_to_csv()</div>2023-07-19</li><br/><li><img src="" width="30px"><span>newbiner</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆï¼Œå…³äºç¬¬äºŒç‚¹â€œåˆ©ç”¨æ–‡æœ¬æ‘˜è¦æ”¯æŒæ— é™è½®æ•°çš„èŠå¤©â€ï¼Œå¦‚æœhistoryå’Œå¤šï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¾ˆè´¹tokenï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ¡ˆå‘¢ï¼Ÿè°¢è°¢ï¼</div>2023-05-26</li><br/><li><img src="" width="30px"><span>yanyu-xin</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å·²ç»çœ‹ä¸å¤ªæ‡‚ã€‚å¹¶ä¸”ç¨‹åºè¿˜æ˜¯æœ‰ä¸å°‘éœ€è¦æ ¹æ®ä¸ªäººç¯å¢ƒå¾®è°ƒçš„ï¼Œä½†æ˜¯è°ƒè¯•ç¨‹åºï¼Œå‡ºé”™å°±é—®chatï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“å°±èƒ½é¡ºåˆ©è¿è¡Œçš„ã€‚å…ˆå¼€å§‹ï¼ŒæŒ‰è¯¾ç¨‹é€ä¸€è°ƒè¯•ç¨‹åºï¼Œä»¥åé€æ­¥æ·±å…¥äº†è§£</div>2023-04-01</li><br/><li><img src="" width="30px"><span>Geek_78a551</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>é‡æ–°æ›´æ–°ä¸‹ä»£ç å§, ä¸Šé¢çš„ä»£ç æ‰€æœ‰çš„éƒ½ä¸èƒ½æ‰§è¡Œ</div>2024-09-19</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/mbOToKXibw8HFuW7AkqCAIJVLMxqCaOYQYZxQYHBT4VO2v92d4UCK3XtiaFz2PpDXWpBlHnN9LbsTibCzV4EKALJA/132" width="30px"><span>Geek_95f4ae</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>@backoff.on_exception(backoff.expo, openai.error.RateLimitError)
def get_embeddings_with_backoff(prompts, engine):
    embeddings = []
    for i in range(0, len(prompts), batch_size):
        batch = prompts[i:i+batch_size]
        embeddings += get_embeddings(list_of_text=batch, engine=engine)
    return embeddings

prompts = df.text.tolist()
prompt_batches = [prompts[i:i+batch_size] for i in range(0, len(prompts), batch_size)]

embeddings = []
for batch in prompt_batches:
    batch_embeddings = get_embeddings_with_backoff(prompts=batch, engine=embedding_model)
    embeddings += batch_embeddings

df[&quot;embedding&quot;] = embeddings
df.to_parquet(&quot;data&#47;20_newsgroup_with_embedding.parquet&quot;, index=False)

è€å¸ˆè¯·é—®ä¸Šé¢çš„ä»£ç æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„åœ°æ–¹å—ï¼Œåœ¨ç¬¬ä¸€å¥å°±æŠ¥é”™ï¼Œé—®chatgptå¾—åˆ°çš„ç­”æ¡ˆä¹Ÿè·‘ä¸é€šï¼Œæ˜¯ç‰ˆæœ¬æ›´æ–°å¯¼è‡´çš„å—ï¼Ÿè¯·é—®æœ‰å¤„ç†çš„æ–¹æ³•å—ï¼Ÿ</div>2024-03-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/30/e1/ff/5e538177.jpg" width="30px"><span>zengraoli</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆä½ å¥½ï¼Œæƒ³è·Ÿä½ è·‘æ–‡ä¸­çš„ç¨‹åºï¼Œå¯æƒœçœ‹åˆ°äº†05ä¹Ÿæœªè§åˆ°æœ‰dataæ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œè¯·é—®å¯ä»¥ç»™ä¸ªä¸‹è½½åœ°å€ä¹ˆï¼Ÿ</div>2024-01-04</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/wr3qiaXYeAaLHyPBArO8ThtgMns5icVkv7SWasTbGeic8QsIkAIC2XCG7ibTTibdicLB6WCibjj5b50kcV7rPKxqVW8Dw/132" width="30px"><span>èƒ¡è´ºé¹</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è¯·é—®è¿™è¡Œä»£ç æœ‰ä»€ä¹ˆç”¨ï¼Ÿ
np.vstack(embedding_df.embedding.values)</div>2023-09-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/30/bb/2e/3e0bd0e1.jpg" width="30px"><span>SlgGrlGwy</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å¯ä»¥æä¾›ä¸‹parquet æ–‡ä»¶å—ï¼Ÿè½¬åŒ–ä¸€å¤©å•¦ï¼Œè¿˜æœªå®Œæˆ</div>2023-08-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/c3/94/e89ebc50.jpg" width="30px"><span>ç¥æ¯“é€é¥</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æœ¬åœ°çŸ¥è¯†åº“åˆ†æä¸å›ç­”é—®é¢˜ï¼Œæœ‰æ¨èçš„å—ï¼Ÿè°ƒç”¨ OPENAPI æ¶‰åŠå®‰å…¨é—®é¢˜</div>2023-06-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/0e/22/988879b9.jpg" width="30px"><span>èœ•å˜</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>Traceback (most recent call last):
  File &quot;&#47;Users&#47;hupengfei&#47;miniconda3&#47;envs&#47;py310&#47;lib&#47;python3.10&#47;site-packages&#47;gradio&#47;routes.py&quot;, line 394, in run_predict
    output = await app.get_blocks().process_api(
  File &quot;&#47;Users&#47;hupengfei&#47;miniconda3&#47;envs&#47;py310&#47;lib&#47;python3.10&#47;site-packages&#47;gradio&#47;blocks.py&quot;, line 1078, in process_api
    data = self.postprocess_data(fn_index, result[&quot;prediction&quot;], state)
  File &quot;&#47;Users&#47;hupengfei&#47;miniconda3&#47;envs&#47;py310&#47;lib&#47;python3.10&#47;site-packages&#47;gradio&#47;blocks.py&quot;, line 1012, in postprocess_data
    prediction_value = block.postprocess(prediction_value)
  File &quot;&#47;Users&#47;hupengfei&#47;miniconda3&#47;envs&#47;py310&#47;lib&#47;python3.10&#47;site-packages&#47;gradio&#47;components.py&quot;, line 4181, in postprocess
    self._process_chat_messages(message_pair[1]),
  File &quot;&#47;Users&#47;hupengfei&#47;miniconda3&#47;envs&#47;py310&#47;lib&#47;python3.10&#47;site-packages&#47;gradio&#47;components.py&quot;, line 4154, in _process_chat_messages
    raise ValueError(f&quot;Invalid message for Chatbot component: {chat_message}&quot;)
ValueError: Invalid message for Chatbot component: module &#39;openai&#39; has no attribute &#39;ChatCompletion&#39;
pip show openai

å‘é€çš„æ—¶å€™æŠ¥äº†è¿™ä¸ªé”™è¯¯~  </div>2023-06-14</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/z3nIITkhzRj9WApibhic524lQSJmqUCerpuqpntEe06LE3lRGKr6rGwPpPJtZ5Xj0NBPyvTatKtIk0hfyAnl9Hsg/132" width="30px"><span>Geek_378f83</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>7</div>2023-05-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg" width="30px"><span>aoe</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è™½ç„¶æ²¡çœ‹æ‡‚ï¼Œä½†è§‰å¾—å¾ˆå‰å®³ï¼
åŸæ¥è°ƒç”¨ openAI çš„ API ä¸åƒæˆ‘æƒ³è±¡çš„é‚£ä¹ˆç®€å•ï¼Œè¿˜æ˜¯éœ€è¦ä¸€äº›ã€Œæœºå™¨å­¦ä¹ ã€çš„åŸºç¡€çŸ¥è¯†
æ„Ÿè°¢è€å¸ˆå¸¦æˆ‘å‚è§‚ã€Œæœºå™¨å­¦ä¹ å…¥é—¨ã€</div>2023-04-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/7e/5a/da39f489.jpg" width="30px"><span>Ethan New</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å­¦ä¹ æ‰“å¡</div>2023-03-30</li><br/>
</ul>