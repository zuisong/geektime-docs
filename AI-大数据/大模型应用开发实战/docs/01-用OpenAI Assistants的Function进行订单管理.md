ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ä½³ã€‚

ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä»¬å¼€å§‹å¤§æ¨¡å‹åº”ç”¨å¼€å‘å®æˆ˜çš„å¯ç¨‹ç¯‡ã€‚æœ€ç®€å•çš„å¤§æ¨¡å‹åº”ç”¨å¼€å‘å·¥å…·åº”è¯¥å°±æ˜¯OpenAI Assistantsã€‚ä¸è¿‡è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å®ƒçš„åŠŸèƒ½è¶…çº§å¼ºå¤§ã€‚æ‰€ä»¥ï¼Œåœ¨å¯ç¨‹ç¯‡ä¸­æˆ‘ä»¬å…ˆæŠŠè¿™ä¸ªå·¥å…·è®²é€ã€‚ï¼ˆæ³¨æ„ï¼Œåœ¨2024å¹´å››æœˆä¸­æ—¬ï¼ŒOpenAI å‘å¸ƒäº†Assistantsçš„Beta v2ç‰ˆæœ¬ï¼Œæˆ‘ä»¬çš„è¯¾ç¨‹åŸºäºv2ç‰ˆæœ¬ã€‚ï¼‰

å…ˆè¯´è¯´æœ¬è¯¾çš„å­¦ä¹ ç›®æ ‡ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªï¼š

1. å®Œå…¨æŒæ¡åˆ°åº•ä»€ä¹ˆæ˜¯OpenAI Assistantsï¼Œæ€ä¹ˆä½¿ç”¨å®ƒã€‚
2. é€šè¿‡ Assistantsæä¾›çš„Functionï¼ŒæŠŠè‡ªç„¶è¯­è¨€é—®ç­”è‡ªåŠ¨åœ°è½¬æ¢æˆå‡½æ•°è°ƒç”¨çš„å…ƒæ•°æ®ï¼Œå¹¶èƒ½å¤ŸåŠ¨æ€åœ°é€‰æ‹©åˆé€‚çš„å‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚å…¶ä¸­ï¼Œä»€ä¹ˆæ˜¯å‡½æ•°è°ƒç”¨çš„å…ƒæ•°æ®ï¼Œä»€ä¹ˆæ˜¯åŠ¨æ€è°ƒç”¨ï¼Œä¹Ÿè®¸æœ‰ä¸€ç‚¹éš¾ç†è§£ï¼Œä¸æ€•ï¼Œå­¦å®Œæœ¬è¯¾å°±ä¼šæ¸…æ™°ã€‚

å¦å¤–ï¼Œè¿™èŠ‚è¯¾æˆ‘ä¼šå¸¦ä½ å®Œæˆä¸€ä¸ª**è®¢å•ç®¡ç†åŠŸèƒ½**ï¼Œåªæ ¹æ®ç”¨æˆ·çš„å¯¹è¯ï¼Œç»™ä»–è®¡ç®—è´­ç‰©ç¯®é‡Œé¢è®¢å•å•†å“çš„æ€»é‡‘é¢ã€‚

## OpenAI çš„ Assistants å·¥å…·å…¶å®æ˜¯ä¸ªä¸é”™çš„ Agent

å´æ©è¾¾è€å¸ˆåœ¨ä»–æœ€æ–°çš„æ¼”è®²ä¸­ï¼Œå¤§è°ˆç‰¹è°ˆAI Agentï¼Œè€Œä¸”ç»™å‡ºäº†ä¸‹é¢å››ç§Agentè®¾è®¡æ¨¡å¼ã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/c3/a5/c387871a9d18302e64a81c56924987a5.png?wh=2154x1135)

è¿™å››ç§Agentå®ç°æ¨¡å¼åˆ†åˆ«æ˜¯ï¼š

1. åæ€ï¼ˆReflectionï¼‰ï¼šAgenté€šè¿‡äº¤äº’å­¦ä¹ å’Œåæ€æ¥ä¼˜åŒ–å†³ç­–ã€‚
2. å·¥å…·ä½¿ç”¨ï¼ˆTool useï¼‰ï¼šAgent åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹èƒ½è°ƒç”¨å¤šç§å·¥å…·æ¥å®Œæˆä»»åŠ¡ã€‚
3. è§„åˆ’ï¼ˆPlanningï¼‰ï¼šåœ¨è§„åˆ’æ¨¡å¼ä¸­ï¼ŒAgent éœ€è¦è§„åˆ’å‡ºä¸€ç³»åˆ—è¡ŒåŠ¨æ­¥éª¤æ¥è¾¾åˆ°ç›®æ ‡ã€‚
4. å¤šAgentåä½œï¼ˆMultiagent collaborationï¼‰ï¼šæ¶‰åŠå¤šä¸ªAgentä¹‹é—´çš„åä½œã€‚

è¿™äº›æ¨¡å¼æç»˜äº†AI Agentåœ¨ä¸åŒæƒ…å¢ƒä¸‹çš„è¡Œä¸ºå’ŒåŠŸèƒ½å®ç°ï¼Œåæ˜ äº†åœ¨AIç³»ç»Ÿè®¾è®¡æ—¶éœ€è¦è€ƒè™‘çš„å¤šæ ·åŒ–ç­–ç•¥ï¼Œ**æ›´é‡è¦çš„æ˜¯å¯¹å¤§æ¨¡å‹çš„æ€ç»´æ–¹å¼è¿›è¡Œäº†æŒ‡å¼•ï¼Œç›¸å½“äºæ­¦è£…ä¸Šäº†â€œå…ˆè¿›æ€æƒ³â€**ã€‚

è¯´å›Assistantsã€‚OpenAIçš„Assistantså·¥å…·æ˜¯ä¸€ç§åŸºäºGPTæ¨¡å‹çš„è¯­è¨€ç†è§£å’Œç”Ÿæˆå¹³å°ã€‚å®ƒæ—¨åœ¨é€šè¿‡æä¾›ä¿¡æ¯ã€è§£ç­”é—®é¢˜ã€ç”Ÿæˆæ–‡æœ¬å’Œæ‰§è¡Œç‰¹å®šä»»åŠ¡æ¥ååŠ©æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œï¼Œæˆä¸ºæˆ‘ä»¬çš„å°åŠ©æ‰‹ã€å¥½åŠ©ç†ã€‚

å—¯ï¼Œå¬åˆ°è¿™é‡Œä½ ä¼šä¸ä¼šè§‰å¾—OpenAIå…¬å¸çš„è¿™ä¸ªAssistantsæœ‰ç‚¹Agentçš„æ„æ€ã€‚çš„ç¡®å¦‚æ­¤ï¼ŒAssistantså·¥å…·ç‰¹æ„è¢«è®¾è®¡å¾—ååˆ†çµæ´»ä¸”å¤šåŠŸèƒ½ï¼Œå¯ä»¥åº”ç”¨äºå„ç§åœºæ™¯å’Œç”¨ä¾‹ï¼Œä»ç®€å•çš„æ—¥å¸¸å¯¹è¯åˆ°å¤æ‚çš„æŠ€æœ¯é—®é¢˜è§£ç­”ã€‚

è€Œä¸”ï¼Œå´æ©è¾¾è€å¸ˆæå‡ºçš„4ç§Agentè®¾è®¡æ¨¡å¼ï¼ŒAssistantsè‡³å°‘å®ç°äº†å…¶ä¸­çš„ä¸¤ç§ï¼Œç”šè‡³æ˜¯ä¸‰ç§ï¼ˆå‰ä¸‰ç§ï¼‰ï¼›è€Œç¬¬å››ç§å‘¢ï¼Œä¹Ÿå¯ä»¥**åœ¨ç¨‹åºä¸­é€šè¿‡åˆ›å»ºå¤šä¸ª** **Assistants** **æ¥å®ç°**ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ï¼Œç›¸ä¿¡æˆ‘ä»¬å¯ç¨‹ç¯‡å­¦å®Œä¹‹åï¼Œä½ å°±ä¼šåŒæ„æˆ‘çš„è§‚ç‚¹ã€‚

Assistantså·¥å…·çš„ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- é«˜çº§è¯­è¨€ç†è§£ï¼šèƒ½å¤Ÿç†è§£å’Œå¤„ç†è‡ªç„¶è¯­è¨€è¾“å…¥ï¼Œè¯†åˆ«ç”¨æˆ·çš„æ„å›¾å’Œéœ€æ±‚ã€‚
- ä¸°å¯Œçš„æ–‡æœ¬ç”Ÿæˆï¼šå¯ä»¥æ ¹æ®ç”¨æˆ·çš„æŒ‡ä»¤ç”Ÿæˆè¿è´¯ã€ç›¸å…³ä¸”æœ‰ç”¨çš„æ–‡æœ¬å›åº”ã€‚
- é€‚åº”æ€§å’Œå®šåˆ¶åŒ–ï¼šå¯ä»¥æ ¹æ®ç‰¹å®šçš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚å®šåˆ¶ï¼Œä»¥æä¾›æ›´åŠ ä¸ªæ€§åŒ–çš„æœåŠ¡ã€‚
- äº¤äº’æ€§ï¼šèƒ½å¤Ÿè¿›è¡Œè¿è´¯çš„å¯¹è¯ï¼Œç†è§£ä¸Šä¸‹æ–‡ï¼Œè®°ä½å¯¹è¯å†å²ï¼Œä»¥æä¾›æ›´åŠ æ·±å…¥å’Œæœ‰è¿ç»­æ€§çš„äº¤äº’ä½“éªŒã€‚
- æ˜“äºé›†æˆï¼šå¯ä»¥è¢«é›†æˆåˆ°å„ç§å¹³å°å’Œåº”ç”¨ä¸­ï¼Œå¦‚ç½‘ç«™ã€åº”ç”¨ç¨‹åºæˆ–å…¶ä»–æ•°å­—æœåŠ¡ã€‚

æ‰€ä»¥å‘¢ï¼ŒAssistantså·¥å…·çš„åº”ç”¨å¯ä»¥æ˜¯éå¸¸å¹¿æ³›çš„ï¼Œä¾‹å¦‚å®¢æœè‡ªåŠ¨åŒ–ã€ä¸ªäººåŠ©ç†ã€æ•™è‚²ã€å†…å®¹åˆ›ä½œã€ç¼–ç¨‹è¾…åŠ©ç­‰å¤šä¸ªé¢†åŸŸã€‚è€Œä¸”ï¼Œé€šè¿‡ä¸æ–­å­¦ä¹ å’Œé€‚åº”ï¼Œå®ƒä¹Ÿåœ¨è¿›æ­¥ï¼Œå˜å¾—è¶Šæ¥è¶Šé«˜æ•ˆã€çµæ´»ä¸”æ™ºèƒ½ã€‚

ä»¥æˆ‘ä½¿ç”¨Assistantsçš„ç›´è§‚æ„Ÿå—æ¥è¯´ï¼Œæˆ‘è§‰å¾—ï¼Œè¿™ä¸ªå·¥å…·çš„ç¡®åšåˆ°äº†ç®€å•æ˜“ç”¨ã€‚æ™ºèƒ½ç¨‹åº¦ä¹Ÿä¸é”™ï¼Œå¬æŒ‡æŒ¥ï¼Œ**èƒ½å¤Ÿå®Œæˆä¸€ç³»åˆ—çš„åŠå…¬è‡ªåŠ¨åŒ–ä»»åŠ¡**ã€‚

æˆ‘ä»¬ç”šè‡³éƒ½ä¸éœ€è¦å…·æœ‰ç¼–ç¨‹èƒ½åŠ›ï¼Œå°±èƒ½ä½¿ç”¨å¼ºå¤§çš„Assistantsã€‚å½“ç„¶ï¼Œä½ å¾—å…ˆæ‹¥æœ‰OpenAI APIçš„è´¦å·å’Œå¯†é’¥ï¼Œè¿™æ˜¯å­¦ä¹ æˆ‘ä»¬è¿™ä¸ªè¯¾ç¨‹çš„åŸºç¡€ã€‚

è¿™å°±å¸¦ç€ä½ å®æ“ä¸€ä¸‹ï¼Œæ„Ÿå—è¿™ä¸ªå·¥å…·çš„é­…åŠ›ã€‚

## åœ¨ OpenAI çš„ Playground ä¸­è¯•ç”¨ Assistants

OpenAI å…¬å¸ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª [Playground](https://platform.openai.com/playground)ï¼Œè¿™ä¸ªPlaygroundÂ æ˜¯æ¢ç´¢å¹¶å­¦ä¹ åœ¨ä¸ç¼–å†™ä»»ä½•ä»£ç çš„æƒ…å†µä¸‹æ„å»ºè‡ªå·±çš„Assistants çš„å¥½æ–¹æ³•ã€‚ä½ å¯ä»¥é€šè¿‡è¿™ä¸ªå¹³å°è¿è¡ŒæŒ‡ä»¤å’Œä»£ç ï¼Œä½¿ç”¨ GPT-4ï¼Œ ç”šè‡³æ˜¯æœ€æ–°çš„GPT-4oæ¨¡å‹ï¼ˆGPT-4oæ¨¡å‹çš„ç‰¹ç‚¹æ˜¯åˆå¥½åˆå¿«ï¼‰è¾…åŠ©å®Œæˆ AI åº”ç”¨ã€æœºå™¨å­¦ä¹ æˆ–æ•°æ®ç§‘å­¦ç›¸å…³çš„ä»»åŠ¡ã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/dd/be/dd3eb2bac3705a770e894f67773e23be.png?wh=2987x561 "åœ¨ Playground ä¸­ç”¨ Chat åŠŸèƒ½æ¯”è¾ƒ gpt-4o å’Œ gpt-4")

Playground é‡Œé¢çš„é¡¹ç›®ä¸å°‘ï¼Œæœ‰ Assistantsï¼Œè¿˜æœ‰ Chatï¼ˆå¯¹è¯ï¼‰åŠŸèƒ½ã€Compareï¼ˆå¯¹æ¯”ä¸åŒæ¨¡å‹å¯¹åŒä¸€æç¤ºçš„å“åº”ï¼‰åŠŸèƒ½å’Œ Completionsï¼ˆæ–‡æœ¬å®Œæˆï¼Œæ˜¯æ—§ç‰ˆçš„ Chatï¼Œå·²ç»è¿‡æ—¶äº†ï¼‰ç­‰åŠŸèƒ½ã€‚

### æ–°å»ºä¸€ä¸ª Assistant

æˆ‘ä»¬åœ¨å³ä¾§Playgroundä¸‹æ–¹é€‰æ‹© Assistantsï¼Œ å¹¶æŠŠè¿™ä¸ª Assistants å‘½åä¸ºâ€œè®¢å•ä»·æ ¼è®¡ç®—å™¨â€ã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/4c/0d/4cd2b8f058a824184a7874c288eec10d.png?wh=2133x1434)

æŒ‡å®šæˆ‘ä»¬è¦åˆ›å»ºçš„Assistantçš„åç§°ä»¥åŠè¯´æ˜ï¼šâ€œå¯ä»¥å¸®åŠ©å®¢æˆ·è®¡ç®—å½“å‰è´­ç‰©è½¦çš„å•†å“æ€»ä»·â€ï¼Œå¹¶é€‰æ‹©æ¨¡å‹ï¼Œä¹‹åä¿å­˜ï¼Œè¿™ä¸ªAssistantå°±åˆ›å»ºå¥½äº†ï¼Œå®ƒæ‹¥æœ‰ChatGPTçš„å…¨éƒ¨åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å’Œå®ƒå¯¹è¯ï¼Œè¾“å…¥ä½ çš„Messageåï¼Œå•å‡»å±å¹•å³ä¸‹æ–¹çš„Runï¼Œå®ƒå°±ä¼šæ ¹æ®è‡ªå·±æ‹¥æœ‰çš„çŸ¥è¯†è¿›è¡Œå›ç­”ã€‚

åœ¨Playgroundä¸­åˆ›å»ºäº†è¿™ä¸ªAssistantä¹‹åï¼Œå•å‡»å±å¹•å³æ–¹ï¼ˆPlaygroundå›¾æ ‡ä¸‹æ–¹ï¼‰çš„Assistantsé€‰é¡¹ï¼Œä½ å°±ä¼šçœ‹åˆ°ä½ æ‰€åˆ›å»ºçš„æ‰€æœ‰Assistantsåˆ—è¡¨ã€‚ç°åœ¨è®©æˆ‘ä»¬è®°å½•ä¸‹Agentçš„IDï¼Œä»¥å¤‡åé¢ç¨‹åºä¸­å¯ç”¨å®ƒã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/4b/f7/4baf9a20b0ae1b3c580eb5c347d963f7.png?wh=1046x680)

è¿™ä¸ªåˆ—è¡¨ï¼ŒåŒ…æ‹¬ä½ åœ¨Playgroundå’Œç¨‹åºä¸­åˆ›å»ºçš„æ‰€æœ‰Assistantã€‚

### Assistant ä¸­çš„å¯ç”¨å·¥å…·

æ­¤æ—¶ï¼Œä½ è‚¯å®šä¼šé—®ï¼Œå¦‚æœè¿™ä¸ªAssistantå’ŒChatGPTä¸€æ ·ï¼Œé‚£åˆæœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„å‘¢ï¼Ÿä¸ºä½•ä¸ç›´æ¥è°ƒç”¨GPTæ¨¡å‹çš„APIæ¥å®Œæˆä»»åŠ¡å‘¢ï¼Ÿ

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/a0/4c/a09d8cc265059af89c724b543bbc9b4c.png?wh=853x405)

ç­”æ¡ˆå°±æ˜¯å›¾ä¸­çš„è¿™ä¸‰ç§Toolsï¼Œå°±æ˜¯å·¥å…·ï¼Œå…¶å®å°±æ˜¯ä½ çš„Assistants å¯ä»¥è°ƒç”¨çš„åŠŸèƒ½ã€‚çœ‹åˆ°æ­¤å¤„ï¼Œä½ æ˜¯å¦å°±ç›´æ¥è”æƒ³åˆ°äº†å´æ©è¾¾è€å¸ˆæå‡ºçš„ç¬¬äºŒç§Agentæ¨¡å¼ï¼š**Tool use**ã€‚

ç°åœ¨ï¼ŒOpenAI ä¸ä»…ä¸ºæˆ‘ä»¬çš„ Assistant æä¾›äº†å¼ºå¤§çš„GPTæ¨¡å‹ï¼Œè¿˜æä¾›äº†ä¸‰ç§å·¥å…·ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ File searchã€Code Interpreter å’Œ Functionsã€‚å®ƒä»¬å…è®¸Assistantæ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ã€ç¼–å†™å’Œè¿è¡Œä»£ç ã€æ£€ç´¢æ–‡æ¡£ä¿¡æ¯ï¼Œ**å¤§å¤§æ‰©å±•äº†** **Assistant** **çš„åº”ç”¨åœºæ™¯**ã€‚

èƒ½å¤Ÿè°ƒç”¨å·¥å…·äº†ï¼è¿™å°±ä½¿OpenAI Assistantä¸å†ä»…ä»…æ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯æˆä¸ºäº†ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€é€‚åº”æ€§å¼ºçš„AIåŠ©æ‰‹ã€‚â€”â€”å®ƒè¿›åŒ–äº†ï¼

å…·ä½“æ¥è¯´ï¼š

- Functionsï¼ˆå‡½æ•°ï¼‰ï¼š Functionså…è®¸å¼€å‘è€…å®šä¹‰è‡ªå·±çš„å‡½æ•°ï¼Œå¹¶è®©Assistantåœ¨å¯¹è¯ä¸­åŠ¨æ€è°ƒç”¨è¿™äº›å‡½æ•°ã€‚è¿™ä½¿å¾—Assistantèƒ½å¤Ÿæ‰§è¡Œç‰¹å®šçš„è®¡ç®—ã€æ•°æ®å¤„ç†ã€å¤–éƒ¨APIè°ƒç”¨ç­‰ä»»åŠ¡ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªè®¡ç®—è®¢å•æ€»ä»·çš„å‡½æ•°ï¼Œå½“ç”¨æˆ·è¯¢é—®è®¢å•ä»·æ ¼æ—¶ï¼ŒAssistantå¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶å°†è®¡ç®—ç»“æœå‘Šè¯‰ç”¨æˆ·ã€‚Functionsä½¿Assistantèƒ½å¤Ÿä¸å¤–éƒ¨ç³»ç»Ÿå’ŒæœåŠ¡è¿›è¡Œäº¤äº’ï¼Œèƒ½å¤Ÿæ‰§è¡Œä»£ç ï¼Œå®Œæˆå…·ä½“åŠŸèƒ½ã€‚
- Code Interpreterï¼ˆä»£ç è§£é‡Šå™¨ï¼‰ï¼šCode Interpreteréå¸¸å¼ºå¤§ï¼Œå®ƒå…è®¸Assistantç¼–å†™ã€è¿è¡Œå’Œè§£é‡Šä»£ç ã€‚è¿™ä½¿å¾—Assistantèƒ½å¤Ÿå®Œæˆæ•°æ®åˆ†æã€æ•°æ®å¯è§†åŒ–ã€è‡ªåŠ¨åŒ–ä»»åŠ¡ç­‰å¤æ‚çš„ç¼–ç¨‹å·¥ä½œã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸Šä¼ ä¸€ä¸ªåŒ…å«é”€å”®æ•°æ®çš„CSVæ–‡ä»¶ï¼Œå¹¶è¯·æ±‚Assistantç”Ÿæˆä¸€ä¸ªé”€å”®æŠ¥å‘Šï¼Œè¿›è¡Œæ•°æ®åˆ†æï¼Œç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ï¼Œå¹¶å°†æŠ¥å‘Šè¿”å›ç»™ç”¨æˆ·ã€‚
- File searchï¼ˆæ£€ç´¢ï¼‰ï¼šFile searchæ˜¯æ–‡æ¡£æ£€ç´¢å·¥å…·ï¼Œå®ƒå…è®¸Assistantä»ä¸€ç»„é¢„å…ˆä¸Šä¼ çš„æ–‡æ¡£ä¸­æ£€ç´¢ä¿¡æ¯ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„è¯¢é—®æä¾›ç›¸å…³çš„ç­”æ¡ˆã€‚ä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥å°†äº§å“æ‰‹å†Œã€FAQã€çŸ¥è¯†åº“ç­‰å„ç§æ–‡æ¡£ä¸Šä¼ åˆ°Assistantä¸­ï¼Œå½“ç”¨æˆ·æå‡ºé—®é¢˜æ—¶ï¼ŒAssistantå¯ä»¥è‡ªåŠ¨åœ¨è¿™äº›æ–‡æ¡£ä¸­æœç´¢ç­”æ¡ˆï¼Œå¹¶å°†æœ€ç›¸å…³çš„ä¿¡æ¯è¿”å›ç»™ç”¨æˆ·ã€‚

æœªæ¥ï¼ŒOpen AI å…¬å¸è¿˜è®¡åˆ’å‘å¸ƒæ›´å¤šçš„å·¥å…·ï¼Œå¹¶å…è®¸æˆ‘ä»¬ä½œä¸ºå¼€å‘è€…ï¼Œåœ¨ OpenAI ç½‘ç«™ä¸Šæä¾›å¼€å‘è€…è‡ªå·±å®šä¹‰çš„å·¥å…·ï¼Œé‚£ä¹ˆAssistantçš„èƒ½åŠ›å°†å˜å¾—æ›´åŠ å¼ºå¤§å’Œçµæ´»ã€‚

### åœ¨ Assistant ä¸­æ·»åŠ  Function

ä¸‹é¢ï¼Œæˆ‘ä»¬åœ¨Assistantä¸­æ·»åŠ Functionï¼Œæ¥å®Œæˆä¸€ä¸ªè´­ç‰©è½¦è®¢å•æ€»ä»·è®¡ç®—çš„åŠŸèƒ½ã€‚

ç¬¬ä¸€æ­¥ï¼Œæ˜¯é€‰æ‹©+Functionå›¾æ ‡ï¼Œæ·»åŠ Functionçš„å®šä¹‰ã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/82/37/826576393d157705506c6bd6819fbe37.png?wh=477x127)

ç¬¬äºŒæ­¥ï¼Œåˆ™æ˜¯æ·»åŠ åŠŸèƒ½çš„è°ƒç”¨è¯´æ˜ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/3b/9b/3b058c956d523ee55d3f3511c9cbc79b.png?wh=955x1293)

æ–‡æœ¬å¦‚ä¸‹ï¼š

```plain
{
Â  "name": "calculate_order_total",
Â  "description": "æ ¹æ®å¤šä¸ªå•†å“ç±»å‹å’Œæ•°é‡è®¡ç®—è®¢å•æ€»ä»·",
Â  "parameters": {
Â  Â  "type": "object",
Â  Â  "properties": {
Â  Â  Â  "items": {
Â  Â  Â  Â  "type": "array",
Â  Â  Â  Â  "items": {
Â  Â  Â  Â  Â  "type": "object",
Â  Â  Â  Â  Â  "properties": {
Â  Â  Â  Â  Â  Â  "item_type": {
Â  Â  Â  Â  Â  Â  Â  "type": "string",
Â  Â  Â  Â  Â  Â  Â  "description": "å•†å“ç±»å‹,ä¾‹å¦‚:ä¹¦ç±,æ–‡å…·,ç”µå­äº§å“"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "quantity": {
Â  Â  Â  Â  Â  Â  Â  "type": "integer",
Â  Â  Â  Â  Â  Â  Â  "description": "å•†å“æ•°é‡"
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  "required": [
Â  Â  Â  Â  Â  Â  "item_type",
Â  Â  Â  Â  Â  Â  "quantity"
Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  },
Â  Â  "required": [
Â  Â  Â  "items"
Â  Â  ]
Â  }
}
```

æ­¤å¤„çš„è¿™ä¸ªè°ƒç”¨è¯´æ˜éœ€è¦ç‰¹åˆ«è§£é‡Šï¼Œ**å› ä¸º** **Function** **çš„è¯´æ˜å’Œå®é™…çš„å‡½æ•°ä»£ç æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼Œå¾ˆå®¹æ˜“æ··æ·†**ã€‚è®©æˆ‘æ¥è¯¦ç»†è§£é‡Šä¸€ä¸‹å®ƒä»¬çš„ä¸åŒä¹‹å¤„ã€‚

Functionçš„è¯´æ˜ï¼Œå¦‚å›¾ä¸­æ‰€ç¤ºï¼Œæ˜¯ä¸€ä¸ªJSONæ ¼å¼çš„å¯¹è±¡ï¼Œç”¨äºå‘Assistantæè¿°ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°ï¼Œä¹Ÿå«åš**æè¿°å‡½æ•°çš„å…ƒæ•°æ®**ã€‚è¿™ä¸ªJSONå¯¹è±¡åŒ…å«äº†å‡½æ•°çš„åç§°ï¼ˆnameï¼‰ã€æè¿°ï¼ˆdescriptionï¼‰ã€å‚æ•°ï¼ˆparametersï¼‰ç­‰å…ƒæ•°æ®ä¿¡æ¯ã€‚å®ƒçš„ä½œç”¨æ˜¯è®©Assistantäº†è§£è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½ã€è¾“å…¥å‚æ•°çš„ç±»å‹å’Œæ ¼å¼ï¼Œä»¥åŠå“ªäº›å‚æ•°æ˜¯å¿…éœ€çš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªJSONå¯¹è±¡æœ¬èº«å¹¶ä¸åŒ…å«å‡½æ•°çš„å®ç°ä»£ç ã€‚

ä¾‹å¦‚ï¼Œå›¾ä¸­çš„JSONå¯¹è±¡æè¿°äº†ä¸€ä¸ªåä¸º â€œcalculate\_order\_totalâ€ çš„å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯â€œæ ¹æ®å¤šä¸ªå•†å“ç±»å‹å’Œæ•°é‡è®¡ç®—è®¢å•æ€»ä»·â€ï¼Œå®ƒæ¥å—ä¸€ä¸ªåä¸º â€œitemsâ€ çš„å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªåŒ…å« â€œitem\_typeâ€ å’Œ â€œquantityâ€ å±æ€§çš„å¯¹è±¡ã€‚

è€Œå®é™…çš„å‡½æ•°ä»£ç ï¼Œåˆ™æ˜¯è¿™ä¸ªå‡½æ•°çš„å…·ä½“å®ç°ï¼Œå®ƒå®šä¹‰äº†å‡½æ•°å¦‚ä½•å¤„ç†è¾“å…¥å‚æ•°ã€æ‰§è¡Œè®¡ç®—ã€è¿”å›ç»“æœç­‰ç»†èŠ‚ã€‚å‡½æ•°ä»£ç æ˜¯ç”¨ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Pythonã€JavaScriptç­‰ï¼‰ç¼–å†™çš„ï¼Œè€Œä¸æ˜¯JSONæ ¼å¼ã€‚

ä¾‹å¦‚ï¼Œå¯¹åº”äºä¸Šè¿°JSONæè¿°çš„ â€œcalculate\_order\_totalâ€ å‡½æ•°ï¼Œå…¶å®é™…çš„Pythonå®ç°ä»£ç å¯èƒ½å¦‚ä¸‹ï¼š

```plain
def calculate_order_total(items):
    item_prices = {
        "ä¹¦ç±": 10,
        "æ–‡å…·": 5,
        "ç”µå­äº§å“": 100
    }
    total_price = 0
    for item in items:
        price_per_item = item_prices.get(item['item_type'], 0)
        total_price += price_per_item * item['quantity']
    return total_price
```

è¿™ä¸ªPythonå‡½æ•°æ¥å—ä¸€ä¸ª â€œitemsâ€ å‚æ•°ï¼Œéå†å…¶ä¸­çš„æ¯ä¸ªå•†å“ï¼Œæ ¹æ®å•†å“ç±»å‹æŸ¥æ‰¾å•ä»·ï¼Œç´¯åŠ è®¡ç®—æ€»ä»·ï¼Œå¹¶è¿”å›ç»“æœã€‚ä¸è¿‡ï¼Œè¿™ä¸ªå‡½æ•°çš„å…·ä½“Pythonä»£ç æˆ‘ä»¬æ²¡å¿…è¦è®©AssistantsçŸ¥é“ï¼ˆå®ƒåªéœ€è¦çŸ¥é“å‡½æ•°çš„å…ƒæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨æ ¼å¼å’Œæ¥å£ï¼‰ï¼Œå…·ä½“Pythonä»£ç æ˜¯åœ¨ä¸‹ä¸€æ­¥çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬æ‰éœ€è¦åŠ å…¥çš„å†…å®¹ã€‚

å› æ­¤ï¼Œå†æ¬¡å¼ºè°ƒä¸€æ¬¡ï¼š**åˆšæ‰åœ¨** **Playground** **ä¸­æ·»åŠ çš„** **Function** **çš„è¯´æ˜**ï¼ˆJSONå¯¹è±¡ï¼‰**å’Œå®é™…çš„å‡½æ•°ä»£ç æœ‰ç€æ˜ç¡®çš„åŒºåˆ«ã€‚**

- Functionçš„è¯´æ˜æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œç”¨äºå‘Assistantæè¿°å‡½æ•°çš„å…ƒæ•°æ®ï¼Œå¦‚å‡½æ•°åç§°ã€å‚æ•°ç±»å‹ç­‰ï¼Œä½†ä¸åŒ…å«å‡½æ•°çš„å®ç°ä»£ç ã€‚
- å®é™…çš„å‡½æ•°ä»£ç æ˜¯ç”¨ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ï¼Œå®ƒå®šä¹‰äº†å‡½æ•°çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œå¦‚ä½•å¤„ç†è¾“å…¥å‚æ•°ã€æ‰§è¡Œè®¡ç®—ã€è¿”å›ç»“æœç­‰ã€‚

åœ¨ä½¿ç”¨Function callingæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæä¾›å‡½æ•°çš„JSONæè¿°ï¼ŒAssistantäº†è§£å‡½æ•°çš„æ¥å£å®šä¹‰ã€‚ç„¶ååœ¨ä»£ç ä¸­å®ç°å¯¹åº”çš„å‡½æ•°ã€‚å½“Assistantåœ¨å¯¹è¯ä¸­å†³å®šè°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå®ƒä¼šæ ¹æ®JSONæè¿°ç”Ÿæˆä¸€ä¸ªåŒ…å«å…·ä½“å‚æ•°å€¼çš„JSONå¯¹è±¡â€”â€”è¿™ä¹Ÿå°±æ˜¯**å‡½æ•°è°ƒç”¨çš„å…ƒæ•°æ®**ï¼Œæˆ‘ä»¬çš„ä»£ç éœ€è¦è§£æè¿™ä¸ªJSONå¯¹è±¡ï¼Œæå–å‚æ•°å€¼ï¼Œè°ƒç”¨ç›¸åº”çš„å‡½æ•°ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™Assistantã€‚

å¦‚æœä½ è¿˜æ²¡æœ‰å®Œå…¨å¼„æ‡‚è¿™ä¸ªæµç¨‹ä¹Ÿä¸è¦ç´§ï¼Œæˆ‘ä»¬é©¬ä¸Šå°±å®ç°è¿™ä¸ªæµç¨‹ã€‚

## åœ¨ç¨‹åºä¸­è°ƒç”¨ Assistant

ä¸‹é¢ï¼Œæˆ‘å°±å¸¦ç€ä½ åœ¨ç¨‹åºä¸­è°ƒç”¨è¿™ä¸ªåˆšåˆšåˆ›å»ºçš„Assistantï¼Œæ¥çœŸçœŸå®å®åœ°å®Œæˆä¸€ä¸ªè´­ç‰©ç¯®è®¢å•é‡‘é¢çš„è®¡ç®—å·¥å…·ã€‚

æˆ‘ä»¬é¦–å…ˆé€šè¿‡åˆšæ‰è®°å½•ä¸‹æ¥çš„IDæ£€ç´¢äº†ä¹‹å‰åˆ›å»ºçš„Assistantã€‚

### æ£€ç´¢åˆ°å¹¶è·å– Assistant

```plain
# æ£€ç´¢æ‚¨ä¹‹å‰åˆ›å»ºçš„Assistant
assistant_id = "asst_FXoBJo1KlqfpCCKvNIoCyJHB"Â  # ä½ è‡ªå·±çš„åŠ©æ‰‹ID
assistant = client.beta.assistants.retrieve(assistant_id)
print(assistant)
```

### åˆ›å»º Threadï¼Œä¸ Assistant å¯¹è¯

ç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„Threadï¼Œå¹¶å‘Threadæ·»åŠ äº†ç”¨æˆ·çš„æ¶ˆæ¯ï¼Œè¯·æ±‚Assistantè®¡ç®—è®¢å•æ€»ä»·ã€‚æ‰€è°“Threadï¼Œå°±æ˜¯ä½ å’ŒGPTçš„ä¸€æ¬¡ä¼šè¯Sessionï¼Œæˆ‘ä»¬ä¸‹ä¸€è¯¾è¿˜ä¼šç»†è®²å®ƒã€‚

```plain
# åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¹¶åŒæ—¶åˆ›å»ºæ¶ˆæ¯
thread = client.beta.threads.create(
Â  messages=[
Â  Â  {
Â  Â  Â  "role": "user",
Â  Â  Â  "content": "ä½ å¥½,æˆ‘è´­ä¹°äº†ä¸€æœ¬ä¹¦å’Œä¸€ä¸ªç”µå­äº§å“,è¯·å¸®æˆ‘è®¡ç®—ä¸€ä¸‹è®¢å•æ€»ä»·ï¼",
Â  Â  }
Â  ]
)
print(thread)
```

### åˆ›å»º Runï¼Œè¿è¡Œå¯¹è¯

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„Runï¼Œè®©Assistantå¤„ç†è¿™ä¸ªThreadã€‚åœ¨Assistantå¤„ç†Threadçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦è½®è¯¢Runçš„çŠ¶æ€ï¼Œç›´åˆ°çŠ¶æ€å˜ä¸ºrequires\_actionï¼ˆéœ€è¦è°ƒç”¨å‡½æ•°ï¼‰æˆ–completedï¼ˆå¯¹è¯å®Œæˆï¼‰ã€‚

ä¸ºäº†æ–¹ä¾¿è½®è¯¢ï¼ŒOpenAIç»™å‡ºäº†ä¸€ä¸ªcreate\_and\_pollå‡½æ•°ã€‚ï¼ˆå…³äºRunçš„çŠ¶æ€è½¬æ¢æµç¨‹ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è¯¦ç»†ä»‹ç»ï¼‰

```plain
run = client.beta.threads.runs.create_and_poll(
Â  thread_id=thread.id,
Â  assistant_id=assistant.id,
Â  # instructions="You are a personal math tutor. When asked a math question, write and run code to answer the question."
)
run
```

è¾“å‡ºå¦‚ä¸‹ï¼š

```plain
Run(id='run_fMy4vfnomLy0MCwvrpZ5t607', assistant_id='asst_FXoBJo1KlqfpCCKvNIoCyJHB', cancelled_at=None, completed_at=None, created_at=1713628399, expires_at=1713628999, failed_at=None, incomplete_details=None, instructions='é€šè¿‡Functionå¸®æˆ‘è®¡ç®—è´­ç‰©ç¯®é‡‘é¢æ€»é¢', last_error=None, max_completion_tokens=None, max_prompt_tokens=None, metadata={}, model='gpt-4-turbo', object='thread.run', required_action=RequiredAction(submit_tool_outputs=RequiredActionSubmitToolOutputs(tool_calls=[RequiredActionFunctionToolCall(id='call_q0pARrPzUwNVHkxGPJpOTsEv', function=Function(arguments='{"items":[{"item_type":"ä¹¦ç±","quantity":1},{"item_type":"ç”µå­äº§å“","quantity":1}]}', name='calculate_order_total'), type='function')]), type='submit_tool_outputs'), response_format='auto', started_at=1713628399, status='requires_action', thread_id='thread_AJgbyuG0yJjFaHWP30pwfnzX', tool_choice='auto', tools=[FunctionTool(function=FunctionDefinition(name='calculate_order_total', description='æ ¹æ®å¤šä¸ªå•†å“ç±»å‹å’Œæ•°é‡è®¡ç®—è®¢å•æ€»ä»·', parameters={'type': 'object', 'properties': {'items': {'type': 'array', 'items': {'type': 'object', 'properties': {'item_type': {'type': 'string', 'description': 'å•†å“ç±»å‹,ä¾‹å¦‚:ä¹¦ç±,æ–‡å…·,ç”µå­äº§å“'}, 'quantity': {'type': 'integer', 'description': 'å•†å“æ•°é‡'}}, 'required': ['item_type', 'quantity']}}}, 'required': ['items']}), type='function')], truncation_strategy=TruncationStrategy(type='auto', last_messages=None), usage=None, temperature=1.0, top_p=1.0, tool_resources={})
```

create\_and\_pollå‡½æ•°ä¼šä¸æ–­æ£€æŸ¥Runçš„çŠ¶æ€ï¼Œå¹¶æ‰“å°Runçš„è¯¦ç»†ä¿¡æ¯ã€‚å½“Runçš„çŠ¶æ€å˜ä¸ºrequires\_actionæˆ–completedæ—¶ï¼Œå‡½æ•°è¿”å›æœ€æ–°çš„Runå¯¹è±¡ã€‚

### è¯»å– Run è¿”å›çš„å…ƒæ•°æ®

**å½“Runçš„çŠ¶æ€å˜ä¸ºrequires\_actionæ—¶ï¼Œæ„å‘³ç€Assistantéœ€è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥å®Œæˆä»»åŠ¡ã€‚**æˆ‘ä»¬éœ€è¦ä»Runä¸­æå–å‡½æ•°è°ƒç”¨çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡½æ•°åã€å‚æ•°å’ŒIDã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªget\_function\_detailså‡½æ•°ã€‚

```plain
# è¯»å–functionå…ƒæ•°æ®ä¿¡æ¯
def get_function_details(run):
    function_name = run.required_action.submit_tool_outputs.tool_calls[0].function.name
    arguments = run.required_action.submit_tool_outputs.tool_calls[0].function.arguments
    function_id = run.required_action.submit_tool_outputs.tool_calls[0].id
    return function_name, arguments, function_id

# è¯»å–å¹¶æ‰“å°å…ƒæ•°æ®ä¿¡æ¯
function_name, arguments, function_id = get_function_details(run)
print("function_name:", function_name)
print("arguments:", arguments)
print("function_id:", function_id)
```

è¾“å‡ºå¦‚ä¸‹ï¼š

```plain
function_name: calculate_order_total
arguments: {"items":[{"item_type":"ä¹¦ç±","quantity":1},{"item_type":"ç”µå­äº§å“","quantity":1}]}
function_id: call_UPLImNhob6s1XoQ9npdtT3Zh
```

å¯ä»¥çœ‹åˆ°ï¼Œæ­¤å¤„get\_function\_detailså‡½æ•°ä»Runçš„required\_actionä¸­æå–åˆ°äº†æ‰€æœ‰å‡½æ•°è°ƒç”¨ç›¸å…³çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡½æ•°åï¼ˆcalculate\_order\_totalï¼‰ã€JSONæ ¼å¼çš„å‚æ•°ï¼ˆ{â€œitem\_typeâ€:â€œä¹¦ç±â€,â€œquantityâ€:1},{â€œitem\_typeâ€:â€œç”µå­äº§å“â€,â€œquantityâ€:1}]}ï¼‰å’Œå‡½æ•°IDï¼ˆcall\_UPLImNhob6s1XoQ9npdtT3Zhï¼‰ã€‚

è¿™é‡Œå°±æ˜¯Assitantéå¸¸èªæ˜çš„åœ°æ–¹ã€‚

è¯·æ³¨æ„ï¼Œç»è¿‡äº†Runä¸­çš„Functionå¤„ç†ï¼Œä½ çš„æ™ºèƒ½åŠ©ç†æˆåŠŸåœ°æŠŠè‡ªç„¶è¯­è¨€

```
 "ä½ å¥½,æˆ‘è´­ä¹°äº†ä¸€æœ¬ä¹¦å’Œä¸€ä¸ªç”µå­äº§å“ï¼Œè¯·å¸®æˆ‘è®¡ç®—ä¸€ä¸‹è®¢å•æ€»ä»·ï¼"
```

è½¬æ¢æˆäº†å‡½æ•°èƒ½å¤Ÿè¯»æ‡‚çš„è¯­è¨€

```
{"item_type":"ä¹¦ç±","quantity":1},{"item_type":"ç”µå­äº§å“","quantity":1}
```

è¿˜è®°å¾—å§ï¼Œè¿™äº›å°±æ˜¯æˆ‘ä»¬åœ¨Playgroundçš„Functionå…ƒæ•°æ®ä¸­é€šè¿‡JSONæ ¼å¼å®šä¹‰çš„å†…å®¹ã€‚è¿™å°±æ˜¯åŠ¨æ€è°ƒç”¨å‡½æ•°çš„åŸºç¡€ï¼**æˆ‘ä»¬ä¸éœ€è¦ç¡¬æ€§æŒ‡å®šå‡½æ•°ï¼ŒAssitantsä¼šåŠ¨æ€çš„å¸®å’±ä»¬é€‰æ‹©å‡½æ•°ï¼ŒåŒæ—¶ç¡®å®šæ¯ä¸€ä¸ªå‚æ•°çš„ä¼ å…¥æ•°æ®å€¼**ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å‡½æ•°åå’Œå‚æ•°ï¼ŒåŠ¨æ€è°ƒç”¨ç›¸åº”çš„å‡½æ•°ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ç»ˆäºéœ€è¦è°ƒç”¨ç¨‹åºä¸­çš„calculate\_order\_totalå‡½æ•°æ¥è®¡ç®—è®¢å•æ€»ä»·äº†ã€‚

```plain
# å®šä¹‰è®¡ç®—è®¢å•æ€»ä»·å‡½æ•°
def calculate_order_total(items):
    item_prices = {
        "ä¹¦ç±": 10,
        "æ–‡å…·": 5,
        "ç”µå­äº§å“": 100
    }
    total_price = 0
    for item in items:
        price_per_item = item_prices.get(item['item_type'], 0)
        total_price += price_per_item * item['quantity']
    return total_price

# æ ¹æ®Assistantè¿”å›çš„å‚æ•°åŠ¨æ€è°ƒç”¨å‡½æ•°
import json

# å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—å…¸
arguments_dict = json.loads(arguments)

# è°ƒç”¨å‡½æ•°
order_total = globals()[function_name](**arguments_dict)

# æ‰“å°ç»“æœä»¥è¿›è¡ŒéªŒè¯
print(f"è®¢å•æ€»ä»·ä¸º: {order_total} å…ƒ")
```

è¾“å‡ºå¦‚ä¸‹ï¼š

```plain
è®¢å•æ€»ä»·ä¸º: 110 å…ƒ
```

è¿™é‡Œå®šä¹‰äº†calculate\_order\_totalå‡½æ•°ï¼Œç”¨äºæ ¹æ®å•†å“ç±»å‹å’Œæ•°é‡è®¡ç®—è®¢å•æ€»ä»·ã€‚ç„¶åä½¿ç”¨ `json.loads` å°†JSONæ ¼å¼çš„å‚æ•°è½¬æ¢ä¸ºPythonå­—å…¸å¹¶ä½¿ç”¨ `globals()[function_name](**arguments_dict)` åŠ¨æ€è°ƒç”¨å‡½æ•°ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨order\_totalå˜é‡ä¸­ã€‚æ‰“å°è®¢å•æ€»ä»·ä»¥è¿›è¡ŒéªŒè¯ï¼Œç»“æœæ— è¯¯ã€‚

**è®¡ç®—å®Œè®¢å•æ€»ä»·åï¼Œè¿˜æ²¡æœ‰å®Œï¼Œè¿˜éœ€è¦å°†ç»“æœæäº¤ç»™Assistantï¼Œä»¥ä¾¿å®ƒç»§ç»­å¤„ç†Thread**ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªsubmit\_tool\_outputså‡½æ•°ã€‚

```plain
# æäº¤ç»“æœ
run = client.beta.threads.runs.submit_tool_outputs(
Â  Â  thread_id=thread.id,
Â  Â  run_id=run.id,
Â  Â  tool_outputs=[
Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  "tool_call_id": function_id,
Â  Â  Â  Â  Â  Â  "output": str(order_total),
Â  Â  Â  Â  }
Â  Â  ]
)
print("æäº¤ç»“æœä¹‹åRunçš„çŠ¶æ€", run)
```

è¾“å‡ºå¦‚ä¸‹ï¼š

```plain
æäº¤ç»“æœä¹‹åRunçš„çŠ¶æ€ Run(id='run_uznnPaD3mtaJyuiBvX1UFN6a', assistant_id='asst_aT4hurwd35eSave7qrt2t6eJ', cancelled_at=None, completed_at=None, created_at=1711952239, expires_at=1711952839, failed_at=None, file_ids=[], instructions='å¯ä»¥å¸®åŠ©å®¢æˆ·è®¡ç®—å½“å‰è´­ç‰©è½¦çš„å•†å“æ€»ä»·', last_error=None, metadata={}, model='gpt-4-1106-preview', object='thread.run', required_action=None, started_at=1711952240, status='completed', thread_id='thread_9ebLw6qbZCbB6uj9iabMVmSI', tools=[ToolAssistantToolsFunction(function=FunctionDefinition(name='calculate_order_total', description='æ ¹æ®å¤šä¸ªå•†å“ç±»å‹å’Œæ•°é‡è®¡ç®—è®¢å•æ€»ä»·', parameters={'type': 'object', 'properties': {'items': {'type': 'array', 'items': {'type': 'object', 'properties': {'item_type': {'type': 'string', 'description': 'å•†å“ç±»å‹,ä¾‹å¦‚:ä¹¦ç±,æ–‡å…·,ç”µå­äº§å“'}, 'quantity': {'type': 'integer', 'description': 'å•†å“æ•°é‡'}}, 'required': ['item_type', 'quantity']}}}, 'required': ['items']}), type='function')], usage=None, temperature=1.0)
```

submit\_tool\_outputså‡½æ•°å°†å‡½æ•°è°ƒç”¨çš„ç»“æœæäº¤ç»™Assistantï¼ŒåŒ…æ‹¬å‡½æ•°IDå’Œè¾“å‡ºã€‚**æäº¤ç»“æœåï¼ŒRunçš„çŠ¶æ€ä¼šå˜ä¸ºcompletedï¼Œè¡¨ç¤ºAssistantç»ˆäºå®Œæˆäº†ä»»åŠ¡ã€‚**

æœ€åï¼Œæˆ‘ä»¬å†æ¬¡è½®è¯¢Runçš„çŠ¶æ€ï¼Œç›´åˆ°ä»»åŠ¡å®Œå…¨ç»“æŸï¼Œç„¶åè·å–Assistantåœ¨Threadä¸­çš„æœ€ç»ˆå›åº”ã€‚

```plain
# å†æ¬¡è½®è¯¢Runç›´è‡³å®Œæˆ
run = client.beta.threads.runs.poll(thread_id=thread.id, run_id=run.id)

# è·å–Assistantåœ¨Threadä¸­çš„å›åº”
messages = client.beta.threads.messages.list(
    thread_id=thread.id
)
print("å…¨éƒ¨çš„message", messages)

# è¾“å‡ºAssistantçš„æœ€ç»ˆå›åº”
print('ä¸‹é¢æ‰“å°æœ€ç»ˆçš„Assistantå›åº”:')
for message in messages.data:
    if message.role == "assistant":
        print(f"{message.content}\n")
```

è¾“å‡ºå¦‚ä¸‹ï¼š

```plain
å…¨éƒ¨çš„message ThreadMessageList(data=[ThreadMessage(id='msg_mMvOUiL7Ibt0txNvSnXaxiUt', assistant_id=None, content=[MessageCon
[MessageContentText(text=Text(annotations=[], value='æ‚¨çš„è®¢å•æ€»ä»·ä¸º110å…ƒã€‚'), type='text')]
```

è‡³æ­¤ï¼Œæ•´ä¸ªç¨‹åºå°±ç»“æŸäº†ã€‚è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨ç¨‹åºä¸­è°ƒç”¨OpenAI Assistantï¼Œä»¥åŠä½¿ç”¨Function callingåŠŸèƒ½å®Œæˆä¸€ä¸ªç®€å•çš„è®¢å•æ€»ä»·è®¡ç®—ä»»åŠ¡ã€‚ä½ å¯ä»¥å‚è€ƒè¿™ä¸ªç¤ºä¾‹çš„ç»“æ„å’Œé€»è¾‘ï¼Œè®¾è®¡å¹¶å®ç°æ›´åŠ å¤æ‚çš„Assistantäº¤äº’æµç¨‹ï¼Œä»¥æ»¡è¶³ä½ æ‰€éœ€è¦çš„ã€æ›´å®é™…çš„ä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚ã€‚

## åœ¨ç¨‹åºä¸­åˆ›å»º Assistant

å¥½çš„ï¼Œè‡³æ­¤ï¼Œä»Šå¤©çš„ç›®æ ‡ä»»åŠ¡å·²ç»é¡ºåˆ©å®Œæˆã€‚ä¸è¿‡ï¼Œæœ€åï¼Œæˆ‘è¿˜æƒ³è¡¥å……ä¸€ç‚¹å†…å®¹ï¼Œä»¥ä¾¿è®©ä½ æŒæ¡å…¨å±€ã€‚

åˆšæ‰ï¼Œæˆ‘ä»¬çš„ç¨‹åºæ˜¯è°ƒç”¨äº†åœ¨Playgroundä¸­åˆ›å»ºçš„Assistantï¼Œç„¶è€Œåœ¨é¡¹ç›®å®æˆ˜ä¸­ï¼Œåˆ›å»ºAssistantçš„å·¥ä½œå½“ç„¶æ˜¯åœ¨ç¨‹åºä¸­å®Œæˆçš„ã€‚æˆ‘å°†ç”¨client.beta.assistants.createæ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„Assistantï¼Œå¹¶å°†calculate\_order\_totalè¿™ä¸ªå‡½æ•°çš„å…ƒæ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰æ·»åŠ åˆ°Assistantçš„å·¥å…·åˆ—è¡¨ä¸­ã€‚

ä»¥ä¸‹æ˜¯ä»£ç å®ç°ï¼š

```plain
from openai import OpenAI

client = OpenAI()

assistant = client.beta.assistants.create(
    instructions="æ‚¨æ˜¯ä¸€ä¸ªè®¢å•åŠ©æ‰‹ã€‚è¯·ä½¿ç”¨æä¾›çš„å‡½æ•°æ¥è®¡ç®—è®¢å•æ€»ä»·å¹¶å›ç­”é—®é¢˜ã€‚",
    model="gpt-4-1106-preview",
    tools=[{
        "type": "function",
        "function": {
            "name": "calculate_order_total",
            "description": "æ ¹æ®å¤šä¸ªå•†å“ç±»å‹å’Œæ•°é‡è®¡ç®—è®¢å•æ€»ä»·",
            "parameters": {
                "type": "object",
                "properties": {
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "item_type": {
                                    "type": "string",
                                    "description": "å•†å“ç±»å‹,ä¾‹å¦‚:ä¹¦ç±,æ–‡å…·,ç”µå­äº§å“"
                                },
                                "quantity": {
                                    "type": "integer",
                                    "description": "å•†å“æ•°é‡"
                                }
                            },
                            "required": [
                                "item_type",
                                "quantity"
                            ]
                        }
                    }
                },
                "required": [
                    "items"
                ]
            }
        }
    }]
)

print(assistant)
```

è¿™é‡Œé¦–å…ˆå¯¼å…¥OpenAIç±»å¹¶åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯å¯¹è±¡ã€‚ç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„Assistantã€‚åœ¨åˆ›å»ºAssistantæ—¶ï¼Œæˆ‘ä»¬æä¾›äº†ä»¥ä¸‹å‚æ•°.

- instructionsï¼šç»™Assistantçš„æŒ‡ä»¤ï¼Œå‘Šè¯‰å®ƒä½œä¸ºä¸€ä¸ªè®¢å•åŠ©æ‰‹ï¼Œä½¿ç”¨æä¾›çš„å‡½æ•°è®¡ç®—è®¢å•æ€»ä»·å¹¶å›ç­”é—®é¢˜ã€‚
- modelï¼šä½¿ç”¨çš„è¯­è¨€æ¨¡å‹ï¼Œè¿™é‡Œä½¿ç”¨ â€œgpt-4-1106-previewâ€ã€‚
- toolsï¼šä¸€ä¸ªåŒ…å«å‡½æ•°å®šä¹‰çš„åˆ—è¡¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªæä¾›äº†ä¸€ä¸ªå‡½æ•°calculate\_order\_totalï¼Œå®ƒçš„å®šä¹‰ä¸æˆ‘ä»¬åœ¨Playgoundä¸­æŒ‡å®šçš„JSONæ ¼å¼çš„å…ƒæ•°æ®ä¿¡æ¯å®Œå…¨ä¸€è‡´ã€‚

åˆ›å»ºAssistantåï¼Œæˆ‘ä»¬å°†å…¶æ‰“å°å‡ºæ¥ï¼Œä»¥ä¾¿æŸ¥çœ‹æ–°åˆ›å»ºçš„Assistantçš„è¯¦ç»†ä¿¡æ¯ã€‚

è¾“å‡ºå¦‚ä¸‹ï¼š

```plain

Assistant(id='asst_123abc', created_at=1711126020, description=None, file_ids=[], 
instructions='æ‚¨æ˜¯ä¸€ä¸ªè®¢å•åŠ©æ‰‹ã€‚è¯·ä½¿ç”¨æä¾›çš„å‡½æ•°æ¥è®¡ç®—è®¢å•æ€»ä»·å¹¶å›ç­”é—®é¢˜ã€‚', metadata={}, model='gpt-4-1106-preview', 
name=None, object='assistant', tools=[ToolFunction(function=FunctionDefinition(name='calculate_order_total', 
description='æ ¹æ®å¤šä¸ªå•†å“ç±»å‹å’Œæ•°é‡è®¡ç®—è®¢å•æ€»ä»·', parameters={'type': 'object', 'properties': {'items': {'type': 'array', 
'items': {'type': 'object', 'properties': {'item_type': {'type': 'string', 'description': 'å•†å“ç±»å‹,ä¾‹å¦‚:ä¹¦ç±,æ–‡å…·,ç”µå­äº§å“'}, 
'quantity': {'type': 'integer', 'description': 'å•†å“æ•°é‡'}}, 'required': ['item_type', 'quantity']}}}, 
'required': ['items']}), type='function')])
```

è¿™è¡¨æ˜ä¸€ä¸ªæ–°çš„Assistantå·²ç»æˆåŠŸåˆ›å»ºï¼Œå¹¶ä¸”åŒ…å«äº†æˆ‘ä»¬å®šä¹‰çš„calculate\_order\_totalå‡½æ•°ä½œä¸ºå…¶å·¥å…·ã€‚

ç°åœ¨ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°çš„Assistantæ¥å¤„ç†ç”¨æˆ·çš„è®¢å•æŸ¥è¯¢ï¼Œå®ƒä¹Ÿå°†ä½¿ç”¨calculate\_order\_totalå‡½æ•°è®¡ç®—è®¢å•æ€»ä»·ï¼Œå¹¶æä¾›ç›¸åº”çš„å›ç­”ã€‚è¿™ä¸ªAssistantä¸æˆ‘ä»¬åœ¨Playgroundä¸­åˆ›å»ºçš„å®Œå…¨ç›¸åŒã€‚

## æ€»ç»“æ—¶åˆ»

ä¸Šé¢å°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¿™èŠ‚è¯¾çš„å…¨éƒ¨å†…å®¹ã€‚ä½ çœ‹è§äº†Assistantsä¸­å„ç§å·¥å…·å¼€å§‹äº®ç›¸å¹¶å¤§æ˜¾èº«æ‰‹ï¼Œå…¶ä¸­ Functions æ˜¯è‡ªå®šä¹‰çš„å‡½æ•°ï¼ŒCode interpreter æ˜¯ä¸€ä¸ªä»£ç è§£é‡Šå·¥å…·ï¼Œè€Œ File searchåˆ™æ˜¯æ–‡æ¡£æ£€ç´¢å·¥å…·ã€‚

**è¿™äº›å·¥å…·ï¼Œä½¿å¾—** **Assistant** **è·¨è¶Šäº†ä»…ä»…æ˜¯** **Chatbot** **çš„é¸¿æ²Ÿï¼Œå˜èº«ä¸ºä¸€ä¸ªèƒ½å¤Ÿå®é™…æ‰§è¡Œä»»åŠ¡ã€è§£å†³é—®é¢˜çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œåœ¨å„ä¸ªé¢†åŸŸéƒ½æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯**ã€‚

æˆ‘ä»¬é€šè¿‡Plangroundå’ŒAPIï¼Œåˆ†åˆ«åˆ›å»ºäº†Assitantã€‚ä¹‹åï¼Œæˆ‘åœ¨å…¶ä¸­æ·»åŠ äº†ä¸€ä¸ªåä¸º â€œcalculate\_order\_totalâ€ çš„Functionï¼Œæä¾›äº†è¯¦ç»†çš„è°ƒç”¨è¯´æ˜ï¼ˆFunction callingï¼‰ï¼Œå¹¶ç‰¹åˆ«å¼ºè°ƒäº†**æè¿°å‡½æ•°çš„å…ƒæ•°æ®ä¸å®é™…å‡½æ•°ä»£ç çš„åŒºåˆ«**ï¼Œé¿å…æ··æ·†ã€‚

é€šè¿‡Assitantï¼Œæˆ‘ä»¬æŠŠè‡ªç„¶è¯­è¨€é—®ç­”ï¼Œè‡ªåŠ¨åœ°è½¬æ¢æˆäº†å‡½æ•°è°ƒç”¨çš„å‚æ•°ï¼Œå¹¶èƒ½å¤ŸåŠ¨æ€åœ°é€‰æ‹©åˆé€‚çš„å‡½æ•°è¿›è¡Œè°ƒç”¨ï¼ˆæ–‡ç« çš„çº¢å­—éƒ¨åˆ†ï¼‰ã€‚â€”â€” è¿™å°±æ˜¯è¿™èŠ‚è¯¾çš„ç²¾é«“ã€‚

ä¹‹åï¼Œåœ¨Pythonç¨‹åºä¸­ï¼Œé€šè¿‡è°ƒç”¨OpenAIçš„APIï¼Œæˆ‘ä»¬ç”¨åˆ›å»ºçš„Assistantæ¥è®¡ç®—è´­ç‰©ç¯®è®¢å•çš„æ€»ä»·ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬åˆ›å»ºThreadã€æ·»åŠ ç”¨æˆ·æ¶ˆæ¯ã€åˆ›å»ºRunã€è½®è¯¢RunçŠ¶æ€ã€æå–å‡½æ•°å…ƒæ•°æ®ã€åŠ¨æ€è°ƒç”¨å‡½æ•°ã€æäº¤å‡½æ•°ç»“æœç­‰æ­¥éª¤ï¼Œæœ€ç»ˆå¾—åˆ°äº†ä»¥è‡ªç„¶è¯­è¨€å‘ˆç°çš„è®¢å•æŸ¥è¯¢ç»“æœã€‚

## æ€è€ƒé¢˜

ä»¥ä¸‹æ˜¯å‡ ä¸ªæ€è€ƒé¢˜ï¼Œå¯ä»¥å¸®åŠ©ä½ è¿›ä¸€æ­¥å·©å›ºå’Œæ‰©å±•ä»Šå¤©å­¦åˆ°çš„å†…å®¹ã€‚

1. é™¤äº†è®¢å•æ€»ä»·è®¡ç®—ï¼Œä½ è¿˜èƒ½æƒ³åˆ°å“ªäº›åœºæ™¯å¯ä»¥è¿ç”¨FunctionsåŠŸèƒ½ï¼Ÿå°è¯•ä¸ºè¿™äº›åœºæ™¯è®¾è®¡åˆé€‚çš„Function callingè¯´æ˜ã€‚
2. åœ¨ç¤ºä¾‹ç¨‹åºä¸­ï¼Œæˆ‘ä»¬åªå®ç°äº†ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯calculate\_order\_totalï¼Œä½ èƒ½å¦æ ¹æ®è‡ªå·±æ€è€ƒåˆ°çš„ä¸šåŠ¡åœºæ™¯ï¼Œå¢åŠ ä¸¤ä¸ªå…¶å®ƒå‡½æ•°ã€‚ç„¶åï¼Œä½ çš„Assistantåº”è¯¥èƒ½å¤Ÿæ ¹æ®å…·ä½“é—®é¢˜ï¼ˆç”¨æˆ·çš„å¯¹è¯ï¼‰ï¼Œæ¥è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚
3. åœ¨ç¤ºä¾‹ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„å•†å“ä»·æ ¼å­—å…¸æ¥è®¡ç®—è®¢å•æ€»ä»·ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™äº›æ•°æ®å½“ç„¶æ¥è‡ªæ•°æ®åº“æˆ–å¤–éƒ¨APIã€‚è¯·å°è¯•ä¿®æ”¹ç¨‹åºï¼Œä»å¤–éƒ¨æ•°æ®æºè·å–å•†å“ä»·æ ¼ä¿¡æ¯ã€‚
4. OpenAIç»™å‡ºçš„ [Assistants](https://platform.openai.com/docs/assistants/overview) å®˜æ–¹æ–‡æ¡£ï¼Œè´¨é‡å…¶å®ä¹Ÿæ˜¯éå¸¸ä¸é”™çš„ï¼Œæˆ‘ä¹Ÿå»ºè®®ä½ å»é˜…è¯»ä¸€ä¸‹ï¼Œä½œä¸ºå­¦ä¹ è¿‡ç¨‹ä¸­æŸ¥æ¼è¡¥ç¼ºçš„åŸºæœ¬æŒ‡å—ã€‚

æœŸå¾…ä½ çš„æ€è€ƒï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºä¸æˆ‘äº¤æµã€‚å¦‚æœä»Šå¤©çš„å†…å®¹è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾è½¬å‘ç»™æœ‰éœ€è¦çš„æœ‹å‹ï¼æˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ13ï¼‰</strong></div><ul>
<li><span>Geek_9948a5</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è¿™é‡Œçš„Assistant æœ¬è´¨æ˜¯ä¸æ˜¯å°±æ˜¯ä¸€ä¸ªagentï¼Ÿ
å°±åƒè€å¸ˆä¹‹å‰çš„langchainè¯¾ç¨‹ä¸­æ‰€è®²ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åŸºäºlangchain+reactæ¡†æ¶ æ­å»ºä¸€ä¸ªå…·å¤‡è°ƒç”¨å¤–éƒ¨å·¥å…·çš„agentã€‚
é‚£ä¹ˆAssistant å’ŒåŸºäºlangchainæ­å»ºçš„agentçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>2024-05-28</li><br/><li><span>Jay</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>èƒ½æä¾›å®Œæˆçš„ä»£ç å— ï¼Œï¼Œä½ æä¾›çš„ä»£ç ç‰‡æ®µè·‘ä¸èµ·æ¥</p>2024-05-25</li><br/><li><span>é™ˆä¸œ</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>é™¤äº†è®¡ç®—è®¢å•æ€»é¢ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å®ç°ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š

1. `apply_discount(order_total, discount_percentage)`: è¯¥å‡½æ•°ç”¨äºè®¡ç®—è®¢å•æ€»é¢ä¸­çš„æŠ˜æ‰£é‡‘é¢ã€‚ç”¨æˆ·å¯ä»¥æä¾›è®¢å•æ€»é¢å’ŒæŠ˜æ‰£ç™¾åˆ†æ¯”ï¼Œå‡½æ•°ä¼šè¿”å›åº”ç”¨æŠ˜æ‰£åçš„è®¢å•æ€»é¢ã€‚

```python
def apply_discount(order_total, discount_percentage):
    discount_amount = order_total * discount_percentage &#47; 100
    discounted_total = order_total - discount_amount
    return discounted_total
```

2. `calculate_shipping_cost(order_weight, shipping_rate)`: è¿™ä¸ªå‡½æ•°ç”¨äºè®¡ç®—è®¢å•çš„è¿è¾“æˆæœ¬ã€‚ç”¨æˆ·å¯ä»¥æä¾›è®¢å•çš„é‡é‡å’Œæ¯ç£…è¿è¾“è´¹ç”¨ï¼Œå‡½æ•°å°†è¿”å›è®¢å•çš„è¿è¾“æ€»æˆæœ¬ã€‚

```python
def calculate_shipping_cost(order_weight, shipping_rate):
    shipping_cost = order_weight * shipping_rate
    return shipping_cost
```

é€šè¿‡è¿™ä¸¤ä¸ªæ–°çš„å‡½æ•°ï¼Œå¯ä»¥æ›´å…¨é¢åœ°å¤„ç†ç½‘ä¸Šå•†åº—çš„è®¢å•ç›¸å…³åŠŸèƒ½ã€‚åœ¨å…·ä½“å¯¹è¯ä¸­ï¼Œæ ¹æ®ç”¨æˆ·çš„éœ€æ±‚ï¼Œæˆ‘ä¼šè‡ªåŠ¨é€‰æ‹©è°ƒç”¨åˆé€‚çš„å‡½æ•°æ¥æ»¡è¶³ç”¨æˆ·çš„è¦æ±‚ã€‚</p>2024-05-21</li><br/><li><span>åœ¨è·¯ä¸Š</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>ä½³å“¥å¥½ï¼Œè®©å¤§æ¨¡å‹ä»ä¸€ç»„å‡½æ•°ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œå¹¶ç²¾ç¡®åœ°æŒ‡å®šæ¯ä¸ªå‚æ•°ï¼Œæ˜¯å¦æœ‰é€‚ç”¨çš„è¾¹ç•Œï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥é€‰æ‹©å¤§æ¨¡å‹æ¨¡ç³Šè°ƒç”¨ï¼Œä»€ä¹ˆæ—¶å€™è¯¥é€‰æ‹©ä¼ ç»Ÿç¼–ç¨‹å®ç°ç²¾ç¡®è°ƒç”¨ï¼Ÿå¦‚æœå¤§æ¨¡å‹è°ƒç”¨å‡½æ•°å¤±è´¥ï¼Œé™¤äº†ç»™å®šä¸€ä¸ªé»˜è®¤å‡½æ•°ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•èƒ½è°ƒä¼˜è°ƒç”¨å‡½æ•°çš„æ‰‹æ®µå—ï¼Œè®©ä¸æˆåŠŸå˜å¾—æˆåŠŸã€‚</p>2024-06-06</li><br/><li><span>è‰¯è®°</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>Assistant æ˜¯æ€ä¹ˆçŸ¥é“è¦è°ƒç”¨æœåŠ¡çš„åœ°å€çš„ï¼Ÿä¸€å¼€å§‹çš„functionå°±å®šä¹‰äº†å‡½æ•°çš„å…ƒæ•°æ®ï¼Œé‚£ä¹ˆå®ç°è¿™ä¸ªfunctionçš„æœåŠ¡ä½ç½®åˆåº”è¯¥åœ¨å“ªé‡Œé…ç½®ï¼Ÿ</p>2024-06-01</li><br/><li><span>Geek_zbvt62</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<p>1. è¯·é—®å®Œæ•´çš„ä»£ç åœ¨å“ªé‡Œï¼Ÿ
æˆ‘åœ¨æ‰§è¡Œæ—¶ï¼Œæœ‰ä¸€å®šå‡ ç‡å‡ºç°å¼‚å¸¸ï¼š
    function_name = run.required_action.submit_tool_outputs.tool_calls[0].function.name
    AttributeError: &#39;NoneType&#39; object has no attribute &#39;submit_tool_outputs&#39;
é€šè¿‡ print(run.status) æ‰“å°çŠ¶æ€ï¼Œå‘ç°æ˜¯completeè€Œä¸æ˜¯required_action...
è¿™å’Œapiçš„limitæœ‰å…³ç³»ä¹ˆ(æˆ‘æ²¡æœ‰è°ƒç”¨å¾ˆé¢‘ç¹)ï¼Ÿäº¦æˆ–è€…å’Œç½‘ç»œæœ‰å…³ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šç›´æ¥å¾—åˆ°ä¸€ä¸ªcompleteçš„çŠ¶æ€ï¼Ÿ

2. æƒ³æ‰¾python sdkçš„è¯¦ç»†æ–‡æ¡£è¯·é—®å“ªé‡Œæœ‰ï¼Ÿå®˜ç½‘ä¸Šå¤§ç¯‡å¹…çš„éƒ½æ˜¯restful apiçš„æ–‡æ¡£</p>2024-05-29</li><br/><li><span>ç†Šå‡ºæ²¡</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>åˆ›å»ºAssistantsæ—¶æ¨¡å‹é€‰æ‹©åªæœ‰gpt-3.5-turbo-16kã€gpt-3.5-turbo-0125ã€gpt-3.5-turboã€CHATè¿™å‡ ä¸ªé€‰æ‹© å’Œè€å¸ˆçš„ä¸ä¸€æ · ä¸ºä»€ä¹ˆ
</p>2024-05-28</li><br/><li><span>yision97</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>å„ä½ä½¿ç”¨çš„ä»€ä¹ˆæ”¯ä»˜æ–¹æ¡ˆå•Šï¼Œæˆ‘çš„å¡è¢«å°äº†</p>2024-05-22</li><br/><li><span>ç•Œå…ƒ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<p>å­¦ä¹ å®Œäº†ï¼Œå¯¹äºorder_total = globals()[function_name](**arguments_dict)çš„function_nameæ€ä¹ˆæ¥çš„ä¸å¤ªç†è§£ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯calculate_order_totalï¼Ÿ</p>2024-05-22</li><br/><li><span>Geek_7593a0</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ8ï¼‰<p>é—®ï¼Œè¿™æ ·çš„åœºæ™¯ç”¨aiå¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆçš„ä¼˜åŠ¿åœ¨å“ªé‡Œ</p>2024-05-20</li><br/><li><span>qinsi</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<p>æ„Ÿè§‰æç¤ºä¸å†™æ¸…æ¥šçš„è¯ï¼Œchatgptåœ¨é€‰æ‹©æ˜¯å¦è°ƒç”¨toolsã€ä»¥åŠè°ƒç”¨å“ªä¸ªtoolä¸Šè¿˜æœ‰ç‚¹éšç¼˜ã€‚æ‰€ä»¥æ‰ä¼šæœ‰å¼ºåˆ¶ä½¿ç”¨æŸä¸ªtoolæˆ–functionçš„é€‰é¡¹æ¥å…œåº•</p>2024-05-20</li><br/><li><span>Family mission</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>å¦‚ä½•è¿›å…¥äº¤æµç¾¤å•Šï¼Œåˆ†äº«ä¸‹é“¾æ¥æˆ–äºŒç»´ç </p>2025-01-02</li><br/><li><span>Sandy</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>åœ¨run Cart_Price_Finally.py è„šæœ¬ä¸­ å‡ºç°itemsçš„ä¸­æ–‡åç§°ä¹±ç  è¿™æ ·ç»“æœä¹Ÿå°±ä¸æ­£ç¡®ã€‚æ€ä¹ˆè§£å†³ï¼Ÿ</p>2024-07-16</li><br/>
</ul>