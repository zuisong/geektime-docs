ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ä½³ã€‚

æ¬¢è¿æ¥åˆ°é›¶åŸºç¡€å®æˆ˜æœºå™¨å­¦ä¹ ã€‚å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œå¥½çš„ç¯å¢ƒè®©æˆ‘ä»¬äº‹åŠåŠŸå€ã€‚ä»Šå¤©æˆ‘è¦è®²çš„å°±æ˜¯æ€ä¹ˆæ¥æ­å»ºæœºå™¨å­¦ä¹ è¿è¡Œçš„ç¯å¢ƒã€‚

ä½ ä¹Ÿè®¸å¬è¯´è¿‡æœºå™¨å­¦ä¹ é¡¹ç›®å¯¹é…ç½®è¦æ±‚é«˜ï¼Œç¡¬ä»¶ä¸Šéœ€è¦å¸¦GPUçš„æ˜¾å¡ï¼Œè½¯ä»¶ä¸Šé¢éœ€è¦åœ¨Server ä¸­æ­å»º PyTorch å’Œ TensorFlow 2.0 ä»€ä¹ˆçš„ã€‚è¿™äº›ä¸œè¥¿æ˜¯ä¸æ˜¯å¬èµ·æ¥å°±æŒºéº»çƒ¦çš„ã€‚

å…¶å®æ²¡æœ‰é‚£ä¹ˆå¤æ‚ã€‚æˆ‘è§‰å¾—å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œä½ ä¸å¿…è¿‡äºçº ç»“ä¸Šé¢çš„å·¥å…·ã€‚æˆ‘ä»¬åªæ˜¯è¦è¿›è¡Œä¸€äº›ç®€å•çš„å®æˆ˜é¡¹ç›®ã€‚è€Œè¿™äº›ç®€å•çš„é¡¹ç›®ï¼Œåœ¨æœ¬æœºä¸Šå®Œå…¨å¯ä»¥è·‘é€šã€‚æ‰€ä»¥æˆ‘å»ºè®®ä½ å°±ç”¨ä½ æ‰‹å¤´ä¸Šçš„ç¬”è®°æœ¬ç”µè„‘ï¼Œè£…ä¸ªJupyter Notebookå°±è¶³å¤Ÿäº†ã€‚

ä½ å¬åˆ°è¿™å¯èƒ½ä¼šæƒ³é—®ä»€ä¹ˆæ˜¯Jupyter Notebookå‘€ï¼Ÿä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªç±»ä¼¼äºç½‘é¡µçš„å¤šåª’ä½“æ–‡æ¡£ï¼Œä½†æ˜¯ï¼Œæ¯”æ™®é€šç½‘é¡µæ›´é«˜ä¸€ç­¹çš„æ˜¯ï¼Œå®ƒè¿˜èƒ½ç›´æ¥é€šè¿‡æµè§ˆå™¨è¿è¡Œä»£ç å—ï¼Œåœ¨ä»£ç å—ä¸‹æ–¹å±•ç¤ºè¿è¡Œç»“æœï¼Œå°±åƒä¸‹å›¾ä¸­è¿™æ ·ï¼š

![](https://static001.geekbang.org/resource/image/a3/eb/a38f6f907c83e1cbb30dec791ef265eb.png?wh=1261x792)

Jupyter Notebookå¯ä»¥äº¤äº’å¼å¼€å‘ï¼Œå†åŠ ä¸Šæ‹¥æœ‰å¯Œæ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥æ˜¾ç¤ºå›¾æ–‡ï¼Œéå¸¸ç›´è§‚ï¼Œæ‰€ä»¥å®ƒèƒ½è¿…é€Ÿåœ°å±•ç°æ•°æ®åˆ†æå¸ˆçš„æƒ³æ³•ï¼Œæ˜¯æˆ‘ä»¬ä¸Šæ‰‹æœºå™¨å­¦ä¹ çš„æœ€ä½³å·¥å…·ã€‚

é€‰å¥½äº†å·¥å…·ä¹‹åï¼Œæˆ‘ä»¬è¿˜å¾—ç¡®å®šè¦ç”¨ä»€ä¹ˆè¯­è¨€ã€‚æˆ‘ä»¬è¯¾ç¨‹é€‰çš„æ˜¯Pythonï¼Œæ‰€æœ‰æºä»£ç éƒ½æ˜¯ç”¨Pythonå®ç°çš„ã€‚ä¹‹æ‰€ä»¥é€‰Pythonæ˜¯å› ä¸ºPythonåœ¨AIå¼€å‘ä¸­æ˜¯æœ€å¸¸ç”¨çš„è¯­è¨€äº†ï¼Œè€Œä¸”Pythonéå¸¸ç®€å•ï¼Œåªè¦ä½ ç¨å¾®æœ‰äº›ç¼–ç¨‹æ–¹é¢çš„åŸºç¡€çŸ¥è¯†ï¼Œå°±èƒ½çœ‹æ‡‚æˆ‘ä»¬çš„ä»£ç ã€‚è€Œæˆ‘ä»¬æ¨èä½¿ç”¨çš„å·¥å…·Jupyter Notebookå¯ä»¥æ”¯æŒå¤šç§è¯­è¨€ï¼Œå…¶ä¸­å°±åŒ…æ‹¬Pythonã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ30ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/2a/02/42/e8ef9639.jpg" width="30px"><span>è¶èˆæ¸…é£å¯’</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>1ã€ plotlPlotlyå·¥å…·æ˜¯åŸºäºæµè§ˆå™¨çš„äº¤äº’å·¥å…·ï¼Œå…¶ç»˜å›¾ç»“æœhtmlç½‘é¡µæ–‡ä»¶ï¼Œå› æ­¤ä¸jupter notebookæ›´åŒ¹é…ï¼›
2ã€è‹¥æ˜¯åœ¨spyderä¸‹è¿è¡Œçš„æ—¶å€™ï¼Œconsoleè¿è¡Œæ—¶æ˜¯ç©ºç™½ï¼›
3ã€è‹¥è¦è§£å†³spyderè¿è¡Œé—®é¢˜ï¼Œéœ€è¦ä»¥ä¸‹æ­¥éª¤
import plotly.io as pio
#å¦‚æœæ‚¨æƒ³åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºæ‚¨çš„å›¾å½¢ä½œä¸ºå®Œå…¨äº¤äº’å¼ç‰ˆæœ¬
pio.renderers.default=&#39;browser&#39;
#è¦åˆ‡æ¢å›åœ¨ Spyder ä¸­ç”Ÿæˆå›¾å½¢
pio.renderers.default=&#39;svg&#39;
åœ¨è„±æœºæ¨¡å¼ä¸‹ï¼Œé€šè¿‡æµè§ˆå™¨æ˜¾ç¤ºå›¾å½¢æˆ–è€…è¿è¡Œç»“æœ
è¯¦ç»†è§£é‡Šéœ€è¦çœ‹ï¼šhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;35315726&#47;plotly-how-to-display-charts-in-spyder</div>2021-09-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/fa/59/52a504f6.jpg" width="30px"><span>u</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import plotly.express as px
import pandas as pd

if __name__ == &#39;__main__&#39; :
    stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]
    dataMale = dict(number=[59, 32, 18, 9, 2],stage=stages)
    dataFemale = dict(number=[29,17,8,3,1],stage=stages)

    df_male = pd.DataFrame(dataMale)
    df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;
    df_female = pd.DataFrame(dataFemale)
    df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;

    df_total = pd.concat(objs=[df_male,df_female],axis=0)
    fig = px.funnel(df_total,x=&quot;number&quot;,y=&quot;stage&quot;,color=&quot;æ€§åˆ«&quot;)
    fig.show()</div>2021-09-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/77/95/0d10d4b2.jpg" width="30px"><span>èŒœèŒœ</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import plotly.express as px
import pandas as pd
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]
df_male = pd.DataFrame(dict(number = [59,32,18,9,2], stage = stages, gender = &#39;ç”·æ€§&#39;))
df_female = pd.DataFrame(dict(number = [66,34,20,12,4], stage = stages, gender = &#39;å¥³æ€§&#39;))
df = pd.concat([df_male, df_female], axis = 0)
fig = px.funnel(df, x = &#39;number&#39;, y = &#39;stage&#39;, color = &#39;gender&#39;)
fig.show()</div>2021-09-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/63/53/b4590ccc.jpg" width="30px"><span>é˜¿æ–‡</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>æˆ‘è¿™æ¼æ–—å›¾å‡ºä¸æ¥ï¼Œå‡ºç°äº†ä¸€å—ç©ºç™½åŒºåŸŸã€‚è¿™æ˜¯å•¥æƒ…å†µå•Š</div>2021-09-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/66/8f/02be926d.jpg" width="30px"><span>åœ¨è·¯ä¸Š</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>AIKåŒå­¦å·²ç»ç»™å‡ºäº†æ­£ç¡®ç­”æ¡ˆï¼Œä¸è¿‡åœ¨å®éªŒçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è¾“å‡ºdf_maleå’Œdfæ•°æ®é›†ï¼Œçœ‹çœ‹pandasæ˜¯å¦‚ä½•åˆå¹¶æ•°æ®é›†df_maleå’Œdf_femaleï¼Œplotly.expressæ˜¯å°†ä»€ä¹ˆæ ·çš„æ•°æ®é›†ç»˜åˆ¶æˆå›¾å½¢çš„ã€‚</div>2021-09-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/23/bb/a1a61f7c.jpg" width="30px"><span>GACÂ·DU</span> ğŸ‘ï¼ˆ9ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd 

stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]

df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;

df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages))
df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;

df = pd.concat([df_male, df_female], axis=0) 
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;)

fig.show()</div>2021-09-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg" width="30px"><span>é»„ä½³</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å¦‚æœå¤§å®¶åœ¨å®‰è£…PlotlyåŒ…çš„æ—¶å€™é‡åˆ°éšœç¢ï¼Œä¹Ÿå¯ä»¥å°è¯•ç”¨è¿™ä¸ªè¯­å¥pip install plotly==5.3.1ï¼Œå®‰è£…å®ƒå½“å‰çš„æœ€æ–°ç‰ˆæœ¬ã€‚</div>2021-09-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/29/e9/c5/7ecb497f.jpg" width="30px"><span>é’æ¾</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ5ï¼‰<div>åç­‰æ›´æ–°ï¼</div>2021-09-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/ce/d1/25b26edb.jpg" width="30px"><span>TWJ</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>åˆ†äº«ä¸€ä¸‹ã€‚å®‰è£…pip install plotlyè¿‡ç¨‹ä¸­æŠ¥äº†ä¸€å †é”™ï¼Œæœ€åæ˜¾ç¤ºâ€œValueError: check_hostname requires server_hostnameâ€ï¼Œå…³æ‰ç±»ä¼¼VPNçš„è½¯ä»¶ï¼Œé‡æ–°æ‰§è¡Œå®‰è£…å°±å¯ä»¥äº†ã€‚</div>2022-01-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/22/37/61e24c86.jpg" width="30px"><span>æŠ“ç™½å…”çš„å¤§çŒªæ–‡</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>é»„è€å¸ˆ åœ¨Jupyterä¸­è¿è¡Œä»£ç  pip install plotly å®‰è£…æ¨¡å—æ˜¾ç¤ºå¦‚ä¸‹æŠ¥é”™ï¼Œæ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ
File &quot;C:\Users\APPLE\AppData\Local\Temp&#47;ipykernel_1520&#47;347750890.py&quot;, line 2
    pip install plotly
        ^
SyntaxError: invalid syntax</div>2021-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/35/34/18caeb26.jpg" width="30px"><span>Null</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸æ˜¾ç¤ºç»˜å›¾çš„è§£å†³ï¼š
pip install cufflinks
import cufflinks as cf
#è¿™ä¸¤å¥æ˜¯ç¦»çº¿ç”Ÿæˆå›¾ç‰‡çš„è®¾ç½®
cf.go_offline()
cf.set_config_file(offline=True, world_readable=True)</div>2021-10-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/38/c0/51/77cce580.jpg" width="30px"><span>åˆ˜ä¸œå›</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·æ•™è€å¸ˆï¼Œèƒ½å¦ç›´æ¥ç”¨vs codeå†…ç½®çš„jupyter notebookå‘¢ï¼Ÿ</div>2024-03-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/bf/6f/1916fba0.jpg" width="30px"><span>è´è´</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div> import pandas as pd # å¯¼å…¥Pandas
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ
# æ¼æ–—çš„æ•°æ®
df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;
df_female = pd.DataFrame(dict(number=[29,17,8,3,1], stage=stages))
df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;
df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df
# print(df)
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—
fig.show()

çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œå’Œå‰ç«¯ä½¿ç”¨echartsç”»å›¾å·®ä¸å¤šï¼Œé—®é¢˜æ˜¯éœ€è¦ç†Ÿæ‚‰pandas</div>2024-03-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/38/4f/61/018352d4.jpg" width="30px"><span>é™é™å‘€</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd
stages = [&quot;è®¿é—®æ•°&quot;,&quot;ä¸‹è½½æ•°&quot;,&quot;æ³¨å†Œæ•°&quot;,&quot;æœç´¢æ•°&quot;,&quot;ä¸‹å•æ•°&quot;]
data_male =pd.DataFrame(dict(data = [50,35,20,10,5],stage = stages))
data_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;
data_fmale = pd.DataFrame(dict(data = [40,30,20,10,6],stage = stages))
data_fmale[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;
df = pd.concat([data_male,data_fmale],axis = 0)
fig = px.funnel(df,x = &#39;data&#39;,y=&#39;stage&#39;,color = &#39;æ€§åˆ«&#39;)
fig.show()</div>2023-10-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/38/4f/61/018352d4.jpg" width="30px"><span>é™é™å‘€</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œpip install plotly æç¤ºè®©åœ¨IPython shellä¹‹å¤–è¿è¡Œï¼Œæˆ‘åœ¨cmd è¿è¡Œå®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯åœ¨jupyter è¿è¡Œimport plotly è¿˜æ˜¯ä¼šæŠ¥é”™No module named &#39;plotly&#39;ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿå®‰è£…æ—¶æ˜¯å¦éœ€è¦æŒ‡å®šè·¯å¾„</div>2023-10-30</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Ge7uhlEVxicQT73YuomDPrVKI8UmhqxKWrhtO5GMNlFjrHWfd3HAjgaSribR4Pzorw8yalYGYqJI4VPvUyPzicSKg/132" width="30px"><span>é™ˆä¸œ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import plotly.express as px
ç¬¬ä¸€å¼ å›¾ç‰‡æ¼äº†ä»¥ä¸Šè¿™ä¸ªåŒ….</div>2023-09-24</li><br/><li><img src="" width="30px"><span>Geek_7839ab</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å‚è€ƒå®˜æ–¹æ–‡æ¡£https:&#47;&#47;plotly.com&#47;python&#47;funnel-charts&#47;</div>2023-09-11</li><br/><li><img src="" width="30px"><span>catmao</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>é»„è€å¸ˆï¼Œæ‚¨å¥½ï¼Œå¬äº†æ‚¨çš„è¯¾ï¼Œä¹Ÿä¹°äº†æ‚¨çš„ä¹¦ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œä¹¦ä¸­çš„æ¡ˆä¾‹æ—¶ï¼Œé‡åˆ°äº†é—®é¢˜ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆåœ¨ä½¿ç”¨kaggleä¸­ï¼Œnotebookå³é¢å¹¶æ²¡æœ‰settingè®¾ç½®é€‰é¡¹ï¼Œæ— æ³•è¿›è¡ŒInternetçš„è®¾ç½®ï¼Œç›´æ¥åœ¨çº¿è¿è¡Œï¼Ÿ</div>2023-06-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/36/80/81/791d0f5e.jpg" width="30px"><span>jinsiang_sh</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd # å¯¼å…¥Pandas
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ
# æ¼æ–—çš„æ•°æ®
df_male = pd.DataFrame(dict(number=[59, 32, 18, 9, 2], stage=stages))
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;

df_female = pd.DataFrame(dict(number=[37, 41, 18, 6, 5], stage=stages))
df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;

df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df

fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—
fig.show()</div>2023-03-21</li><br/><li><img src="" width="30px"><span>å†¯ä»å½¬</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd # å¯¼å…¥Pandas
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ
# æ¼æ–—çš„æ•°æ®
df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;
df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages))
df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;
df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—
fig.show()</div>2022-11-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/c4/2b/b3f917ec.jpg" width="30px"><span>ä¸€é¢—çº¢å¿ƒ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç®€å•æ˜“å­¦ï¼Œå¾ˆæœ‰æˆå°±æ„Ÿã€‚ç‚¹èµ</div>2022-07-08</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSYbuvZOUtOddqCVrktJu4uQaeYjJIEnDXkexCFW6FFYv9fUnhJbr1cvzuiaChgsoN6icEKXPmJfUA/132" width="30px"><span>Geek_ad8af6</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd # å¯¼å…¥Pandas
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ
# æ¼æ–—çš„æ•°æ®
df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;
df_female = pd.DataFrame(dict(number=[20, 14, 8, 5, 3], stage=stages))
df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;
df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—
fig.show()</div>2022-06-28</li><br/><li><img src="" width="30px"><span>Geek_bdfd93</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®è€å¸ˆåœ¨jupyter notebook launchçš„æ—¶å€™å‘ç”Ÿ-10673çš„é”™è¯¯æ˜¯æ€ä¹ˆå›äº‹</div>2022-05-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/67/6e/f5ee46e8.jpg" width="30px"><span>æµ·æ»¨</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸çŸ¥é“æœ‰æ²¡æœ‰ä½¿ç”¨visual studio codeæ¥ç¼–å†™jupyter notebookï¼Œæœ€ååœ¨æ˜¾ç¤ºæ¼æ–—å›¾å‡ºç°è¿™ç§æŠ¥é”™çš„æƒ…å†µï¼ŸNo renderer could be found for MIME type: application&#47;vnd.plotly.v1+json
æˆ‘è´´ä¸‹æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼Œåœ¨import plotyåŒ…å‰é¢æ·»åŠ å¦‚ä¸‹ä»£ç 
# è§£å†³vs codeæŠ¥é”™æ‰¾ä¸åˆ°renderæ— æ³•ç›´æ¥æ˜¾ç¤ºplotlyå›¾è¡¨é—®é¢˜
import plotly.io as pio
pio.renderers.default = &quot;notebook_connected&quot;</div>2022-05-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/5a/65/b80035a6.jpg" width="30px"><span>ryan</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>çœŸçš„å¾ˆåŸºç¡€ğŸ˜é€‚åˆå…¥é—¨</div>2022-03-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2c/d6/f8/cb21b43c.jpg" width="30px"><span>æ¾é¥¼Muffin</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ
# æ¼æ–—çš„æ•°æ®
df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages, gender=&#39;male&#39;))
df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages, gender=&#39;female&#39;))
df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;gender&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—
fig.show()</div>2022-03-11</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/bmgpp5wc8GLmOdHNQccSgrunK0VdIicB6rpTHXCTF5xEkm2YvPHOX2DwNt2EqTzJ70JD41h0u5qW4R0yXRY1ZCg/132" width="30px"><span>Eazow</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]
df_male = pd.DataFrame(dict(number=[59, 32, 18, 9, 2], stage=stages, gender=[&quot;ç”·&quot;] * 5))
df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages, gender=[&quot;å¥³&quot;] * 5))

px.funnel(pd.concat([df_male, df_female]), x=&quot;number&quot;, y=&quot;stage&quot;, color=&quot;gender&quot;).show()</div>2022-03-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/24/39/5300ca6f.jpg" width="30px"><span>Cal</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd
import plotly.express as px #å¯¼å…¥Plotly.expresså·¥å…·ï¼Œå‘½åä¸ºpx
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]
df_male = pd.DataFrame(dict(number=[59, 32, 18, 9, 2], stage=stages))
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;
df_female = pd.DataFrame(dict(number=[37, 41, 18, 6, 5], stage=stages))
df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;
df = pd.concat([df_male, df_female],axis=0)
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;)
fig.show()</div>2022-02-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/65/da/29fe3dde.jpg" width="30px"><span>å°å®î„¼</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] 
data_male = dict(number=[30, 15, 10, 6, 1], stage=stages)
df_male = pd.DataFrame(data_male)
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;

data_female = dict(number=[29, 17, 8, 3, 1], stage=stages)
df_female = pd.DataFrame(data_female)
df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;

df = pd.concat([df_male, df_female], axis=0)
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;)

fig.show()</div>2021-12-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/27/b2/24/3b1d2755.jpg" width="30px"><span>Geek_b8d28c</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>import pandas as pd # å¯¼å…¥Pandas
stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ
# æ¼æ–—çš„æ•°æ®
df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))
df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;
df_female = pd.DataFrame(dict(number=[29,17,8,3,1],stage=stages))
df_female[&#39;æ€§åˆ«&#39;]=&#39;å¥³&#39;
df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df
fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—
fig.show()</div>2021-12-19</li><br/>
</ul>