<!--geek time docs ğŸš€, MIT license-->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="æå®¢æ—¶é—´åœ¨çº¿æ–‡æ¡£">
      
      
        <meta name="author" content="zkep">
      
      
      
        <link rel="prev" href="../03-%E6%A8%A1%E5%9E%8BI-O%EF%BC%9A%E8%BE%93%E5%85%A5%E6%8F%90%E7%A4%BA%E3%80%81%E8%B0%83%E7%94%A8%E6%A8%A1%E5%9E%8B%E3%80%81%E8%A7%A3%E6%9E%90%E8%BE%93%E5%87%BA/">
      
      
        <link rel="next" href="../05-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E7%94%A8%E6%80%9D%E7%BB%B4%E9%93%BE%E5%92%8C%E6%80%9D%E7%BB%B4%E6%A0%91%E6%8F%90%E5%8D%87%E6%A8%A1%E5%9E%8B%E6%80%9D%E8%80%83%E8%B4%A8%E9%87%8F/">
      
      
      <link rel="icon" href="../../../None">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>04 æç¤ºå·¥ç¨‹ï¼ˆä¸Šï¼‰ï¼šç”¨å°‘æ ·æœ¬FewShotTemplateå’ŒExampleSelectoråˆ›å»ºåº”æ™¯æ–‡æ¡ˆ - Geek Time Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            


          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Geek Time Docs" class="md-header__button md-logo" aria-label="Geek Time Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Geek Time Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              04 æç¤ºå·¥ç¨‹ï¼ˆä¸Šï¼‰ï¼šç”¨å°‘æ ·æœ¬FewShotTemplateå’ŒExampleSelectoråˆ›å»ºåº”æ™¯æ–‡æ¡ˆ
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/uaxe/geektime-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    uaxe/geektime-docs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  AI-å¤§æ•°æ®

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E4%BA%A7%E5%93%81-%E8%BF%90%E8%90%A5/" class="md-tabs__link">
          
  
    
  
  äº§å“-è¿è¥

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%89%8D%E7%AB%AF-%E7%A7%BB%E5%8A%A8/" class="md-tabs__link">
          
  
    
  
  å‰ç«¯-ç§»åŠ¨

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%90%8E%E7%AB%AF-%E6%9E%B6%E6%9E%84/" class="md-tabs__link">
          
  
    
  
  åç«¯-æ¶æ„

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%AE%A1%E7%90%86-%E6%88%90%E9%95%BF/" class="md-tabs__link">
          
  
    
  
  ç®¡ç†-æˆé•¿

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="md-tabs__link">
          
  
    
  
  è®¡ç®—æœºåŸºç¡€

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%BF%90%E7%BB%B4-%E6%B5%8B%E8%AF%95/" class="md-tabs__link">
          
  
    
  
  è¿ç»´-æµ‹è¯•

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Geek Time Docs" class="md-nav__button md-logo" aria-label="Geek Time Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Geek Time Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uaxe/geektime-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    uaxe/geektime-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AI-å¤§æ•°æ®
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            AI-å¤§æ•°æ®
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../A-B%E6%B5%8B%E8%AF%95%E4%BB%8E0%E5%88%B01/A-B%E6%B5%8B%E8%AF%95%E4%BB%8E0%E5%88%B01/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    A-Bæµ‹è¯•ä»0åˆ°1
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AIå¤§æ¨¡å‹ä¹‹ç¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AIå¤§æ¨¡å‹å®æˆ˜é«˜æ‰‹è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AIå¤§æ¨¡å‹ç³»ç»Ÿå®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E9%A1%B9%E7%9B%AE%E8%90%BD%E5%9C%B0%E5%AE%9E%E6%88%98/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E9%A1%B9%E7%9B%AE%E8%90%BD%E5%9C%B0%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AIå¤§æ¨¡å‹é¡¹ç›®è½åœ°å®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../AI%E6%8A%80%E6%9C%AF%E5%86%85%E5%8F%82/AI%E6%8A%80%E6%9C%AF%E5%86%85%E5%8F%82/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AIæŠ€æœ¯å†…å‚
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../AI%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/AI%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AIç»˜ç”»æ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../LLM%20%26%20RAG%E5%BF%AB%E9%80%9F%E5%BA%94%E7%94%A8%E5%B0%8F%E5%86%8C/LLM%20%26%20RAG%E5%BF%AB%E9%80%9F%E5%BA%94%E7%94%A8%E5%B0%8F%E5%86%8C/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    LLM & RAGå¿«é€Ÿåº”ç”¨å°å†Œ
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../LLM%E8%87%AA%E4%B8%BB%E6%99%BA%E8%83%BD%E4%BD%93%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98%E8%AF%BE/LLM%E8%87%AA%E4%B8%BB%E6%99%BA%E8%83%BD%E4%BD%93%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    LLMè‡ªä¸»æ™ºèƒ½ä½“åº”ç”¨å®æˆ˜è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../LLaMA%203%E5%89%8D%E6%B2%BF%E6%A8%A1%E5%9E%8B%E5%AE%9E%E6%88%98%E8%AF%BE/LLaMA%203%E5%89%8D%E6%B2%BF%E6%A8%A1%E5%9E%8B%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    LLaMA 3å‰æ²¿æ¨¡å‹å®æˆ˜è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" checked>
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LangChainå®æˆ˜è¯¾
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            LangChainå®æˆ˜è¯¾
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LangChain%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LangChainå®æˆ˜è¯¾
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BC%80%E7%AF%87%E8%AF%8D-%E5%B8%A6%E4%BD%A0%E4%BA%B2%E8%AF%81AI%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E7%9A%84%E2%80%9C%E5%A5%87%E7%82%B9%E2%80%9D%E6%97%B6%E5%88%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å¼€ç¯‡è¯ å¸¦ä½ äº²è¯AIåº”ç”¨å¼€å‘çš„â€œå¥‡ç‚¹â€æ—¶åˆ»
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-LangChain%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E5%92%8C%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 LangChainç³»ç»Ÿå®‰è£…å’Œå¿«é€Ÿå…¥é—¨
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-%E7%94%A8LangChain%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BA%E5%9F%BA%E4%BA%8E%E2%80%9C%E6%98%93%E9%80%9F%E9%B2%9C%E8%8A%B1%E2%80%9D%E6%9C%AC%E5%9C%B0%E7%9F%A5%E8%AF%86%E5%BA%93%E7%9A%84%E6%99%BA%E8%83%BD%E9%97%AE%E7%AD%94%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 ç”¨LangChainå¿«é€Ÿæ„å»ºåŸºäºâ€œæ˜“é€Ÿé²œèŠ±â€æœ¬åœ°çŸ¥è¯†åº“çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-%E6%A8%A1%E5%9E%8BI-O%EF%BC%9A%E8%BE%93%E5%85%A5%E6%8F%90%E7%A4%BA%E3%80%81%E8%B0%83%E7%94%A8%E6%A8%A1%E5%9E%8B%E3%80%81%E8%A7%A3%E6%9E%90%E8%BE%93%E5%87%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 æ¨¡å‹I Oï¼šè¾“å…¥æç¤ºã€è°ƒç”¨æ¨¡å‹ã€è§£æè¾“å‡º
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    04 æç¤ºå·¥ç¨‹ï¼ˆä¸Šï¼‰ï¼šç”¨å°‘æ ·æœ¬FewShotTemplateå’ŒExampleSelectoråˆ›å»ºåº”æ™¯æ–‡æ¡ˆ
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    04 æç¤ºå·¥ç¨‹ï¼ˆä¸Šï¼‰ï¼šç”¨å°‘æ ·æœ¬FewShotTemplateå’ŒExampleSelectoråˆ›å»ºåº”æ™¯æ–‡æ¡ˆ
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      æç¤ºçš„ç»“æ„
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#langchain" class="md-nav__link">
    <span class="md-ellipsis">
      LangChain æç¤ºæ¨¡æ¿çš„ç±»å‹
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prompttemplate" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ PromptTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chatprompttemplate" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ ChatPromptTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fewshot" class="md-nav__link">
    <span class="md-ellipsis">
      FewShotçš„æ€æƒ³èµ·æº
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fewshotprompttemplate" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ FewShotPromptTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      æ€»ç»“æ—¶åˆ»
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ€è€ƒé¢˜
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      å»¶ä¼¸é˜…è¯»
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E7%94%A8%E6%80%9D%E7%BB%B4%E9%93%BE%E5%92%8C%E6%80%9D%E7%BB%B4%E6%A0%91%E6%8F%90%E5%8D%87%E6%A8%A1%E5%9E%8B%E6%80%9D%E8%80%83%E8%B4%A8%E9%87%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 æç¤ºå·¥ç¨‹ï¼ˆä¸‹ï¼‰ï¼šç”¨æ€ç»´é“¾å’Œæ€ç»´æ ‘æå‡æ¨¡å‹æ€è€ƒè´¨é‡
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-%E8%B0%83%E7%94%A8%E6%A8%A1%E5%9E%8B%EF%BC%9A%E4%BD%BF%E7%94%A8OpenAI%20API%E8%BF%98%E6%98%AF%E5%BE%AE%E8%B0%83%E5%BC%80%E6%BA%90Llama2-ChatGLM%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 è°ƒç”¨æ¨¡å‹ï¼šä½¿ç”¨OpenAI APIè¿˜æ˜¯å¾®è°ƒå¼€æºLlama2 ChatGLMï¼Ÿ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-%E8%BE%93%E5%87%BA%E8%A7%A3%E6%9E%90%EF%BC%9A%E7%94%A8OutputParser%E7%94%9F%E6%88%90%E9%B2%9C%E8%8A%B1%E6%8E%A8%E8%8D%90%E5%88%97%E8%A1%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 è¾“å‡ºè§£æï¼šç”¨OutputParserç”Ÿæˆé²œèŠ±æ¨èåˆ—è¡¨
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-%E9%93%BE%EF%BC%88%E4%B8%8A%EF%BC%89%EF%BC%9A%E5%86%99%E4%B8%80%E7%AF%87%E5%AE%8C%E7%BE%8E%E9%B2%9C%E8%8A%B1%E6%8E%A8%E6%96%87%EF%BC%9F%E7%94%A8SequencialChain%E9%93%BE%E6%8E%A5%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BB%84%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08 é“¾ï¼ˆä¸Šï¼‰ï¼šå†™ä¸€ç¯‡å®Œç¾é²œèŠ±æ¨æ–‡ï¼Ÿç”¨SequencialChainé“¾æ¥ä¸åŒçš„ç»„ä»¶
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-%E9%93%BE%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E6%83%B3%E5%AD%A6%E2%80%9C%E8%82%B2%E8%8A%B1%E2%80%9D%E8%BF%98%E6%98%AF%E2%80%9C%E6%8F%92%E8%8A%B1%E2%80%9D%EF%BC%9F%E7%94%A8RouterChain%E7%A1%AE%E5%AE%9A%E5%AE%A2%E6%88%B7%E6%84%8F%E5%9B%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09 é“¾ï¼ˆä¸‹ï¼‰ï¼šæƒ³å­¦â€œè‚²èŠ±â€è¿˜æ˜¯â€œæ’èŠ±â€ï¼Ÿç”¨RouterChainç¡®å®šå®¢æˆ·æ„å›¾
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-%E8%AE%B0%E5%BF%86%EF%BC%9A%E9%80%9A%E8%BF%87Memory%E8%AE%B0%E4%BD%8F%E5%AE%A2%E6%88%B7%E4%B8%8A%E6%AC%A1%E4%B9%B0%E8%8A%B1%E6%97%B6%E7%9A%84%E5%AF%B9%E8%AF%9D%E7%BB%86%E8%8A%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10 è®°å¿†ï¼šé€šè¿‡Memoryè®°ä½å®¢æˆ·ä¸Šæ¬¡ä¹°èŠ±æ—¶çš„å¯¹è¯ç»†èŠ‚
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-%E4%BB%A3%E7%90%86%EF%BC%88%E4%B8%8A%EF%BC%89%EF%BC%9AReAct%E6%A1%86%E6%9E%B6%EF%BC%8C%E6%8E%A8%E7%90%86%E4%B8%8E%E8%A1%8C%E5%8A%A8%E7%9A%84%E5%8D%8F%E5%90%8C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11 ä»£ç†ï¼ˆä¸Šï¼‰ï¼šReActæ¡†æ¶ï¼Œæ¨ç†ä¸è¡ŒåŠ¨çš„ååŒ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-%E4%BB%A3%E7%90%86%EF%BC%88%E4%B8%AD%EF%BC%89%EF%BC%9AAgentExecutor%E7%A9%B6%E7%AB%9F%E6%98%AF%E6%80%8E%E6%A0%B7%E9%A9%B1%E5%8A%A8%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%B7%A5%E5%85%B7%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1%E7%9A%84%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12 ä»£ç†ï¼ˆä¸­ï¼‰ï¼šAgentExecutorç©¶ç«Ÿæ˜¯æ€æ ·é©±åŠ¨æ¨¡å‹å’Œå·¥å…·å®Œæˆä»»åŠ¡çš„ï¼Ÿ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-%E4%BB%A3%E7%90%86%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E7%BB%93%E6%9E%84%E5%8C%96%E5%B7%A5%E5%85%B7%E5%AF%B9%E8%AF%9D%E3%80%81Self-Ask%20with%20Search%E4%BB%A5%E5%8F%8APlan%20and%20execute%E4%BB%A3%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13 ä»£ç†ï¼ˆä¸‹ï¼‰ï¼šç»“æ„åŒ–å·¥å…·å¯¹è¯ã€Self Ask with Searchä»¥åŠPlan and executeä»£ç†
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-%E5%B7%A5%E5%85%B7%E5%92%8C%E5%B7%A5%E5%85%B7%E7%AE%B1%EF%BC%9ALangChain%E4%B8%AD%E7%9A%84Tool%E5%92%8CToolkits%E4%B8%80%E8%A7%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14 å·¥å…·å’Œå·¥å…·ç®±ï¼šLangChainä¸­çš„Toolå’ŒToolkitsä¸€è§ˆ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90%EF%BC%9A%E9%80%9A%E8%BF%87RAG%E5%8A%A9%E5%8A%9B%E9%B2%9C%E8%8A%B1%E8%BF%90%E8%90%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15 æ£€ç´¢å¢å¼ºç”Ÿæˆï¼šé€šè¿‡RAGåŠ©åŠ›é²œèŠ±è¿è¥
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A%E9%80%9A%E8%BF%87%E9%93%BE%E5%92%8C%E4%BB%A3%E7%90%86%E6%9F%A5%E8%AF%A2%E9%B2%9C%E8%8A%B1%E4%BF%A1%E6%81%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16 è¿æ¥æ•°æ®åº“ï¼šé€šè¿‡é“¾å’Œä»£ç†æŸ¥è¯¢é²œèŠ±ä¿¡æ¯
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%EF%BC%9A%E5%9C%A8AI%E5%BA%94%E7%94%A8%E4%B8%AD%E5%BC%95%E5%85%A5%E5%BC%82%E6%AD%A5%E9%80%9A%E4%BF%A1%E6%9C%BA%E5%88%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17 å›è°ƒå‡½æ•°ï¼šåœ¨AIåº”ç”¨ä¸­å¼•å…¥å¼‚æ­¥é€šä¿¡æœºåˆ¶
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../18-CAMEL%EF%BC%9A%E9%80%9A%E8%BF%87%E8%A7%92%E8%89%B2%E6%89%AE%E6%BC%94%E8%84%91%E6%9A%B4%E4%B8%80%E4%B8%AA%E9%B2%9C%E8%8A%B1%E8%90%A5%E9%94%80%E6%96%B9%E6%A1%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18 CAMELï¼šé€šè¿‡è§’è‰²æ‰®æ¼”è„‘æš´ä¸€ä¸ªé²œèŠ±è¥é”€æ–¹æ¡ˆ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../19-BabyAGI%EF%BC%9A%E6%A0%B9%E6%8D%AE%E6%B0%94%E5%80%99%E5%8F%98%E5%8C%96%E8%87%AA%E5%8A%A8%E5%88%B6%E5%AE%9A%E9%B2%9C%E8%8A%B1%E5%AD%98%E5%82%A8%E7%AD%96%E7%95%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19 BabyAGIï¼šæ ¹æ®æ°”å€™å˜åŒ–è‡ªåŠ¨åˆ¶å®šé²œèŠ±å­˜å‚¨ç­–ç•¥
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20-%E9%83%A8%E7%BD%B2%E4%B8%80%E4%B8%AA%E9%B2%9C%E8%8A%B1%E7%BD%91%E7%BB%9C%E7%94%B5%E5%95%86%E7%9A%84%E4%BA%BA%E8%84%89%E5%B7%A5%E5%85%B7%EF%BC%88%E4%B8%8A%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20 éƒ¨ç½²ä¸€ä¸ªé²œèŠ±ç½‘ç»œç”µå•†çš„äººè„‰å·¥å…·ï¼ˆä¸Šï¼‰
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../21-%E9%83%A8%E7%BD%B2%E4%B8%80%E4%B8%AA%E9%B2%9C%E8%8A%B1%E7%BD%91%E7%BB%9C%E7%94%B5%E5%95%86%E7%9A%84%E4%BA%BA%E8%84%89%E5%B7%A5%E5%85%B7%EF%BC%88%E4%B8%8B%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21 éƒ¨ç½²ä¸€ä¸ªé²œèŠ±ç½‘ç»œç”µå•†çš„äººè„‰å·¥å…·ï¼ˆä¸‹ï¼‰
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../22-%E6%98%93%E9%80%9F%E9%B2%9C%E8%8A%B1%E8%81%8A%E5%A4%A9%E5%AE%A2%E6%9C%8D%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%8A%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22 æ˜“é€Ÿé²œèŠ±èŠå¤©å®¢æœæœºå™¨äººçš„å¼€å‘ï¼ˆä¸Šï¼‰
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../23-%E6%98%93%E9%80%9F%E9%B2%9C%E8%8A%B1%E8%81%8A%E5%A4%A9%E5%AE%A2%E6%9C%8D%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%8B%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23 æ˜“é€Ÿé²œèŠ±èŠå¤©å®¢æœæœºå™¨äººçš„å¼€å‘ï¼ˆä¸‹ï¼‰
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%BB%93%E6%9D%9F%E8%AF%AD-%E4%BA%BA%E7%94%9F%E7%9A%84%E4%BB%B7%E5%80%BC%E5%B0%B1%E5%9C%A8%E4%BA%8E%E5%88%9B%E9%80%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç»“æŸè¯­ äººç”Ÿçš„ä»·å€¼å°±åœ¨äºåˆ›é€ 
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%BB%93%E8%AF%BE%E6%B5%8B%E8%AF%95-%E6%9D%A5%E8%B5%B4%E4%B8%80%E5%9C%BA%E6%BB%A1%E5%88%86%E4%B9%8B%E7%BA%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç»“è¯¾æµ‹è¯• æ¥èµ´ä¸€åœºæ»¡åˆ†ä¹‹çº¦
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%9B%B4%E6%92%AD%E5%8A%A0%E9%A4%90-LangChain%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80LCEL%E5%88%9D%E6%8E%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç›´æ’­åŠ é¤ LangChainè¡¨è¾¾å¼è¯­è¨€LCELåˆæ¢
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%9B%B4%E6%92%AD%E5%8A%A0%E9%A4%90-LangChain%E7%9A%84Tracing%E3%80%81Debug%E5%92%8CLangSmith%E5%B9%B3%E5%8F%B0%E8%A7%A3%E8%AF%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç›´æ’­åŠ é¤ LangChainçš„Tracingã€Debugå’ŒLangSmithå¹³å°è§£è¯»
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../PyTorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98/PyTorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    PyTorchæ·±åº¦å­¦ä¹ å®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../RAG%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/RAG%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    RAGå¿«é€Ÿå¼€å‘å®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../RAG%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98%E8%AF%BE/RAG%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    RAGç³»ç»Ÿå®æˆ˜è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Spark%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/Spark%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Sparkæ€§èƒ½è°ƒä¼˜å®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E4%B8%AD%E5%9B%BD%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%88%90%E7%86%9F%E5%BA%A6%E6%A8%A1%E5%9E%8B%E6%8A%A5%E5%91%8A/%E4%B8%AD%E5%9B%BD%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%88%90%E7%86%9F%E5%BA%A6%E6%A8%A1%E5%9E%8B%E6%8A%A5%E5%91%8A/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ä¸­å›½äººå·¥æ™ºèƒ½æˆç†Ÿåº¦æ¨¡å‹æŠ¥å‘Š
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%9F%BA%E7%A1%80%E8%AF%BE/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%9F%BA%E7%A1%80%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    äººå·¥æ™ºèƒ½åŸºç¡€è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E5%A4%A7%E6%95%B0%E6%8D%AE/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E5%A4%A7%E6%95%B0%E6%8D%AE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ä»0å¼€å§‹å­¦å¤§æ•°æ®
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%8F%E5%85%B8%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%8F%E5%85%B8%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å¤§æ•°æ®ç»å…¸è®ºæ–‡è§£è¯»
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å¤§æ¨¡å‹åº”ç”¨å¼€å‘å®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%A4%A7%E8%A7%84%E6%A8%A1%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%AE%9E%E6%88%98/%E5%A4%A7%E8%A7%84%E6%A8%A1%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å¤§è§„æ¨¡æ•°æ®å¤„ç†å®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å®ç”¨å¯†ç å­¦
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E6%90%AD%E5%BB%BA%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E6%90%AD%E5%BB%BA%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºæ¨èç³»ç»Ÿ
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%89%E5%8D%81%E5%85%AD%E5%BC%8F/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%89%E5%8D%81%E5%85%AD%E5%BC%8F/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æ¨èç³»ç»Ÿä¸‰åå…­å¼
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æ•°æ®åˆ†æå®æˆ˜45è®²
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æ•°æ®åˆ†ææ€ç»´è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A040%E8%AE%B2/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A040%E8%AE%B2/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æœºå™¨å­¦ä¹ 40è®²
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%A3%80%E7%B4%A2%E6%8A%80%E6%9C%AF%E6%A0%B8%E5%BF%8320%E8%AE%B2/%E6%A3%80%E7%B4%A2%E6%8A%80%E6%9C%AF%E6%A0%B8%E5%BF%8320%E8%AE%B2/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æ£€ç´¢æŠ€æœ¯æ ¸å¿ƒ20è®²
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æ·±åº¦å­¦ä¹ æ¨èç³»ç»Ÿå®æˆ˜
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84AI%E5%BC%80%E5%8F%91%E7%AC%AC%E4%B8%80%E8%AF%BE/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84AI%E5%BC%80%E5%8F%91%E7%AC%AC%E4%B8%80%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ç¨‹åºå‘˜çš„AIå¼€å‘ç¬¬ä¸€è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E9%9B%B6%E5%9F%BA%E7%A1%80GPT%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE/%E9%9B%B6%E5%9F%BA%E7%A1%80GPT%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    é›¶åŸºç¡€GPTåº”ç”¨å…¥é—¨è¯¾
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8Spark/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8Spark/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    é›¶åŸºç¡€å…¥é—¨Spark
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    é›¶åŸºç¡€å®æˆ˜æœºå™¨å­¦ä¹ 
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E4%BA%A7%E5%93%81-%E8%BF%90%E8%90%A5/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    äº§å“-è¿è¥
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E5%89%8D%E7%AB%AF-%E7%A7%BB%E5%8A%A8/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å‰ç«¯-ç§»åŠ¨
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E5%90%8E%E7%AB%AF-%E6%9E%B6%E6%9E%84/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    åç«¯-æ¶æ„
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E7%AE%A1%E7%90%86-%E6%88%90%E9%95%BF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ç®¡ç†-æˆé•¿
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    è®¡ç®—æœºåŸºç¡€
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E8%BF%90%E7%BB%B4-%E6%B5%8B%E8%AF%95/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    è¿ç»´-æµ‹è¯•
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      æç¤ºçš„ç»“æ„
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#langchain" class="md-nav__link">
    <span class="md-ellipsis">
      LangChain æç¤ºæ¨¡æ¿çš„ç±»å‹
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prompttemplate" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ PromptTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chatprompttemplate" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ ChatPromptTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fewshot" class="md-nav__link">
    <span class="md-ellipsis">
      FewShotçš„æ€æƒ³èµ·æº
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fewshotprompttemplate" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ FewShotPromptTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      æ€»ç»“æ—¶åˆ»
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ€è€ƒé¢˜
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      å»¶ä¼¸é˜…è¯»
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/uaxe/geektime-docs/AI-å¤§æ•°æ®/LangChainå®æˆ˜è¯¾/04-æç¤ºå·¥ç¨‹ï¼ˆä¸Šï¼‰ï¼šç”¨å°‘æ ·æœ¬FewShotTemplateå’ŒExampleSelectoråˆ›å»ºåº”æ™¯æ–‡æ¡ˆ.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>04 æç¤ºå·¥ç¨‹ï¼ˆä¸Šï¼‰ï¼šç”¨å°‘æ ·æœ¬FewShotTemplateå’ŒExampleSelectoråˆ›å»ºåº”æ™¯æ–‡æ¡ˆ</h1>

<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ä½³ï¼Œæ¬¢è¿æ¥åˆ°LangChainå®æˆ˜è¯¾ï¼</p>
<p>ä¸ŠèŠ‚è¯¾æˆ‘ç»™ä½ ç•™äº†ä¸€ä¸ªæ€è€ƒé¢˜ï¼š<strong>åœ¨æç¤ºæ¨¡æ¿çš„æ„å»ºè¿‡ç¨‹ä¸­åŠ å…¥äº†partial_variablesï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºè§£æå™¨æŒ‡å®šçš„format_instructionsä¹‹åï¼Œä¸ºä»€ä¹ˆèƒ½å¤Ÿè®©æ¨¡å‹ç”Ÿæˆç»“æ„åŒ–çš„è¾“å‡ºï¼Ÿ</strong></p>
<p>å½“ä½ ç”¨printè¯­å¥æ‰“å°å‡ºæœ€ç»ˆä¼ é€’ç»™å¤§æ¨¡å‹çš„æç¤ºæ—¶ï¼Œä¸€åˆ‡å°±å˜å¾—éå¸¸æ˜äº†ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>æ‚¨æ˜¯ä¸€ä½ä¸“ä¸šçš„é²œèŠ±åº—æ–‡æ¡ˆæ’°å†™å‘˜ã€‚
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>å¯¹äºå”®ä»·ä¸º 50 å…ƒçš„ ç«ç‘° ï¼Œæ‚¨èƒ½æä¾›ä¸€ä¸ªå¸å¼•äººçš„ç®€çŸ­æè¿°å—ï¼Ÿ
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>The output should be a markdown code snippet formatted in the following schema, including the leading and trailing &quot;```json&quot; and &quot;```&quot;:
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>```json
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>{
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>Â  Â  Â  Â  &quot;description&quot;: stringÂ  // é²œèŠ±çš„æè¿°æ–‡æ¡ˆ
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>Â  Â  Â  Â  &quot;reason&quot;: stringÂ  // é—®ä»€ä¹ˆè¦è¿™æ ·å†™è¿™ä¸ªæ–‡æ¡ˆ
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>}
</code></pre></div>
<p>ç§˜å¯†åœ¨äºï¼ŒLangChainçš„è¾“å‡ºè§£æå™¨å·å·çš„åœ¨æç¤ºä¸­åŠ äº†ä¸€æ®µè¯ï¼Œä¹Ÿå°±æ˜¯ {format_instructions} ä¸­çš„å†…å®¹ã€‚è¿™æ®µç”±LangChainè‡ªåŠ¨æ·»åŠ çš„æ–‡å­—ï¼Œå°±æ¸…æ¥šåœ°æŒ‡ç¤ºç€æˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä»€ä¹ˆæ ·çš„å›ç­”ä»¥åŠå›ç­”çš„å…·ä½“æ ¼å¼ã€‚æç¤ºæŒ‡å‡ºï¼Œæ¨¡å‹éœ€è¦æ ¹æ®ä¸€ä¸ªschemaæ¥æ ¼å¼åŒ–è¾“å‡ºæ–‡æœ¬ï¼Œè¿™ä¸ªschemaä» ```json å¼€å§‹ï¼Œåˆ° ``` ç»“æŸã€‚</p>
<p>è¿™å°±æ˜¯åœ¨å‘Šè¯‰æ¨¡å‹ï¼Œä½ å°±followè¿™ä¸ªschemaï¼ˆschemaï¼Œå¯ä»¥ç†è§£ä¸ºå¯¹æ•°æ®ç»“æ„çš„æè¿°ï¼‰çš„æ ¼å¼ï¼Œå°±è¡Œå•¦ï¼</p>
<p>è¿™å°±æ˜¯ä¸€ä¸ªå¾ˆæ£’ã€å¾ˆå…¸å‹çš„<strong>æç¤ºå·¥ç¨‹</strong>ã€‚æœ‰äº†è¿™æ ·æ¸…æ™°çš„æç¤ºï¼Œæ™ºèƒ½ç¨‹åº¦æ¯”è¾ƒé«˜çš„æ¨¡å‹ï¼ˆæ¯”å¦‚GPT3.5åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ï¼Œè‚¯å®šèƒ½å¤Ÿè¾“å‡ºå¯ä»¥è¢«è§£æçš„æ•°æ®ç»“æ„ï¼Œå¦‚JSONæ ¼å¼çš„æ•°æ®ã€‚</p>
<p>é‚£ä¹ˆè¿™èŠ‚è¯¾æˆ‘å°±å¸¦ç€ä½ è¿›ä¸€æ­¥æ·±ç©¶ï¼Œå¦‚ä½•åˆ©ç”¨LangChainä¸­çš„æç¤ºæ¨¡æ¿ï¼Œåšå¥½æç¤ºå·¥ç¨‹ã€‚</p>
<p><img alt="" src="https://static001.geekbang.org/resource/image/3b/fe/3b5584552720f22ac10e1ab1430f61fe.jpg?wh=4000x1536" title="æç¤ºå·¥ç¨‹ï¼šæ¨¡å‹ I/O çš„è¾“å…¥éƒ¨åˆ†" /></p>
<p>ä¸ŠèŠ‚è¯¾æˆ‘è¯´è¿‡ï¼Œé’ˆå¯¹å¤§æ¨¡å‹çš„æç¤ºå·¥ç¨‹è¯¥å¦‚ä½•åšï¼Œå´æ©è¾¾è€å¸ˆåœ¨ä»–çš„ <a href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering for Developers</a> å…¬å¼€è¯¾ä¸­ï¼Œç»™å‡ºäº†ä¸¤ä¸ªå¤§çš„åŸåˆ™ï¼šç¬¬ä¸€æ¡åŸåˆ™æ˜¯å†™å‡ºæ¸…æ™°è€Œå…·ä½“çš„æŒ‡ç¤ºï¼Œç¬¬äºŒæ¡åŸåˆ™æ˜¯ç»™æ¨¡å‹æ€è€ƒçš„æ—¶é—´ã€‚</p>
<p>æ— ç‹¬æœ‰å¶ï¼Œåœ¨Open AIçš„å®˜æ–¹æ–‡æ¡£ <a href="https://platform.openai.com/docs/guides/gpt-best-practices/gpt-best-practices">GPT æœ€ä½³å®è·µ</a>ä¸­ï¼Œä¹Ÿç»™å‡ºäº†å’Œä¸Šé¢è¿™ä¸¤å¤§åŸåˆ™ä¸€è„‰ç›¸æ‰¿çš„6å¤§ç­–ç•¥ã€‚åˆ†åˆ«æ˜¯ï¼š</p>
<ol>
<li>å†™æ¸…æ™°çš„æŒ‡ç¤º</li>
<li>ç»™æ¨¡å‹æä¾›å‚è€ƒï¼ˆä¹Ÿå°±æ˜¯ç¤ºä¾‹ï¼‰</li>
<li>å°†å¤æ‚ä»»åŠ¡æ‹†åˆ†æˆå­ä»»åŠ¡</li>
<li>ç»™GPTæ—¶é—´æ€è€ƒ</li>
<li>ä½¿ç”¨å¤–éƒ¨å·¥å…·</li>
<li>åå¤è¿­ä»£é—®é¢˜</li>
</ol>
<p>æ€ä¹ˆæ ·ï¼Œè¿™äº›åŸåˆ™å’Œç­–ç•¥æ˜¯ä¸æ˜¯éƒ½æ˜¯å¤§ç™½è¯ï¼Ÿè¿™äº›åŸåˆ™å…¶å®ä¸ä»…èƒ½å¤ŸæŒ‡å¯¼å¤§è¯­è¨€æ¨¡å‹ï¼Œä¹Ÿå®Œå…¨èƒ½å¤ŸæŒ‡å¯¼ä½ çš„æ€ç»´è¿‡ç¨‹ï¼Œè®©ä½ å¤„ç†é—®é¢˜æ—¶çš„æ€è·¯æ›´ä¸ºæ¸…æ™°ã€‚æ‰€ä»¥è¯´ï¼Œå¤§æ¨¡å‹çš„æ€ç»´è¿‡ç¨‹å’Œæˆ‘ä»¬äººç±»çš„æ€ç»´è¿‡ç¨‹ï¼Œè¿˜æ˜¯è›®ç›¸é€šçš„ã€‚</p>
<h2 id="_1">æç¤ºçš„ç»“æ„</h2>
<p>å½“ç„¶äº†ï¼Œä»å¤§åŸåˆ™åˆ°å®è·µï¼Œè¿˜æ˜¯æœ‰ä¸€äº›å…·ä½“å·¥ä½œéœ€è¦è¯´æ˜ï¼Œä¸‹é¢æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå®ç”¨çš„æç¤ºæ¡†æ¶ã€‚</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/b7/16/b77a15cd83b66bba55032d711bcf3c16.png?wh=1920x801" /></p>
<p>åœ¨è¿™ä¸ªæç¤ºæ¡†æ¶ä¸­ï¼š</p>
<ul>
<li><strong>æŒ‡ä»¤</strong>ï¼ˆInstuctionï¼‰å‘Šè¯‰æ¨¡å‹è¿™ä¸ªä»»åŠ¡å¤§æ¦‚è¦åšä»€ä¹ˆã€æ€ä¹ˆåšï¼Œæ¯”å¦‚å¦‚ä½•ä½¿ç”¨æä¾›çš„å¤–éƒ¨ä¿¡æ¯ã€å¦‚ä½•å¤„ç†æŸ¥è¯¢ä»¥åŠå¦‚ä½•æ„é€ è¾“å‡ºã€‚è¿™é€šå¸¸æ˜¯ä¸€ä¸ªæç¤ºæ¨¡æ¿ä¸­æ¯”è¾ƒå›ºå®šçš„éƒ¨åˆ†ã€‚ä¸€ä¸ªå¸¸è§ç”¨ä¾‹æ˜¯å‘Šè¯‰æ¨¡å‹â€œä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„XXåŠ©æ‰‹â€ï¼Œè¿™ä¼šè®©ä»–æ›´è®¤çœŸåœ°å¯¹å¾…è‡ªå·±çš„è§’è‰²ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡</strong>ï¼ˆContextï¼‰åˆ™å……å½“æ¨¡å‹çš„é¢å¤–çŸ¥è¯†æ¥æºã€‚è¿™äº›ä¿¡æ¯å¯ä»¥æ‰‹åŠ¨æ’å…¥åˆ°æç¤ºä¸­ï¼Œé€šè¿‡çŸ¢é‡æ•°æ®åº“æ£€ç´¢å¾—æ¥ï¼Œæˆ–é€šè¿‡å…¶ä»–æ–¹å¼ï¼ˆå¦‚è°ƒç”¨APIã€è®¡ç®—å™¨ç­‰å·¥å…·ï¼‰æ‹‰å…¥ã€‚ä¸€ä¸ªå¸¸è§çš„ç”¨ä¾‹æ—¶æ˜¯æŠŠä»å‘é‡æ•°æ®åº“æŸ¥è¯¢åˆ°çš„çŸ¥è¯†ä½œä¸ºä¸Šä¸‹æ–‡ä¼ é€’ç»™æ¨¡å‹ã€‚</li>
<li><strong>æç¤ºè¾“å…¥</strong>ï¼ˆPrompt Inputï¼‰é€šå¸¸å°±æ˜¯å…·ä½“çš„é—®é¢˜æˆ–è€…éœ€è¦å¤§æ¨¡å‹åšçš„å…·ä½“äº‹æƒ…ï¼Œè¿™ä¸ªéƒ¨åˆ†å’Œâ€œæŒ‡ä»¤â€éƒ¨åˆ†å…¶å®ä¹Ÿå¯ä»¥åˆäºŒä¸ºä¸€ã€‚ä½†æ˜¯æ‹†åˆ†å‡ºæ¥æˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„ç»„ä»¶ï¼Œå°±æ›´åŠ ç»“æ„åŒ–ï¼Œä¾¿äºå¤ç”¨æ¨¡æ¿ã€‚è¿™é€šå¸¸æ˜¯ä½œä¸ºå˜é‡ï¼Œåœ¨è°ƒç”¨æ¨¡å‹ä¹‹å‰ä¼ é€’ç»™æç¤ºæ¨¡æ¿ï¼Œä»¥å½¢æˆå…·ä½“çš„æç¤ºã€‚</li>
<li><strong>è¾“å‡ºæŒ‡ç¤ºå™¨</strong>ï¼ˆOutput Indicatorï¼‰æ ‡è®°â€‹â€‹è¦ç”Ÿæˆçš„æ–‡æœ¬çš„å¼€å§‹ã€‚è¿™å°±åƒæˆ‘ä»¬å°æ—¶å€™çš„æ•°å­¦è€ƒå·ï¼Œå…ˆå†™ä¸€ä¸ªâ€œè§£â€ï¼Œå°±ä»£è¡¨ä½ è¦å¼€å§‹ç­”é¢˜äº†ã€‚å¦‚æœç”Ÿæˆ Python ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ â€œimportâ€ å‘æ¨¡å‹è¡¨æ˜å®ƒå¿…é¡»å¼€å§‹ç¼–å†™ Python ä»£ç ï¼ˆå› ä¸ºå¤§å¤šæ•° Python è„šæœ¬ä»¥importå¼€å¤´ï¼‰ã€‚è¿™éƒ¨åˆ†åœ¨æˆ‘ä»¬å’ŒChatGPTå¯¹è¯æ—¶å¾€å¾€æ˜¯å¯æœ‰å¯æ— çš„ï¼Œå½“ç„¶LangChainä¸­çš„ä»£ç†åœ¨æ„å»ºæç¤ºæ¨¡æ¿æ—¶ï¼Œç»å¸¸æ€§çš„ä¼šç”¨ä¸€ä¸ªâ€œThoughtï¼šâ€ï¼ˆæ€è€ƒï¼‰ä½œä¸ºå¼•å¯¼è¯ï¼ŒæŒ‡ç¤ºæ¨¡å‹å¼€å§‹è¾“å‡ºè‡ªå·±çš„æ¨ç†ï¼ˆReasoningï¼‰ã€‚</li>
</ul>
<p>ä¸‹é¢ï¼Œå°±è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ LangChainä¸­çš„å„ç§æç¤ºæ¨¡æ¿åšæç¤ºå·¥ç¨‹ï¼Œå°†æ›´ä¼˜è´¨çš„æç¤ºè¾“å…¥å¤§æ¨¡å‹ã€‚</p>
<h2 id="langchain">LangChain æç¤ºæ¨¡æ¿çš„ç±»å‹</h2>
<p>LangChainä¸­æä¾›Stringï¼ˆStringPromptTemplateï¼‰å’ŒChatï¼ˆBaseChatPromptTemplateï¼‰ä¸¤ç§åŸºæœ¬ç±»å‹çš„æ¨¡æ¿ï¼Œå¹¶åŸºäºå®ƒä»¬æ„å»ºäº†ä¸åŒç±»å‹çš„æç¤ºæ¨¡æ¿ï¼š</p>
<p><img alt="" src="https://static001.geekbang.org/resource/image/fe/yy/feefbb0a166f53f14f647b88e1025cyy.jpg?wh=2240x812" /></p>
<p>è¿™äº›æ¨¡æ¿çš„å¯¼å…¥æ–¹å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>from langchain.prompts.prompt import PromptTemplate
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>from langchain.prompts import FewShotPromptTemplate
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>from langchain.prompts.pipeline import PipelinePromptTemplate
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>from langchain.prompts import ChatPromptTemplate
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>from langchain.prompts import (
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    ChatMessagePromptTemplate,
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    SystemMessagePromptTemplate,
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    AIMessagePromptTemplate,
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    HumanMessagePromptTemplate,
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>)
</code></pre></div>
<p>æˆ‘å‘ç°æœ‰æ—¶å€™ä¸æŒ‡å®š .promptsï¼Œç›´æ¥ä»LangChainåŒ…ä¹Ÿèƒ½å¯¼å…¥æ¨¡æ¿ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>from langchain import PromptTemplate
</code></pre></div>
<p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æ¥ä»‹ç»ä¸Šé¢è¿™äº›æ¨¡ç‰ˆï¼Œå‰ä¸¤ä¸ªæˆ‘ä»¬ç®€å•äº†è§£å°±å¥½ï¼Œå…¶ä¸­æœ€å…¸å‹çš„FewShotPromptTemplateä¼šé‡ç‚¹è®²ã€‚è‡³äºPipelinePromptå’Œè‡ªå®šä¹‰æ¨¡æ¿ï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œè¯·ä½ å‚è€ƒLangChainæ–‡æ¡£è‡ªå·±å­¦ä¹ ã€‚</p>
<h2 id="prompttemplate">ä½¿ç”¨ PromptTemplate</h2>
<p>ä¸‹é¢é€šè¿‡ç¤ºä¾‹ç®€å•è¯´æ˜ä¸€ä¸‹PromptTemplateçš„ä½¿ç”¨ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>from langchain import PromptTemplate
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>template = &quot;&quot;&quot;\
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>ä½ æ˜¯ä¸šåŠ¡å’¨è¯¢é¡¾é—®ã€‚
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>ä½ ç»™ä¸€ä¸ªé”€å”®{product}çš„ç”µå•†å…¬å¸ï¼Œèµ·ä¸€ä¸ªå¥½çš„åå­—ï¼Ÿ
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>&quot;&quot;&quot;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>prompt = PromptTemplate.from_template(template)
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>print(prompt.format(product=&quot;é²œèŠ±&quot;))
</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>ä½ æ˜¯ä¸šåŠ¡å’¨è¯¢é¡¾é—®ã€‚
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>ä½ ç»™ä¸€ä¸ªé”€å”®é²œèŠ±çš„ç”µå•†å…¬å¸ï¼Œèµ·ä¸€ä¸ªå¥½çš„åå­—ï¼Ÿ
</code></pre></div>
<p>è¿™ä¸ªç¨‹åºçš„ä¸»è¦åŠŸèƒ½æ˜¯ç”Ÿæˆé€‚ç”¨äºä¸åŒåœºæ™¯çš„æç¤ºï¼Œå¯¹ç”¨æˆ·å®šä¹‰çš„ä¸€ç§äº§å“æˆ–æœåŠ¡æä¾›å…¬å¸å‘½åå»ºè®®ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œ<code>"ä½ æ˜¯ä¸šåŠ¡å’¨è¯¢é¡¾é—®ã€‚ä½ ç»™ä¸€ä¸ªé”€å”®{product}çš„ç”µå•†å…¬å¸ï¼Œèµ·ä¸€ä¸ªå¥½çš„åå­—ï¼Ÿ"</code> å°±æ˜¯åŸå§‹æç¤ºæ¨¡æ¿ï¼Œå…¶ä¸­ {product} æ˜¯å ä½ç¬¦ã€‚</p>
<p>ç„¶åé€šè¿‡PromptTemplateçš„from_templateæ–¹æ³•ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæç¤ºæ¨¡æ¿å¯¹è±¡ï¼Œå¹¶é€šè¿‡prompt.formatæ–¹æ³•å°†æ¨¡æ¿ä¸­çš„ {product} æ›¿æ¢ä¸º <code>"é²œèŠ±"</code>ã€‚</p>
<p>è¿™æ ·ï¼Œå°±å¾—åˆ°äº†ä¸€å¥å…·ä½“çš„æç¤ºï¼š<em>ä½ æ˜¯ä¸šåŠ¡å’¨è¯¢é¡¾é—®ã€‚ä½ ç»™ä¸€ä¸ªé”€å”®é²œèŠ±çš„ç”µå•†å…¬å¸ï¼Œèµ·ä¸€ä¸ªå¥½çš„åå­—ï¼Ÿ</em>â€”â€”è¿™å°±è¦æ±‚å¤§è¯­è¨€æ¨¡å‹ï¼Œè¦æœ‰çš„æ”¾çŸ¢ã€‚</p>
<p>åœ¨ä¸Šé¢è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒLangChainä¸­çš„æ¨¡æ¿çš„ä¸€ä¸ªæ–¹ä¾¿ä¹‹å¤„æ˜¯from_templateæ–¹æ³•å¯ä»¥ä»ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸­è‡ªåŠ¨æå–å˜é‡åç§°ï¼ˆå¦‚productï¼‰ï¼Œè€Œæ— éœ€åˆ»æ„æŒ‡å®šã€‚<strong>ä¸Šé¢ç¨‹åºä¸­çš„productè‡ªåŠ¨æˆä¸ºäº†formatæ–¹æ³•ä¸­çš„ä¸€ä¸ªå‚æ•°</strong>ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æç¤ºæ¨¡æ¿ç±»çš„æ„é€ å‡½æ•°ï¼Œåœ¨åˆ›å»ºæ¨¡æ¿æ—¶æ‰‹å·¥æŒ‡å®šinput_variablesï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>prompt = PromptTemplate(
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>Â  Â  input_variables=[&quot;product&quot;, &quot;market&quot;], 
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>Â  Â  template=&quot;ä½ æ˜¯ä¸šåŠ¡å’¨è¯¢é¡¾é—®ã€‚å¯¹äºä¸€ä¸ªé¢å‘{market}å¸‚åœºçš„ï¼Œä¸“æ³¨äºé”€å”®{product}çš„å…¬å¸ï¼Œä½ ä¼šæ¨èå“ªä¸ªåå­—ï¼Ÿ&quot;
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>)
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>print(prompt.format(product=&quot;é²œèŠ±&quot;, market=&quot;é«˜ç«¯&quot;))
</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>ä½ æ˜¯ä¸šåŠ¡å’¨è¯¢é¡¾é—®ã€‚å¯¹äºä¸€ä¸ªé¢å‘é«˜ç«¯å¸‚åœºçš„ï¼Œä¸“æ³¨äºé”€å”®é²œèŠ±çš„å…¬å¸ï¼Œä½ ä¼šæ¨èå“ªä¸ªåå­—ï¼Ÿ
</code></pre></div>
<p>ä¸Šé¢çš„æ–¹å¼ç›´æ¥ç”Ÿæˆäº†æç¤ºæ¨¡æ¿ï¼Œå¹¶æ²¡æœ‰é€šè¿‡from_templateæ–¹æ³•ä»å­—ç¬¦ä¸²æ¨¡æ¿ä¸­åˆ›å»ºæç¤ºæ¨¡æ¿ã€‚äºŒè€…æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>
<h2 id="chatprompttemplate">ä½¿ç”¨ ChatPromptTemplate</h2>
<p>å¯¹äºOpenAIæ¨å‡ºçš„ChatGPTè¿™ä¸€ç±»çš„èŠå¤©æ¨¡å‹ï¼ŒLangChainä¹Ÿæä¾›äº†ä¸€ç³»åˆ—çš„æ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿çš„ä¸åŒä¹‹å¤„æ˜¯å®ƒä»¬æœ‰å¯¹åº”çš„è§’è‰²ã€‚</p>
<p>ä¸‹é¢ä»£ç å±•ç¤ºäº†OpenAIçš„Chat Modelä¸­çš„å„ç§æ¶ˆæ¯è§’è‰²ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>import openai
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>openai.ChatCompletion.create(
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>Â  model=&quot;gpt-3.5-turbo&quot;,
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>Â  messages=[
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>Â  Â  Â  Â  {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a helpful assistant.&quot;},
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>Â  Â  Â  Â  {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Who won the world series in 2020?&quot;},
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>Â  Â  Â  Â  {&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: &quot;The Los Angeles Dodgers won the World Series in 2020.&quot;},
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>Â  Â  Â  Â  {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Where was it played?&quot;}
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>Â  Â  ]
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>)
</code></pre></div>
<p>OpenAIå¯¹ä¼ è¾“åˆ°gpt-3.5-turboå’ŒGPT-4çš„messsageæ ¼å¼è¯´æ˜å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>æ¶ˆæ¯å¿…é¡»æ˜¯æ¶ˆæ¯å¯¹è±¡çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªè§’è‰²ï¼ˆç³»ç»Ÿã€ç”¨æˆ·æˆ–åŠ©ç†ï¼‰å’Œå†…å®¹ã€‚å¯¹è¯å¯ä»¥çŸ­è‡³ä¸€æ¡æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥æ¥å›å¤šæ¬¡ã€‚  </p>
<p>é€šå¸¸ï¼Œå¯¹è¯é¦–å…ˆç”±ç³»ç»Ÿæ¶ˆæ¯æ ¼å¼åŒ–ï¼Œç„¶åæ˜¯äº¤æ›¿çš„ç”¨æˆ·æ¶ˆæ¯å’ŒåŠ©ç†æ¶ˆæ¯ã€‚  </p>
<p>ç³»ç»Ÿæ¶ˆæ¯æœ‰åŠ©äºè®¾ç½®åŠ©æ‰‹çš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¿®æ”¹åŠ©æ‰‹çš„ä¸ªæ€§æˆ–æä¾›æœ‰å…³å…¶åœ¨æ•´ä¸ªå¯¹è¯è¿‡ç¨‹ä¸­åº”å¦‚ä½•è¡¨ç°çš„å…·ä½“è¯´æ˜ã€‚ä½†è¯·æ³¨æ„ï¼Œç³»ç»Ÿæ¶ˆæ¯æ˜¯å¯é€‰çš„ï¼Œå¹¶ä¸”æ²¡æœ‰ç³»ç»Ÿæ¶ˆæ¯çš„æ¨¡å‹çš„è¡Œä¸ºå¯èƒ½ç±»ä¼¼äºä½¿ç”¨é€šç”¨æ¶ˆæ¯ï¼Œä¾‹å¦‚â€œä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠ©æ‰‹â€ã€‚  </p>
<p>ç”¨æˆ·æ¶ˆæ¯æä¾›åŠ©ç†å“åº”çš„è¯·æ±‚æˆ–è¯„è®ºã€‚  </p>
<p>åŠ©ç†æ¶ˆæ¯å­˜å‚¨ä»¥å‰çš„åŠ©ç†å“åº”ï¼Œä½†ä¹Ÿå¯ä»¥ç”±ä½ ç¼–å†™ä»¥ç»™å‡ºæ‰€éœ€è¡Œä¸ºçš„ç¤ºä¾‹ã€‚</p>
</blockquote>
<p>LangChainçš„ChatPromptTemplateè¿™ä¸€ç³»åˆ—çš„æ¨¡æ¿ï¼Œå°±æ˜¯<strong>è·Ÿç€è¿™ä¸€ç³»åˆ—è§’è‰²è€Œè®¾è®¡çš„</strong>ã€‚</p>
<p>ä¸‹é¢ï¼Œæˆ‘ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a># å¯¼å…¥èŠå¤©æ¶ˆæ¯ç±»æ¨¡æ¿
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>from langchain.prompts import (
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Â  Â  ChatPromptTemplate,
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>Â  Â  SystemMessagePromptTemplate,
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>Â  Â  HumanMessagePromptTemplate,
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>)
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a># æ¨¡æ¿çš„æ„å»º
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>template=&quot;ä½ æ˜¯ä¸€ä½ä¸“ä¸šé¡¾é—®ï¼Œè´Ÿè´£ä¸ºä¸“æ³¨äº{product}çš„å…¬å¸èµ·åã€‚&quot;
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>system_message_prompt = SystemMessagePromptTemplate.from_template(template)
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>human_template=&quot;å…¬å¸ä¸»æ‰“äº§å“æ˜¯{product_detail}ã€‚&quot;
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>human_message_prompt = HumanMessagePromptTemplate.from_template(human_template)
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>prompt_template = ChatPromptTemplate.from_messages([system_message_prompt, human_message_prompt])
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a># æ ¼å¼åŒ–æç¤ºæ¶ˆæ¯ç”Ÿæˆæç¤º
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>prompt = prompt_template.format_prompt(product=&quot;é²œèŠ±è£…é¥°&quot;, product_detail=&quot;åˆ›æ–°çš„é²œèŠ±è®¾è®¡ã€‚&quot;).to_messages()
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a># ä¸‹é¢è°ƒç”¨æ¨¡å‹ï¼ŒæŠŠæç¤ºä¼ å…¥æ¨¡å‹ï¼Œç”Ÿæˆç»“æœ
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>import os
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>os.environ[&quot;OPENAI_API_KEY&quot;] = &#39;ä½ çš„OpenAI Key&#39;
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>from langchain.chat_models import ChatOpenAI
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>chat = ChatOpenAI()
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>result = chat(prompt)
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>print(result)
</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>content=&#39;1. èŠ±è¯­åˆ›æ„\n2. èŠ±éŸµè®¾è®¡\n3. èŠ±è‰ºåˆ›æ–°\n4. èŠ±æ¼¾è£…é¥°\n5. èŠ±è¯­è£…ç‚¹\n6. èŠ±ç¿©ç¿©\n7. èŠ±è¯­ä¹‹ç¾\n8. èŠ±é¦¥é¦¥\n9. èŠ±è¯­æ—¶å°š\n10. èŠ±ä¹‹é­…åŠ›&#39; 
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>additional_kwargs={} 
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>example=False
</code></pre></div>
<p>å¥½å§ï¼Œå°½ç®¡æ¨¡å‹æˆåŠŸåœ°å®Œæˆäº†ä»»åŠ¡ï¼Œä½†æ˜¯æ„Ÿè§‰æ²¡æœ‰å’±â€œæ˜“é€Ÿé²œèŠ±â€å“äº®ï¼</p>
<p>è®²å®Œä¸Šé¢ä¸¤ç§ç®€å•æ˜“ç”¨çš„æç¤ºæ¨¡æ¿ï¼Œä¸‹é¢å¼€å§‹ä»‹ç»ä»Šå¤©çš„é‡ç‚¹å†…å®¹ï¼ŒFewShotPromptTemplateã€‚FewShotï¼Œä¹Ÿå°±æ˜¯å°‘æ ·æœ¬è¿™ä¸€æ¦‚å¿µï¼Œæ˜¯æç¤ºå·¥ç¨‹ä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œå¯¹åº”ç€OpenAIæç¤ºå·¥ç¨‹æŒ‡å—ä¸­çš„ç¬¬2æ¡â€”â€”ç»™æ¨¡å‹æä¾›å‚è€ƒï¼ˆä¹Ÿå°±æ˜¯ç¤ºä¾‹ï¼‰ã€‚</p>
<h2 id="fewshot">FewShotçš„æ€æƒ³èµ·æº</h2>
<p>è®²è§£æ¦‚å¿µä¹‹å‰ï¼Œæˆ‘å…ˆåˆ†äº«ä¸ªäº‹å„¿å“ˆï¼Œå¸®åŠ©ä½ ç†è§£ã€‚</p>
<p>ä»Šå¤©æˆ‘ä¸‹æ¥¼è·‘æ­¥æ—¶ï¼Œä¸€ä¸ªè€çˆ·çˆ·æ•™å­™å­å­¦éª‘è½¦ï¼Œå°å­©æ€»æŒæ¡ä¸äº†å¹³è¡¡ï¼Œè¹¬ä¸€ä¸¤ä¸‹å°±ä¸‹è½¦ã€‚</p>
<ul>
<li>çˆ·çˆ·è¯´ï¼šâ€œå®è´ï¼Œä½ å¾—æœ‰æ¯…åŠ›ï¼â€</li>
<li>å­™å­è¯´ï¼šâ€œçˆ·çˆ·ï¼Œä»€ä¹ˆæ˜¯æ¯…åŠ›ï¼Ÿâ€</li>
<li>çˆ·çˆ·è¯´ï¼šâ€œä½ çœ‹è¿™ä¸ªå”å”ï¼Œç»•ç€æ¥¼è·‘äº†10å¤šåœˆäº†ï¼Œè¿™å°±æ˜¯æ¯…åŠ›ï¼Œä½ ä¹Ÿå¾—è‡³å°‘è¹¬ä¸ª10å‡ è¶Ÿæ‰èƒ½éª‘èµ·æ¥ã€‚â€</li>
</ul>
<p>è¿™è€çˆ·çˆ·å°±æ˜¯ç»™å­™å­åšäº†ä¸€ä¸ªOne-Shotå­¦ä¹ ã€‚å¦‚æœä»–çš„å­™å­ç¬¬ä¸€æ¬¡å¬è¯´å´ä¸Šæ¥å°±æ˜ç™½ä»€ä¹ˆæ˜¯æ¯…åŠ›ï¼Œé‚£å°±ç¥äº†ï¼Œè¿™å°±å«Zero-Shotï¼Œè¡¨æ˜è¿™å­©å­çš„è¯­è¨€å¤©èµ‹ä¸æ˜¯ä¸€èˆ¬çš„é«˜ï¼Œä»çŸ¥è¯†ç§¯ç´¯å’Œå½“å‰è¯­å¢ƒä¸­å°±èƒ½å¤Ÿæ¨çŸ¥æ–°è¯çš„æ¶µä¹‰ã€‚æœ‰æ—¶å€™æˆ‘ä»¬æŠŠZero-Shotç¿»è¯‘ä¸ºâ€œé¡¿æ‚Ÿâ€ï¼Œèªæ˜çš„å¤§æ¨¡å‹ï¼ŒæŸäº›æƒ…å†µä¸‹ä¹Ÿæ˜¯èƒ½å¤Ÿåšåˆ°çš„ã€‚</p>
<p>Few-Shotï¼ˆå°‘æ ·æœ¬ï¼‰ã€One-Shotï¼ˆå•æ ·æœ¬ï¼‰å’Œä¸ä¹‹å¯¹åº”çš„ Zero-Shotï¼ˆé›¶æ ·æœ¬ï¼‰çš„æ¦‚å¿µéƒ½èµ·æºäºæœºå™¨å­¦ä¹ ã€‚å¦‚ä½•è®©æœºå™¨å­¦ä¹ æ¨¡å‹åœ¨æå°‘é‡ç”šè‡³æ²¡æœ‰ç¤ºä¾‹çš„æƒ…å†µä¸‹å­¦ä¹ åˆ°æ–°çš„æ¦‚å¿µæˆ–ç±»åˆ«ï¼Œå¯¹äºè®¸å¤šç°å®ä¸–ç•Œçš„é—®é¢˜æ˜¯éå¸¸æœ‰ä»·å€¼çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¾€å¾€æ— æ³•è·å–åˆ°å¤§é‡çš„æ ‡ç­¾åŒ–æ•°æ®ã€‚</p>
<p>è¿™å‡ ä¸ªé‡è¦æ¦‚å¿µå¹¶éåœ¨æŸä¸€ç¯‡ç‰¹å®šçš„è®ºæ–‡ä¸­é¦–æ¬¡æå‡ºï¼Œè€Œæ˜¯åœ¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ çš„ç ”ç©¶ä¸­é€æ¸å½¢æˆå’Œå‘å±•çš„ã€‚</p>
<ul>
<li>å¯¹äºFew-Shot Learningï¼Œä¸€ä¸ªé‡è¦çš„å‚è€ƒæ–‡çŒ®æ˜¯2016å¹´Vinyals, O.çš„è®ºæ–‡ã€Šå°æ ·æœ¬å­¦ä¹ çš„åŒ¹é…ç½‘ç»œã€‹ã€‚</li>
<li>è¿™ç¯‡è®ºæ–‡æå‡ºäº†ä¸€ç§æ–°çš„å­¦ä¹ æ¨¡å‹â€”â€”åŒ¹é…ç½‘ç»œï¼ˆMatching Networksï¼‰ï¼Œä¸“é—¨é’ˆå¯¹å•æ ·æœ¬å­¦ä¹ ï¼ˆOne-Shot Learningï¼‰é—®é¢˜è®¾è®¡ï¼Œ<strong>è€Œ</strong> <strong>One-Shot Learning</strong> <strong>å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§æœ€å¸¸è§çš„</strong> <strong>Few-Shot</strong> <strong>å­¦ä¹ çš„æƒ…å†µã€‚</strong></li>
<li>å¯¹äºZero-Shot Learningï¼Œä¸€ä¸ªä»£è¡¨æ€§çš„å‚è€ƒæ–‡çŒ®æ˜¯Palatucci, M.åœ¨2009å¹´æå‡ºçš„ã€ŠåŸºäºè¯­ä¹‰è¾“å‡ºç¼–ç çš„é›¶æ ·æœ¬å­¦ä¹ ï¼ˆZero-Shot Learning with semantic output codesï¼‰ã€‹ï¼Œè¿™ç¯‡è®ºæ–‡æå‡ºäº†é›¶æ¬¡å­¦ä¹ ï¼ˆZero-Shot Learningï¼‰çš„æ¦‚å¿µï¼Œå…¶ä¸­çš„å­¦ä¹ ç³»ç»Ÿå¯ä»¥æ ¹æ®ç±»çš„è¯­ä¹‰æè¿°æ¥è¯†åˆ«ä¹‹å‰æœªè§è¿‡çš„ç±»ã€‚</li>
</ul>
<p>åœ¨æç¤ºå·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰ä¸­ï¼ŒFew-Shot å’Œ Zero-Shot å­¦ä¹ çš„æ¦‚å¿µä¹Ÿè¢«å¹¿æ³›åº”ç”¨ã€‚</p>
<ul>
<li>åœ¨Few-Shotå­¦ä¹ è®¾ç½®ä¸­ï¼Œæ¨¡å‹ä¼šè¢«ç»™äºˆå‡ ä¸ªç¤ºä¾‹ï¼Œä»¥å¸®åŠ©æ¨¡å‹ç†è§£ä»»åŠ¡ï¼Œå¹¶ç”Ÿæˆæ­£ç¡®çš„å“åº”ã€‚</li>
<li>åœ¨Zero-Shotå­¦ä¹ è®¾ç½®ä¸­ï¼Œæ¨¡å‹åªæ ¹æ®ä»»åŠ¡çš„æè¿°ç”Ÿæˆå“åº”ï¼Œä¸éœ€è¦ä»»ä½•ç¤ºä¾‹ã€‚</li>
</ul>
<p>è€ŒOpenAIåœ¨ä»‹ç»GPT-3æ¨¡å‹çš„é‡è¦è®ºæ–‡ã€ŠLanguage models are Few-Shot learnersï¼ˆè¯­è¨€æ¨¡å‹æ˜¯å°‘æ ·æœ¬å­¦ä¹ è€…ï¼‰ã€‹ä¸­ï¼Œæ›´æ˜¯ç›´æ¥æŒ‡å‡ºï¼šGPT-3æ¨¡å‹ï¼Œä½œä¸ºä¸€ä¸ªå¤§å‹çš„è‡ªæˆ‘ç›‘ç£å­¦ä¹ æ¨¡å‹ï¼Œé€šè¿‡æå‡æ¨¡å‹è§„æ¨¡ï¼Œå®ç°äº†å‡ºè‰²çš„Few-Shotå­¦ä¹ æ€§èƒ½ã€‚</p>
<p>è¿™ç¯‡è®ºæ–‡ä¸ºå¤§è¯­è¨€æ¨¡å‹å¯ä»¥è¿›è¡ŒFew-Shotå­¦ä¹ æä¾›äº†æ‰å®çš„ç†è®ºåŸºç¡€ã€‚</p>
<p><img alt="" src="https://static001.geekbang.org/resource/image/48/bc/481yy45346cc28ec48269c752c3647bc.png?wh=659x786" title="GPT-3ï¼šè¯­è¨€æ¨¡å‹æ˜¯å°‘æ ·æœ¬å­¦ä¹ è€…" /></p>
<p>ä¸‹å›¾å°±æ˜¯OpenAIçš„GPT-3è®ºæ–‡ç»™å‡ºçš„GPT-3åœ¨ç¿»è¯‘ä»»åŠ¡ä¸­ï¼Œé€šè¿‡FewShotæç¤ºå®Œæˆç¿»è¯‘çš„ä¾‹å­ã€‚</p>
<p><img alt="" src="https://static001.geekbang.org/resource/image/35/ca/357e9ca0ce2b4699a24e3fe512c047ca.png?wh=1632x1465" /></p>
<p>ä»¥ä¸Šï¼Œå°±æ˜¯ZeroShotã€OneShotã€FewShotè¿™äº›é‡è¦æ¦‚å¿µçš„èµ·æºã€‚</p>
<h2 id="fewshotprompttemplate">ä½¿ç”¨ FewShotPromptTemplate</h2>
<p>ä¸‹é¢ï¼Œå°±è®©æˆ‘ä»¬æ¥é€šè¿‡LangChainä¸­çš„FewShotPromptTemplateæ„å»ºå‡ºæœ€åˆé€‚çš„é²œèŠ±æ–‡æ¡ˆã€‚</p>
<p><strong>1. åˆ›å»ºç¤ºä¾‹æ ·æœ¬</strong></p>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€äº›ç¤ºä¾‹ï¼Œä½œä¸ºæç¤ºçš„æ ·æœ¬ã€‚å…¶ä¸­æ¯ä¸ªç¤ºä¾‹éƒ½æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯è¾“å…¥å˜é‡ï¼Œå€¼æ˜¯è¿™äº›è¾“å…¥å˜é‡çš„å€¼ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a># 1. åˆ›å»ºä¸€äº›ç¤ºä¾‹
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>samples = [
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Â  {
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>Â  Â  &quot;flower_type&quot;: &quot;ç«ç‘°&quot;,
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>Â  Â  &quot;occasion&quot;: &quot;çˆ±æƒ…&quot;,
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>Â  Â  &quot;ad_copy&quot;: &quot;ç«ç‘°ï¼Œæµªæ¼«çš„è±¡å¾ï¼Œæ˜¯ä½ å‘å¿ƒçˆ±çš„äººè¡¨è¾¾çˆ±æ„çš„æœ€ä½³é€‰æ‹©ã€‚&quot;
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>Â  },
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>Â  {
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>Â  Â  &quot;flower_type&quot;: &quot;åº·ä¹ƒé¦¨&quot;,
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>Â  Â  &quot;occasion&quot;: &quot;æ¯äº²èŠ‚&quot;,
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>Â  Â  &quot;ad_copy&quot;: &quot;åº·ä¹ƒé¦¨ä»£è¡¨ç€æ¯çˆ±çš„çº¯æ´ä¸ä¼Ÿå¤§ï¼Œæ˜¯æ¯äº²èŠ‚èµ é€ç»™æ¯äº²çš„å®Œç¾ç¤¼ç‰©ã€‚&quot;
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>Â  },
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>Â  {
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>Â  Â  &quot;flower_type&quot;: &quot;ç™¾åˆ&quot;,
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>Â  Â  &quot;occasion&quot;: &quot;åº†ç¥&quot;,
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>Â  Â  &quot;ad_copy&quot;: &quot;ç™¾åˆè±¡å¾ç€çº¯æ´ä¸é«˜é›…ï¼Œæ˜¯ä½ åº†ç¥ç‰¹æ®Šæ—¶åˆ»çš„ç†æƒ³é€‰æ‹©ã€‚&quot;
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>Â  },
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>Â  {
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>Â  Â  &quot;flower_type&quot;: &quot;å‘æ—¥è‘µ&quot;,
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>Â  Â  &quot;occasion&quot;: &quot;é¼“åŠ±&quot;,
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>Â  Â  &quot;ad_copy&quot;: &quot;å‘æ—¥è‘µè±¡å¾ç€åšéŸ§å’Œä¹è§‚ï¼Œæ˜¯ä½ é¼“åŠ±äº²æœ‹å¥½å‹çš„æœ€å¥½æ–¹å¼ã€‚&quot;
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>Â  }
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>]
</code></pre></div>
<p>samplesè¿™ä¸ªåˆ—è¡¨ï¼Œå®ƒåŒ…å«äº†å››ä¸ªå­—å…¸ï¼Œæ¯ä¸ªå­—å…¸ä»£è¡¨äº†ä¸€ç§èŠ±çš„ç±»å‹ã€é€‚åˆçš„åœºåˆï¼Œä»¥åŠå¯¹åº”çš„å¹¿å‘Šæ–‡æ¡ˆã€‚ è¿™äº›ç¤ºä¾‹æ ·æœ¬ï¼Œå°±æ˜¯æ„å»ºFewShotPromptæ—¶ï¼Œä½œä¸ºä¾‹å­ä¼ é€’ç»™æ¨¡å‹çš„å‚è€ƒä¿¡æ¯ã€‚</p>
<p><strong>2. åˆ›å»ºæç¤ºæ¨¡æ¿</strong></p>
<p>é…ç½®ä¸€ä¸ªæç¤ºæ¨¡æ¿ï¼Œå°†ä¸€ä¸ªç¤ºä¾‹æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚è¿™ä¸ªæ ¼å¼åŒ–ç¨‹åºåº”è¯¥æ˜¯ä¸€ä¸ªPromptTemplateå¯¹è±¡ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a># 2. åˆ›å»ºä¸€ä¸ªæç¤ºæ¨¡æ¿
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>from langchain.prompts.prompt import PromptTemplate
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>template=&quot;é²œèŠ±ç±»å‹: {flower_type}\nåœºåˆ: {occasion}\næ–‡æ¡ˆ: {ad_copy}&quot;
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>prompt_sample = PromptTemplate(input_variables=[&quot;flower_type&quot;, &quot;occasion&quot;, &quot;ad_copy&quot;], 
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>                               template=template)
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>print(prompt_sample.format(**samples[0]))
</code></pre></div>
<p>æç¤ºæ¨¡æ¿çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>é²œèŠ±ç±»å‹: ç«ç‘°
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>åœºåˆ: çˆ±æƒ…
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>æ–‡æ¡ˆ: ç«ç‘°ï¼Œæµªæ¼«çš„è±¡å¾ï¼Œæ˜¯ä½ å‘å¿ƒçˆ±çš„äººè¡¨è¾¾çˆ±æ„çš„æœ€ä½³é€‰æ‹©ã€‚
</code></pre></div>
<p>åœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªPromptTemplateå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æ˜¯æ ¹æ®æŒ‡å®šçš„è¾“å…¥å˜é‡å’Œæ¨¡æ¿å­—ç¬¦ä¸²æ¥ç”Ÿæˆæç¤ºçš„ã€‚åœ¨è¿™é‡Œï¼Œè¾“å…¥å˜é‡åŒ…æ‹¬ <code>"flower_type"</code>ã€<code>"occasion"</code>ã€<code>"ad_copy"</code>ï¼Œæ¨¡æ¿æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å«äº†ç”¨å¤§æ‹¬å·åŒ…å›´çš„å˜é‡åï¼Œå®ƒä»¬ä¼šè¢«å¯¹åº”çš„å˜é‡å€¼æ›¿æ¢ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±æŠŠå­—å…¸ä¸­çš„ç¤ºä¾‹æ ¼å¼è½¬æ¢æˆäº†æç¤ºæ¨¡æ¿ï¼Œå¯ä»¥å½¢æˆä¸€ä¸ªä¸ªå…·ä½“å¯ç”¨çš„LangChainæç¤ºã€‚æ¯”å¦‚æˆ‘ç”¨samples[0]ä¸­çš„æ•°æ®æ›¿æ¢äº†æ¨¡æ¿ä¸­çš„å˜é‡ï¼Œç”Ÿæˆäº†ä¸€ä¸ªå®Œæ•´çš„æç¤ºã€‚</p>
<p><strong>3. åˆ›å»º FewShotPromptTemplate å¯¹è±¡</strong></p>
<p>ç„¶åï¼Œé€šè¿‡ä½¿ç”¨ä¸Šä¸€æ­¥éª¤ä¸­åˆ›å»ºçš„prompt_sampleï¼Œä»¥åŠsamplesåˆ—è¡¨ä¸­çš„æ‰€æœ‰ç¤ºä¾‹ï¼Œ åˆ›å»ºä¸€ä¸ªFewShotPromptTemplateå¯¹è±¡ï¼Œç”Ÿæˆæ›´å¤æ‚çš„æç¤ºã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a># 3. åˆ›å»ºä¸€ä¸ªFewShotPromptTemplateå¯¹è±¡
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>from langchain.prompts.few_shot import FewShotPromptTemplate
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>prompt = FewShotPromptTemplate(
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>Â  Â  examples=samples,
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>Â  Â  example_prompt=prompt_sample,
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>Â  Â  suffix=&quot;é²œèŠ±ç±»å‹: {flower_type}\nåœºåˆ: {occasion}&quot;,
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>Â  Â  input_variables=[&quot;flower_type&quot;, &quot;occasion&quot;]
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>)
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>print(prompt.format(flower_type=&quot;é‡ç«ç‘°&quot;, occasion=&quot;çˆ±æƒ…&quot;))
</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>é²œèŠ±ç±»å‹: ç«ç‘°
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>åœºåˆ: çˆ±æƒ…
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>æ–‡æ¡ˆ: ç«ç‘°ï¼Œæµªæ¼«çš„è±¡å¾ï¼Œæ˜¯ä½ å‘å¿ƒçˆ±çš„äººè¡¨è¾¾çˆ±æ„çš„æœ€ä½³é€‰æ‹©ã€‚
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>é²œèŠ±ç±»å‹: åº·ä¹ƒé¦¨
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>åœºåˆ: æ¯äº²èŠ‚
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>æ–‡æ¡ˆ: åº·ä¹ƒé¦¨ä»£è¡¨ç€æ¯çˆ±çš„çº¯æ´ä¸ä¼Ÿå¤§ï¼Œæ˜¯æ¯äº²èŠ‚èµ é€ç»™æ¯äº²çš„å®Œç¾ç¤¼ç‰©ã€‚
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>é²œèŠ±ç±»å‹: ç™¾åˆ
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>åœºåˆ: åº†ç¥
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>æ–‡æ¡ˆ: ç™¾åˆè±¡å¾ç€çº¯æ´ä¸é«˜é›…ï¼Œæ˜¯ä½ åº†ç¥ç‰¹æ®Šæ—¶åˆ»çš„ç†æƒ³é€‰æ‹©ã€‚
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>é²œèŠ±ç±»å‹: å‘æ—¥è‘µ
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>åœºåˆ: é¼“åŠ±
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>æ–‡æ¡ˆ: å‘æ—¥è‘µè±¡å¾ç€åšéŸ§å’Œä¹è§‚ï¼Œæ˜¯ä½ é¼“åŠ±äº²æœ‹å¥½å‹çš„æœ€å¥½æ–¹å¼ã€‚
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>é²œèŠ±ç±»å‹: é‡ç«ç‘°
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>åœºåˆ: çˆ±æƒ…
</code></pre></div>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒFewShotPromptTemplateæ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„æç¤ºæ¨¡æ¿ï¼Œå®ƒåŒ…å«äº†å¤šä¸ªç¤ºä¾‹å’Œä¸€ä¸ªæç¤ºã€‚è¿™ç§æ¨¡æ¿å¯ä»¥ä½¿ç”¨å¤šä¸ªç¤ºä¾‹æ¥æŒ‡å¯¼æ¨¡å‹ç”Ÿæˆå¯¹åº”çš„è¾“å‡ºã€‚ç›®å‰æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°æç¤ºï¼Œå…¶ä¸­åŒ…å«äº†æ ¹æ®æŒ‡å®šçš„èŠ±çš„ç±»å‹â€œé‡ç«ç‘°â€å’Œåœºåˆâ€œçˆ±æƒ…â€ã€‚</p>
<p><strong>4. è°ƒç”¨å¤§æ¨¡å‹åˆ›å»ºæ–°æ–‡æ¡ˆ</strong></p>
<p>æœ€åï¼ŒæŠŠè¿™ä¸ªå¯¹è±¡è¾“å‡ºç»™å¤§æ¨¡å‹ï¼Œå°±å¯ä»¥æ ¹æ®æç¤ºï¼Œå¾—åˆ°æˆ‘ä»¬æ‰€éœ€è¦çš„æ–‡æ¡ˆäº†ï¼</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a># 4. æŠŠæç¤ºä¼ é€’ç»™å¤§æ¨¡å‹
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>import os
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>os.environ[&quot;OPENAI_API_KEY&quot;] = &#39;ä½ çš„Open AI Key&#39;
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>from langchain.llms import OpenAI
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>model = OpenAI(model_name=&#39;gpt-3.5-turbo-instruct&#39;)
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>result = model(prompt.format(flower_type=&quot;é‡ç«ç‘°&quot;, occasion=&quot;çˆ±æƒ…&quot;))
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>print(result)
</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>æ–‡æ¡ˆ: é‡ç«ç‘°ä»£è¡¨ç€çˆ±æƒ…çš„åšè´ï¼Œæ˜¯ä½ å‘å¿ƒçˆ±çš„äººè¡¨è¾¾çˆ±æ„çš„æœ€ä½³ç¤¼ç‰©ã€‚
</code></pre></div>
<p>å¥½ï¼æ¨¡å‹æˆåŠŸåœ°æ¨¡ä»¿äº†æˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œå†™å‡ºäº†æ–°æ–‡æ¡ˆï¼Œä»ç»“æ„åˆ°è¯­æ°”éƒ½è›®ç›¸ä¼¼çš„ã€‚</p>
<h2 id="_2">ä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨</h2>
<p>å¦‚æœæˆ‘ä»¬çš„ç¤ºä¾‹å¾ˆå¤šï¼Œé‚£ä¹ˆä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ç¤ºä¾‹å‘é€ç»™æ¨¡å‹æ˜¯ä¸ç°å®è€Œä¸”ä½æ•ˆçš„ã€‚å¦å¤–ï¼Œæ¯æ¬¡éƒ½åŒ…å«å¤ªå¤šçš„Tokenä¹Ÿä¼šæµªè´¹æµé‡ï¼ˆOpenAIæ˜¯æŒ‰ç…§Tokenæ•°æ¥æ”¶å–è´¹ç”¨ï¼‰ã€‚</p>
<p>LangChainç»™æˆ‘ä»¬æä¾›äº†ç¤ºä¾‹é€‰æ‹©å™¨ï¼Œæ¥é€‰æ‹©æœ€åˆé€‚çš„æ ·æœ¬ã€‚ï¼ˆæ³¨æ„ï¼Œå› ä¸ºç¤ºä¾‹é€‰æ‹©å™¨ä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦æ¯”è¾ƒçš„åŠŸèƒ½ï¼Œæ­¤å¤„éœ€è¦å®‰è£…å‘é‡æ•°æ®åº“ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯å¼€æºçš„Chromaï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä¹‹å‰ç”¨è¿‡çš„Qdrantã€‚ï¼‰</p>
<p>ä¸‹é¢ï¼Œå°±æ˜¯ä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨çš„ç¤ºä¾‹ä»£ç ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a># 5. ä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>from langchain.prompts.example_selector import SemanticSimilarityExampleSelector
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>from langchain.vectorstores import Chroma
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>from langchain.embeddings import OpenAIEmbeddings
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a># åˆå§‹åŒ–ç¤ºä¾‹é€‰æ‹©å™¨
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>example_selector = SemanticSimilarityExampleSelector.from_examples(
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>Â  Â  samples,
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>Â  Â  OpenAIEmbeddings(),
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>Â  Â  Chroma,
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>Â  Â  k=1
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>)
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a># åˆ›å»ºä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨çš„FewShotPromptTemplateå¯¹è±¡
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>prompt = FewShotPromptTemplate(
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>Â  Â  example_selector=example_selector, 
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>Â  Â  example_prompt=prompt_sample, 
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>Â  Â  suffix=&quot;é²œèŠ±ç±»å‹: {flower_type}\nåœºåˆ: {occasion}&quot;, 
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>Â  Â  input_variables=[&quot;flower_type&quot;, &quot;occasion&quot;]
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>)
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>print(prompt.format(flower_type=&quot;çº¢ç«ç‘°&quot;, occasion=&quot;çˆ±æƒ…&quot;))
</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>é²œèŠ±ç±»å‹: ç«ç‘°
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>åœºåˆ: çˆ±æƒ…
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>æ–‡æ¡ˆ: ç«ç‘°ï¼Œæµªæ¼«çš„è±¡å¾ï¼Œæ˜¯ä½ å‘å¿ƒçˆ±çš„äººè¡¨è¾¾çˆ±æ„çš„æœ€ä½³é€‰æ‹©ã€‚
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>é²œèŠ±ç±»å‹: çº¢ç«ç‘°
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>åœºåˆ: çˆ±æƒ…
</code></pre></div>
<p>åœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼Œå®ƒé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªSemanticSimilarityExampleSelectorå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥æ ¹æ®è¯­ä¹‰ç›¸ä¼¼æ€§é€‰æ‹©æœ€ç›¸å…³çš„ç¤ºä¾‹ã€‚ç„¶åï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„FewShotPromptTemplateå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä½¿ç”¨äº†ä¸Šä¸€æ­¥åˆ›å»ºçš„é€‰æ‹©å™¨æ¥é€‰æ‹©æœ€ç›¸å…³çš„ç¤ºä¾‹ç”Ÿæˆæç¤ºã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬åˆç”¨è¿™ä¸ªæ¨¡æ¿ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„æç¤ºï¼Œå› ä¸ºæˆ‘ä»¬çš„æç¤ºä¸­éœ€è¦åˆ›å»ºçš„æ˜¯çº¢ç«ç‘°çš„æ–‡æ¡ˆï¼Œæ‰€ä»¥ï¼Œç¤ºä¾‹é€‰æ‹©å™¨example_selectorä¼šæ ¹æ®è¯­ä¹‰çš„ç›¸ä¼¼åº¦ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ï¼‰æ‰¾åˆ°æœ€ç›¸ä¼¼çš„ç¤ºä¾‹ï¼Œä¹Ÿå°±æ˜¯â€œç«ç‘°â€ï¼Œå¹¶ç”¨è¿™ä¸ªç¤ºä¾‹æ„å»ºäº†FewShotæ¨¡æ¿ã€‚</p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±é¿å…äº†æŠŠè¿‡å¤šçš„æ— å…³æ¨¡æ¿ä¼ é€’ç»™å¤§æ¨¡å‹ï¼Œä»¥èŠ‚çœTokençš„ç”¨é‡ã€‚</p>
<h2 id="_3">æ€»ç»“æ—¶åˆ»</h2>
<p>å¥½çš„ï¼Œåˆ°è¿™é‡Œï¼Œä»Šå¤©è¿™ä¸€è®²å°±ç»“æŸäº†ã€‚æˆ‘ä»¬ä»‹ç»äº†æç¤ºå·¥ç¨‹çš„åŸç†ï¼Œå‡ ç§æç¤ºæ¨¡æ¿çš„ç”¨æ³•ï¼Œä»¥åŠæœ€é‡è¦çš„FewShotçš„æ€è·¯ã€‚å…¶å®è¯´ç™½äº†ï¼Œå°±æ˜¯ç»™æ¨¡å‹ä¸€äº›ç¤ºä¾‹åšå‚è€ƒï¼Œæ¨¡å‹æ‰èƒ½æ˜ç™½ä½ è¦ä»€ä¹ˆã€‚</p>
<p><img alt="" src="https://static001.geekbang.org/resource/image/f4/0d/f46817a7ed56c6fef64a6aeee4c1yy0d.png?wh=955x970" title="å­¦æœ¯è®ºæ–‡ä¸­çš„ Few-Shot å’Œ Zero-Shot ç¤ºä¾‹" /></p>
<p>æ€»çš„æ¥è¯´ï¼Œæä¾›ç¤ºä¾‹å¯¹äºè§£å†³æŸäº›ä»»åŠ¡è‡³å…³é‡è¦ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒFewShotçš„æ–¹å¼èƒ½å¤Ÿæ˜¾è‘—æé«˜æ¨¡å‹å›ç­”çš„è´¨é‡ã€‚ä¸è¿‡ï¼Œå½“å°‘æ ·æœ¬æç¤ºçš„æ•ˆæœä¸ä½³æ—¶ï¼Œè¿™å¯èƒ½è¡¨ç¤ºæ¨¡å‹åœ¨ä»»åŠ¡ä¸Šçš„å­¦ä¹ ä¸è¶³ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒæˆ–å°è¯•æ›´é«˜çº§çš„æç¤ºæŠ€æœ¯ã€‚</p>
<p>ä¸‹ä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†åœ¨æ¢è®¨è¾“å‡ºè§£æçš„åŒæ—¶ï¼Œè®²è§£å¦ä¸€ç§å¤‡å—å…³æ³¨çš„æç¤ºæŠ€æœ¯ï¼Œè¢«ç§°ä¸ºâ€œæ€ç»´é“¾æç¤ºâ€ï¼ˆChain of Thoughtï¼Œç®€ç§°CoTï¼‰ã€‚è¿™ç§æŠ€æœ¯å› å…¶ç‹¬ç‰¹çš„åº”ç”¨æ–¹å¼å’Œæ½œåœ¨çš„å®ç”¨ä»·å€¼è€Œå¼•äººæ³¨ç›®ã€‚</p>
<h2 id="_4">æ€è€ƒé¢˜</h2>
<ol>
<li>å¦‚æœä½ è§‚å¯ŸLangChainä¸­çš„prompt.pyä¸­çš„PromptTemplateçš„å®ç°ä»£ç ï¼Œä½ ä¼šå‘ç°é™¤äº†æˆ‘ä»¬ä½¿ç”¨è¿‡çš„input_variablesã€templateç­‰åˆå§‹åŒ–å‚æ•°ä¹‹å¤–ï¼Œè¿˜æœ‰template_formatã€validate_templateç­‰å‚æ•°ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œtemplate_formatå¯ä»¥æŒ‡å®šé™¤äº†f-stringä¹‹å¤–ï¼Œå…¶å®ƒæ ¼å¼çš„æ¨¡æ¿ï¼Œæ¯”å¦‚jinja2ã€‚è¯·ä½ æŸ¥çœ‹LangChainæ–‡æ¡£ï¼Œå¹¶å°è¯•ä½¿ç”¨è¿™äº›å‚æ•°ã€‚</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>template_format: str = &quot;f-string&quot;
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>&quot;&quot;&quot;The format of the prompt template. Options are: &#39;f-string&#39;, &#39;jinja2&#39;.&quot;&quot;&quot;
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>validate_template: bool = True
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>&quot;&quot;&quot;Whether or not to try validating the template.&quot;&quot;&quot;
</code></pre></div>
<ol>
<li>è¯·ä½ å°è¯•ä½¿ç”¨PipelinePromptTemplateå’Œè‡ªå®šä¹‰Templateã€‚</li>
<li>è¯·ä½ æ„æƒ³ä¸€ä¸ªå…³äºé²œèŠ±åº—è¿è¥åœºæ™¯ä¸­å®¢æˆ·æœåŠ¡å¯¹è¯çš„å°‘æ ·æœ¬å­¦ä¹ ä»»åŠ¡ã€‚åœ¨è¿™ä¸ªä»»åŠ¡ä¸­ï¼Œæ¨¡å‹éœ€è¦æ ¹æ®æä¾›çš„ç¤ºä¾‹ï¼Œå­¦ä¹ å¦‚ä½•è§£ç­”å®¢æˆ·çš„å„ç§é—®é¢˜ï¼ŒåŒ…æ‹¬è¯¢é—®èŠ±çš„ä»·æ ¼ã€æ¨èé²œèŠ±ã€äº†è§£é²œèŠ±çš„ä¿å…»æ–¹æ³•ç­‰ã€‚æœ€å¥½æ˜¯ç”¨ChatModelå®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>from langchain.chat_models import ChatOpenAI
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>from langchain import PromptTemplate
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>from langchain.prompts.chat import (
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    ChatPromptTemplate,
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    SystemMessagePromptTemplate,
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>    AIMessagePromptTemplate,
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    HumanMessagePromptTemplate)
</code></pre></div>
<p>é¢˜ç›®è¾ƒå¤šï¼Œå¯ä»¥é€‰æ‹©æ€§æ€è€ƒï¼ŒæœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„åˆ†äº«ã€‚å¦‚æœä½ è§‰å¾—å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ç»™æœ‰éœ€è¦çš„æœ‹å‹ï¼æœ€åå¦‚æœä½ å­¦æœ‰ä½™åŠ›ï¼Œå¯ä»¥è¿›ä¸€æ­¥å­¦ä¹ ä¸‹é¢çš„å»¶ä¼¸é˜…è¯»ã€‚</p>
<h2 id="_5">å»¶ä¼¸é˜…è¯»</h2>
<ol>
<li>è®ºæ–‡ï¼š Open AIçš„GPT-3æ¨¡å‹ï¼š<a href="https://proceedings.neurips.cc/paper_files/paper/2020/hash/1457c0d6bfcb4967418bfb8ac142f64a-Abstract.html">å¤§æ¨¡å‹æ˜¯å°‘æ ·æœ¬å­¦ä¹ è€…</a>ï¼Œ Brown, T. B., Mann, B., Ryder, N., Subbiah, M., Kaplan, J., Dhariwal, P., â€¦ &amp; Agarwal, S. (2020). Language models are few-shot learners. arXiv preprint arXiv:2005.14165.</li>
<li>è®ºæ–‡ï¼š<a href="https://arxiv.org/abs/1606.04080">å•æ ·æœ¬å­¦ä¹ çš„åŒ¹é…ç½‘ç»œ</a>ï¼ŒVinyals, O., Blundell, C., Lillicrap, T., &amp; Wierstra, D. (2016). Matching networks for one shot learning. In Advances in neural information processing systems (pp. 3630-3638).</li>
<li>è®ºæ–‡ï¼š<a href="https://www.cs.toronto.edu/~hinton/absps/palatucci.pdf">ç”¨è¯­ä¹‰è¾“å‡ºç¼–ç åšé›¶æ ·æœ¬å­¦ä¹ </a>ï¼ŒPalatucci, M., Pomerleau, D., Hinton, G. E., &amp; Mitchell, T. M. (2009). Zero-shot learning with semantic output codes. In Advances in neural information processing systems (pp. 1410-1418).</li>
<li>è®ºæ–‡ï¼š<a href="https://doi.org/10.48550/arXiv.2202.12837">å¯¹ç¤ºä¾‹è§’è‰²çš„é‡æ–°æ€è€ƒï¼šæ˜¯ä»€ä¹ˆä½¿å¾—ä¸Šä¸‹æ–‡å­¦ä¹ æœ‰æ•ˆï¼Ÿ</a>Min, S., Lyu, X., Holtzman, A., Artetxe, M., Lewis, M., Hajishirzi, H., &amp; Zettlemoyer, L. (2022). Rethinking the Role of Demonstrations: What Makes In-Context Learning Work? Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing (EMNLP 2022).</li>
<li>è®ºæ–‡ï¼š<a href="https://arxiv.org/pdf/2109.01652.pdf">å¾®è°ƒåçš„è¯­è¨€æ¨¡å‹æ˜¯é›¶æ ·æœ¬å­¦ä¹ è€…</a>ï¼ŒWei, J., Bosma, M., Zhao, V. Y., Guu, K., Yu, A. W., Lester, B., Du, N., Dai, A. M., &amp; Le, Q. V. (2022). Finetuned Language Models Are Zero-Shot Learners. Proceedings of the International Conference on Learning Representations (ICLR 2022).</li>
</ol>
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ15ï¼‰</strong></div>
<ul>
<li><span>é»„æŒ¯å®‡</span> ğŸ‘ï¼ˆ9ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<p>æˆ‘ä½¿ç”¨prompté‡åˆ°çš„ä¸€äº›é—®é¢˜
    1. æœ€å¸¸è§çš„initial_agentæ–¹æ³•ç›´æ¥ä¼ å…¥promptå‚æ•°ï¼Œå¥½åƒæ— æ•ˆã€‚åªèƒ½é€šè¿‡agent_kwargsçš„PREFIXå’ŒSUFFIXç­‰ä¼ å…¥ã€‚
    2. å…ˆå®šä¹‰ä¸ªLLMChainä¼ å…¥promptå‚æ•°ï¼Œåœ¨å®šä¹‰ä¸€ä¸ªagentï¼ˆsingle actionæˆ–è€…multi actionï¼‰
    3. æœ‰æ—¶å€™ä¼ å€¼è¿›å»ï¼Œæœ€åæ‰“å°agentçš„promptï¼Œå‘ç°å¥½åƒä¹Ÿæ²¡æœ‰æˆåŠŸã€‚
    4. openAIçš„æ¨¡å‹è¿˜å¥½ï¼Œæ²¡æ€ä¹ˆç®¡è¾“å…¥è¾“å‡ºçš„promptçš„æ ¼å¼ã€‚ä½†llama2çš„æ¨¡å‹æ›´éš¾ä¼ºå€™ï¼ŒåŒæ ·çš„ä»£ç åªæ˜¯æ¢äº†LLMæ¨¡å‹å°±è¿è¡Œä¸äº†ï¼Œä¸æ˜¯æŠ¥æ²¡æœ‰input_variableså°±æ˜¯è¾“å‡ºæ— æ³•parseï¼Œå¾ˆå›°æƒ‘ã€‚

    ä»¥ä¸Šå¸Œæœ›åœ¨è€å¸ˆçš„è¯¾ç¨‹é‡Œéƒ½èƒ½å¾—åˆ°è§£ç­”ã€‚

    å¦å¤–ï¼Œæœ€è¿‘æƒ³å»è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œçœ‹äº†langchainçš„æºç ï¼Œä¸€å¤´é›¾æ°´ï¼Œæ„Ÿè§‰ä¸œè¥¿å¤ªå¤šäº†ï¼Œä¸çŸ¥ä»ä½•å¼€å§‹ï¼Œå¦‚æœèŠ±å¤§é‡æ—¶é—´åœ¨ç ”ç©¶langchainä¸Šé¢åˆæ‹…å¿ƒæœ¬æœ«å€’ç½®äº†ï¼Œæ¯•ç«Ÿå®ƒåªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œè¿˜æœ‰å¥½å¤šçš„åº”ç”¨å±‚çš„ä¸œè¥¿éœ€è¦å­¦ä¹ å’Œç ”ç©¶ï¼Œä½†æ˜¯ä¸åƒé€langchainåªèƒ½åšä¸€äº›ç®€å•chatbotçš„åº”ç”¨ã€‚æ‰€ä»¥ä¹Ÿæ¯”è¾ƒè¿·èŒ«ï¼Œå¸Œæœ›è€å¸ˆä¹Ÿèƒ½ç»™å‡ºè§£ç­”ï¼Œå¦‚ä½•åšå¥½äºŒè€…çš„å¹³è¡¡ã€‚</p>2023-09-13</li><br/><li><span>é«˜æº</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è€å¸ˆæœ‰ä¸ªé—®é¢˜é—®ä¸‹ï¼Œä¾‹å¦‚å¤§æ¨¡å‹çŸ¥é“ä½ æå‡ºé—®é¢˜åï¼Œæ˜¯å¦‚ä½•è¾“å‡ºæ»¡æ„çš„ç­”æ¡ˆå‘¢ï¼Œä¾‹å¦‚ä¸€é“ç®—æ³•ç¼–ç¨‹é¢˜ç›®ï¼Œå¤§æ¨¡å‹çŸ¥é“ä½ çš„é—®é¢˜åï¼Œæ˜¯æ ¹æ®è‡ªå·±ä»¥å‰å­˜å‚¨ç±»ä¼¼ç­”æ¡ˆè¾“å‡ºçš„å—ï¼Œæˆ‘æä¸ªæ–°çš„ç‰¹æ®Šé—®é¢˜ï¼Œä»–æ˜¯æ€ä¹ˆæ€è€ƒè¾“å‡ºçš„å‘¢</p>2023-10-29</li><br/><li><span>æŠ½è±¡æ´¾</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è€å¸ˆï¼Œè¯·é—®â€œæ¨¡å‹æ€è€ƒçš„æ—¶é—´â€è¿™ä¸ªæ€ä¹ˆç†è§£å•Šï¼Ÿå¯ä»¥ä¸¾ä¸ªä¾‹å­å—ï¼Ÿ</p>2023-10-18</li><br/><li><span>ä¸€è·¯å‰è¡Œ</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è€å¸ˆï¼Œå‘ç°ä½ åœ¨è®²langchainæ—¶å€™åŸºæœ¬ä»¥openaiä¸ºä¸»ï¼Œè¿™æ²¡ä»€ä¹ˆé—®é¢˜ã€‚å¯å¦è®²ä¸‹ã€‚æ¯”å¦‚è‡ªå·±çš„æœ¬åœ°å¤§æ¨¡å‹ã€‚å¦‚ä½•é€šè¿‡langchainå®ç°è°ƒç”¨ã€‚æ¯”å¦‚è‡ªå·±çš„æœ¬åœ°å¤§æ¨¡å‹ï¼Œå’ŒåµŒå…¥æ¨¡å‹ã€‚langchainä¹‹å‰çš„è°ƒç”¨æ–¹æ³•ï¼Œæ˜¯å¦éœ€è¦ä¿®æ”¹ï¼Œå¦‚æœéœ€è¦è¯¥æ€ä¹ˆä¿®æ”¹ï¼Ÿ</p>2024-03-21</li><br/><li><span>æ‚Ÿå°˜</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>æˆ‘å‘ç°æœ‰æ—¶å€™ä¸æŒ‡å®š .promptsï¼Œç›´æ¥ä» LangChain åŒ…ä¹Ÿèƒ½å¯¼å…¥æ¨¡æ¿ã€‚  ä¼šæœ‰å‘Šè­¦ä¿¡æ¯ï¼š
langchain&#47;__init__.py:34: UserWarning: Importing PromptTemplate from langchain root module is no longer supported. Please use langchain.prompts.PromptTemplate instead. warnings.warn(
æ‰€ä»¥ï¼Œå»ºè®®è¿˜æ˜¯æŒ‡å®š .promptsï¼Œå³from langchain.prompts.prompt import PromptTemplate</p>2023-11-08</li><br/><li><span>æ›¹èƒ–å­</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>ä¸€è·¯ç…§ç€å†…å®¹è·‘ä»£ç   ä¸€ç›´åˆ°example_selector = SemanticSimilarityExampleSelector.from_examples   å°±ä¸è¡Œäº†  å·¥å…·æŠ¥é”™ æç¤º UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 7-8: ordinal not in range(128)  é—®äº†gptä¹Ÿæ²¡è§£å†³é—®é¢˜</p>2024-05-30</li><br/><li><span>å†¬ç“œè”¡</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>é»„è€å¸ˆä¸‹åˆå¥½ï¼Œæˆ‘åœ¨è·‘é‡ç«ç‘° æ–‡æ¡ˆè¿™ä¸ªcaseæ—¶ï¼Œå¹¶æ²¡æœ‰è¾“å‡ºæ–‡æ¡ˆï¼Œè€Œæ˜¯å¦‚ä¸‹ä¿¡æ¯ï¼šâ€œè¿™äº›çœ‹èµ·æ¥åƒæ˜¯é²œèŠ±åˆ†ç±»åŠå…¶æ­é…çš„ä¸€äº›æ–‡æ¡ˆã€‚éœ€è¦å¸®ä½ åšäº›ä»€ä¹ˆå‘¢ï¼Ÿâ€</p>2024-05-09</li><br/><li><span>D.L</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>é»„è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼š
è¯¾ç¨‹ä¸­æœ‰æ®µä»£ç 
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a># åˆå§‹åŒ–ç¤ºä¾‹é€‰æ‹©å™¨
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>example_selector = SemanticSimilarityExampleSelector.from_examples( samples, 
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>     OpenAIEmbeddings(), 
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>     Chroma,
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>     k=1)
</code></pre></div>

å°†`Chroma`æ¢æˆ`Qdrant`ï¼Œåˆ™ä¼šæŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹(æŠ¥é”™å¤ªé•¿ï¼Œçœç•¥éƒ¨åˆ†ï¼‰
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>Traceback (most recent call last):
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>  File &amp;quot;&amp;#47;python3.10&amp;#47;site-packages&amp;#47;langchain&amp;#47;vectorstores&amp;#47;qdrant.py&amp;quot;, line 1584, in construct_instance
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    collection_info = client.get_collection(collection_name=collection_name)
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    ... ...
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    ... ...
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>    ... ...
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>  File &amp;quot;&amp;#47;python3.10&amp;#47;site-packages&amp;#47;qdrant_client&amp;#47;http&amp;#47;api_client.py&amp;quot;, line 97, in send
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>    raise UnexpectedResponse.for_response(response)
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 502 (Bad Gateway)
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>Raw response content:
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>b&amp;#39;&amp;#39;
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>During handling of the above exception, another exception occurred:
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>Traceback (most recent call last):
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>  File &amp;quot;&amp;#47;langchan_learning&amp;#47;05-demo.py&amp;quot;, line 43, in &amp;lt;module&amp;gt;
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>    example_selector = SemanticSimilarityExampleSelector.from_examples(
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>  File &amp;quot;&amp;#47;python3.10&amp;#47;site-packages&amp;#47;langchain_core&amp;#47;example_selectors&amp;#47;semantic_similarity.py&amp;quot;, line 97, in from_examples
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>    vectorstore = vectorstore_cls.from_texts(
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a>  File &amp;quot;&amp;#47;python3.10&amp;#47;site-packages&amp;#47;langchain&amp;#47;vectorstores&amp;#47;qdrant.py&amp;quot;, line 1301, in from_texts
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a>    qdrant = cls.construct_instance(
<a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a>    ... ...
<a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a>    ... ...
<a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a>    ... ... 
<a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a>  File &amp;quot;&amp;#47;python3.10&amp;#47;site-packages&amp;#47;qdrant_client&amp;#47;http&amp;#47;api_client.py&amp;quot;, line 97, in send
<a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a>    raise UnexpectedResponse.for_response(response)
<a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a>qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 502 (Bad Gateway)
<a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a>Raw response content:
<a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a>b&amp;#39;&amp;#39;
</code></pre></div>

</p>2023-12-05</li><br/><li><span>ä¸€é¢æ¹–æ°´</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p># åˆå§‹åŒ–ç¤ºä¾‹é€‰æ‹©å™¨example_selector = SemanticSimilarityExampleSelector.from_examples(    samples,    OpenAIEmbeddings(),    Chroma,    k=1)
è¿™é‡Œæ”¹æˆï¼šQdrantä¼šæŠ¥é”™å‘¢ï¼Ÿ</p>2023-10-13</li><br/><li><span>æ¨æ¾</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œæ–‡ä¸­ä»£ç ï¼š
# åˆ›å»ºä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨çš„FewShotPromptTemplateå¯¹è±¡
prompt = FewShotPromptTemplate(    
example_selector=example_selector,
 example_prompt=prompt_sample, 
 suffix=&quot;é²œèŠ±ç±»å‹: {flower_type}\nåœºåˆ: {occasion}&quot;, 
 input_variables=[&quot;flower_type&quot;, &quot;occasion&quot;])
print(prompt.format(flower_type=&quot;çº¢ç«ç‘°&quot;, occasion=&quot;çˆ±æƒ…&quot;))
çš„æ‰“å°ç»“æœä¸ºï¼š
é²œèŠ±ç±»å‹: ç«ç‘°
åœºåˆ: çˆ±æƒ…
æ–‡æ¡ˆ: ç«ç‘°ï¼Œæµªæ¼«çš„è±¡å¾ï¼Œæ˜¯ä½ å‘å¿ƒçˆ±çš„äººè¡¨è¾¾çˆ±æ„çš„æœ€ä½³é€‰æ‹©ã€‚

é²œèŠ±ç±»å‹: çº¢ç«ç‘°
åœºåˆ: çˆ±æƒ…
æˆ‘çš„é—®é¢˜æ˜¯ ç«ç‘°çš„é‚£ä¸ªæ–‡å­—æ˜¯example_selectorç”Ÿæˆçš„ï¼Œè¿˜æ˜¯example_promptç”Ÿæˆçš„ï¼Œæˆ–è€…æ˜¯ä¸¤è€…åŒäº‹ç”Ÿæˆåå»é‡äº†ï¼Ÿ</p>2023-10-10</li><br/><li><span>Yimmy</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>template=&quot;é²œèŠ±ç±»å‹: {flower_type}\nåœºåˆ: {occasion}\næ–‡æ¡ˆ: {ad_copy}&quot;)--è¿™é‡Œå¤šäº†æ‹¬å·)</p>2023-09-19</li><br/><li><span>é˜¿æ–¯è’‚èŠ¬</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>å‡è®¾åšä¸€ä¸ªå‚ç›´é¢†åŸŸçš„å¯¹è¯æœºå™¨äººï¼Œæ˜¯å¦å¯ä»¥å°†ç”¨æˆ·çš„queryé€šè¿‡ä¸€å®šçš„è½¬æ¢æ–¹å¼ï¼Œæ¯”å¦‚embeddingå»â€œåŒ¹é…â€ä¸€äº› Promptï¼Œä¸”å¢åŠ Few or One example çš„å‚è€ƒç¤ºä¾‹ï¼Œç›¸å½“äºå°†queryåŠ å·¥åï¼Œå½¢æˆæ›´åŠ â€œæŒ‡ä»¤åŒ–â€çš„è¯·æ±‚ï¼Œä¾¿äºè®©æ¨¡å‹å¾€æ›´æ¸…æ™°åœ°â€œç†è§£â€ç”¨æˆ·çš„è¯´æ³•ï¼Œå¹¶æŒ‰ç…§æ›´â€œæ­¥éª¤åŒ–â€çš„æ–¹å¼å»æ€è€ƒå¹¶ç»™å‡ºç­”æ¡ˆã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸Šç”¨æˆ·ä¸æ¨¡å‹çš„äº¤äº’ï¼Œä¸­é—´è¿˜æ˜¯éšè—äº†å¾ˆå¤šâ€œå·¥ç¨‹å¸ˆåŠ å·¥â€ç»†èŠ‚ï½

å¦å¤– ExampleSelector çš„æ„ä¹‰çœ‹èµ·æ¥æ˜¯å°† example çš„åŒ¹é…è¿›è¡Œé«˜å±‚æŠ½è±¡ï¼Œå±è”½ç»†èŠ‚ï¼Œåº”è¯¥é™¤äº† Embbdings æ–¹å¼ï¼Œè¿˜æœ‰å…¶ä»–ç§ç§è·å– example çš„æ–¹å¼ã€‚ä½¿ç”¨Selectorè¿˜æœ‰å¥½å¤„å°±æ˜¯å¯ä»¥é€šè¿‡examplesçš„ç˜¦èº«èŠ‚çœtokensã€‚</p>2023-09-17</li><br/><li><span>éª¨æ±¤é¸¡è›‹é¢</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>langchain çš„å¾ˆå¤šæç¤ºéƒ½æ˜¯é’ˆå¯¹chatgptçš„ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºï¼Œchatgptåœ¨è¿›è¡Œsftçš„æ—¶å€™ï¼Œæ•°æ®é›†å°±ç”¨ä¸Šäº†langchainå¾ˆå¤špromptçš„æªè¾æ–¹å¼ï¼Œæ‰€ä»¥chatgptå¯¹è¿™äº›promptçš„æ•ˆæœä¹Ÿå¾ˆå¥½ã€‚</p>2023-09-13</li><br/><li><span>yanyu-xin</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>ç”¨å›½äº§æ¨¡å‹æ”¹å†™ï¼š03_FewShotPrompt.py
ç”¨é˜¿é‡Œäº‘çš„é€šä¹‰åƒé—®æ¨¡å‹ æ”¹å†™  OpenAI æ¨¡å‹ã€‚
æ”¹å†™OpenAIEmbeddingsï¼Œç”±äºä½¿ç”¨é˜¿é‡Œäº‘embeddingsæ¨¡å‹ä»£ç å¤æ‚ï¼Œé‡‡ç”¨ç™¾å·æ™ºèƒ½çš„ BaichuanTextEmbeddings 
å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š
â€”â€”â€”â€”

# 1. åˆ›å»ºä¸€äº›ç¤ºä¾‹
&#39;&#39;&#39;  åŸä»£ç  &#39;&#39;&#39;

# 2. åˆ›å»ºä¸€ä¸ªæç¤ºæ¨¡æ¿
&#39;&#39;&#39;  åŸä»£ç  &#39;&#39;&#39;

# 3. åˆ›å»ºä¸€ä¸ªFewShotPromptTemplateå¯¹è±¡
&#39;&#39;&#39;  åŸä»£ç  &#39;&#39;&#39;

# 4. æŠŠæç¤ºä¼ é€’ç»™å¤§æ¨¡å‹
# import os
# os.environ[&quot;OPENAI_API_KEY&quot;] = &#39;ä½ çš„OpenAI API Key&#39;
# from langchain.llms import OpenAI  #ä¸é‡‡ç”¨OpenAI
# model = OpenAI(model_name=&#39;text-davinci-003&#39;)  

from langchain_openai import ChatOpenAI # å¯¼å…¥ChatOpenAIç±»
Model = ChatOpenAI(
    api_key= DASHSCOPE_API_KEY,  # è¯·åœ¨æ­¤å¤„ç”¨æ‚¨çš„é˜¿é‡Œäº‘API Keyè¿›è¡Œæ›¿æ¢
    base_url=&quot;https:&#47;&#47;dashscope.aliyuncs.com&#47;compatible-mode&#47;v1&quot;, # DashScope base_url
    model=&quot;qwen-plus&quot; # é˜¿é‡Œäº‘çš„æ¨¡å‹
    )
# result = model(prompt.format(flower_type=&quot;é‡ç«ç‘°&quot;, occasion=&quot;çˆ±æƒ…&quot;))
result = Model(prompt.format(flower_type=&quot;é‡ç«ç‘°&quot;, occasion=&quot;çˆ±æƒ…&quot;))
# print(result) 
print(result.content) # è¾“å‡ºç»“æœ contentå±æ€§

# 5. ä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨
from langchain.prompts.example_selector import SemanticSimilarityExampleSelector
from langchain.vectorstores import Qdrant
# from langchain.embeddings import OpenAIEmbeddings # ä¸é‡‡ç”¨OpenAI
from langchain_community.embeddings import BaichuanTextEmbeddings # å¯¼å…¥ç™¾å·æ™ºèƒ½åµŒå…¥æ¨¡å‹

# åˆå§‹åŒ–ç™¾å·æ™ºèƒ½åµŒå…¥æ¨¡å‹
embeddings = BaichuanTextEmbeddings(baichuan_api_key=  BAICHUAN_API_KEY)  # è¯·åœ¨æ­¤å¤„ç”¨æ‚¨çš„ç™¾å· API Keyè¿›è¡Œæ›¿æ¢

# åˆå§‹åŒ–ç¤ºä¾‹é€‰æ‹©å™¨
example_selector = SemanticSimilarityExampleSelector.from_examples(
    samples,
#  OpenAIEmbeddings(),  # ä¸é‡‡ç”¨OpenAI
    embeddings, # ä½¿ç”¨ç™¾å·æ™ºèƒ½åµŒå…¥æ¨¡å‹ä»£æ›¿OpenAIEmbeddings
    Qdrant,
    k=1
)

# åˆ›å»ºä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹é€‰æ‹©å™¨çš„FewShotPromptTemplateå¯¹è±¡
&#39;&#39;&#39;  åŸä»£ç  &#39;&#39;&#39;</p>2024-07-15</li><br/><li><span>å¼ ç”³å‚²</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>ç¬¬4è®²æ‰“å¡~
åœ¨LLMåº”ç”¨ä¸­ï¼Œé™¤äº†å‡†ç¡®æ€§å’Œæ€§èƒ½ï¼Œæˆæœ¬ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„è¯„ä»·æŒ‡æ ‡ï¼ŒSemanticSimilarityExampleSelectorå¯ä»¥é€šè¿‡æ¯”è¾ƒä½™å¼¦ç›¸ä¼¼åº¦ï¼Œä»æ‰€æœ‰ç¤ºä¾‹ä¸­é€‰å–å‡ºäºç›®æ ‡é—®é¢˜è¯­ä¹‰ä¸Šæœ€ç›¸è¿‘çš„kæ¡ç¤ºä¾‹ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯ä»¥èŠ‚çœtokençš„æ¶ˆè€—ï¼Œé™ä½æˆæœ¬</p>2024-07-12</li><br/>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../03-%E6%A8%A1%E5%9E%8BI-O%EF%BC%9A%E8%BE%93%E5%85%A5%E6%8F%90%E7%A4%BA%E3%80%81%E8%B0%83%E7%94%A8%E6%A8%A1%E5%9E%8B%E3%80%81%E8%A7%A3%E6%9E%90%E8%BE%93%E5%87%BA/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 03 æ¨¡å‹I Oï¼šè¾“å…¥æç¤ºã€è°ƒç”¨æ¨¡å‹ã€è§£æè¾“å‡º">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                03 æ¨¡å‹I Oï¼šè¾“å…¥æç¤ºã€è°ƒç”¨æ¨¡å‹ã€è§£æè¾“å‡º
              </div>
            </div>
          </a>
        
        
          
          <a href="../05-%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E7%94%A8%E6%80%9D%E7%BB%B4%E9%93%BE%E5%92%8C%E6%80%9D%E7%BB%B4%E6%A0%91%E6%8F%90%E5%8D%87%E6%A8%A1%E5%9E%8B%E6%80%9D%E8%80%83%E8%B4%A8%E9%87%8F/" class="md-footer__link md-footer__link--next" aria-label="Next: 05 æç¤ºå·¥ç¨‹ï¼ˆä¸‹ï¼‰ï¼šç”¨æ€ç»´é“¾å’Œæ€ç»´æ ‘æå‡æ¨¡å‹æ€è€ƒè´¨é‡">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                05 æç¤ºå·¥ç¨‹ï¼ˆä¸‹ï¼‰ï¼šç”¨æ€ç»´é“¾å’Œæ€ç»´æ ‘æå‡æ¨¡å‹æ€è€ƒè´¨é‡
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Â© 2025-Present zkep
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "content.tooltips", "toc.follow", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "navigation.footer", "navigation.tracking", "navigation.instant", "navigation.instant.progress", "navigation.indexes", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="../../../javascript/extra.js"></script>
      
        <script src="../../../javascript/giscus.js"></script>
      
    
  </body>
</html>