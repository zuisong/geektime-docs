ä½ å¥½ï¼Œæˆ‘æ˜¯Barryã€‚

åœ¨ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å®ç°äº†æ•°æ®åº“è¡¨çš„åˆ›å»ºï¼Œä¹Ÿå®ç°äº†é¡¹ç›®å’Œæ•°æ®åº“çš„è”åŠ¨ï¼Œè¿™å°±ç›¸å½“äºæ¶è®¾å¥½äº†é¡¹ç›®å’Œæ•°æ®åº“çš„æ¡¥æ¢ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å‰é¢éƒ½åšçš„éƒ½æ˜¯å•ç‚¹åŠŸèƒ½çš„å®è·µã€‚

ä¸ºäº†è®©ä½ åŠ æ·±ç†è§£ï¼Œä»Šåè½»æ¾åº”ç”¨æ•°æ®åº“æ¥å®Œæˆé¡¹ç›®çš„æ•°æ®ç®¡ç†å’Œä¸šåŠ¡å¤„ç†ï¼Œæ¥ä¸‹æ¥çš„ä¸¤èŠ‚è¯¾æˆ‘ä¼šå¸¦ä½ å®Œæˆæ•°æ®åº“é…ç½®ï¼Œå¹¶ç»“åˆé¡¹ç›®ç»¼åˆåº”ç”¨æ•°æ®åº“ã€‚

åœ¨å­¦ä¹ æ•°æ®åº“é…ç½®å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ¥äº†è§£ä¸€ä¸‹é¡¹ç›®å±‚çº§å…³ç³»ã€‚åªæœ‰æ˜ç¡®é¡¹ç›®çš„å±‚çº§å…³ç³»ï¼Œæ•°æ®åº“é…ç½®çš„è„‰ç»œæ‰ä¼šæ›´åŠ æ¸…æ™°ï¼Œä¹Ÿèƒ½ä¸ºæˆ‘ä»¬ä¹‹åçš„é¡¹ç›®å®æˆ˜åšå¥½é“ºå«ã€‚

## é¡¹ç›®å±‚çº§æ¡†æ¶

æˆ‘ä»¬å…ˆä»é¡¹ç›®å±‚çº§æ¡†æ¶å¼€å§‹è¯´èµ·ã€‚Flask é¡¹ç›®é€šå¸¸åˆ†ä¸ºä¸‰å±‚ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥çœ‹çœ‹ã€‚

- ç¬¬ä¸€å±‚æ˜¯**å‰ç«¯å±•ç¤ºå±‚**ï¼ŒåŒ…æ‹¬ HTMLã€CSSã€JS ç­‰æ–‡ä»¶ï¼Œç”¨äºå±•ç¤ºç”¨æˆ·ç•Œé¢å’Œä¸ç”¨æˆ·äº¤äº’ã€‚è¿™ä¹Ÿæ˜¯ç›´æ¥ä¸ç”¨æˆ·æ¥è§¦çš„å†…å®¹ã€‚
- ç¬¬äºŒå±‚æ˜¯**åç«¯ä¸šåŠ¡é€»è¾‘å±‚**ï¼Œç”¨æ¥è·å–æ•°æ®åº“çš„æ•°æ®å¹¶è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œæœ€åæŠŠå¤„ç†å¥½çš„æ•°æ®äº¤ç»™å‰ç«¯å»æ¸²æŸ“å±•ç¤ºã€‚è¿™å±‚é€šå¸¸ä¼šæ¶‰åŠåˆ° ORM å¯¹è±¡å…³ç³»æ˜ å°„å±‚ï¼Œç”¨æ¥å’Œæ•°æ®åº“äº¤äº’ã€‚
- ç¬¬ä¸‰å±‚å°±æ˜¯**æ•°æ®åº“å±‚**ï¼Œä½œç”¨æ˜¯å­˜å‚¨å’Œç®¡ç†æ•°æ®ï¼Œé€šå¸¸ä¼šç”¨åˆ°MySQLè¿™æ ·çš„å…³ç³»å‹æ•°æ®åº“ã€‚

å½“ç„¶ï¼Œä½ ä¹Ÿè¦æ˜ç¡®ä¸€ä¸ª Flask é¡¹ç›®å¹¶ä¸æ˜¯éƒ½éœ€è¦åˆ†ä¸ºä¸‰å±‚ã€‚å…·ä½“çš„å±‚çº§åˆ†å¸ƒå–å†³äºé¡¹ç›®çš„å¤æ‚åº¦å’Œéœ€æ±‚ã€‚æœ‰äº›é¡¹ç›®å¯èƒ½åªéœ€è¦ä¸€ä¸ªç®€å•çš„å±•ç¤ºå±‚å’Œä¸šåŠ¡é€»è¾‘å±‚ï¼Œè€Œæœ‰äº›é¡¹ç›®å¯èƒ½éœ€è¦æ›´å¤šçš„å±‚æ¬¡ï¼Œæ‰èƒ½æ”¯æŒæ›´å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®ç®¡ç†ã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ17ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1a/0e/df/a64b3146.jpg" width="30px"><span>é•¿æ—å•Š</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œç”Ÿäº§ç¯å¢ƒçš„æ•°æ®åº“è‚¯å®šæ˜¯ç‹¬ç«‹çš„ï¼Œå¼€å‘å’Œæµ‹è¯•å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“ï¼›åœ¨å¼€å‘å’Œæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œä¼šæ·»åŠ å¾ˆå¤šæµ‹è¯•æ•°æ®ï¼Œå¯¹äºç”Ÿäº§ç¯å¢ƒè€Œè¨€ï¼Œè¿™éƒ¨åˆ†æ˜¯è„æ•°æ®ä¸”æ²¡æœ‰ä»»ä½•å®é™…æ„ä¹‰</div>2023-06-20</li><br/><li><img src="" width="30px"><span>Geek_7e5830</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å¥½åƒpython3.8ä»¥ä¸Šä¼šæŠ¥  from flask_sqlalchemy import SQLAlchemy
  File &quot;C:\PythonEnv\VideoPlateform\.venv\Lib\site-packages\flask_sqlalchemy\__init__.py&quot;, line 39, in &lt;module&gt;
    _timer = time.clock
             ^^^^^^^^^^
AttributeError: module &#39;time&#39; has no attribute &#39;clock&#39;é”™è¯¯ã€‚ Python 3.8 ç‰ˆæœ¬ä¸­ç§»é™¤äº† time æ¨¡å—ä¸­çš„ time.clock() æ–¹æ³•ã€‚</div>2024-05-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/31/48/e7/958b7e6c.jpg" width="30px"><span>é«˜å¹¶å‘</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>è€å¸ˆéƒ½æ­£å¸¸æ‰§è¡Œäº†, ä½†æ˜¯æ‰§è¡Œå®Œæˆdb.create_all()ä¹‹å, æ•°æ®åº“ä¸­ä¸ºä»€ä¹ˆæ²¡æœ‰è¡¨</div>2024-01-17</li><br/><li><img src="" width="30px"><span>Geek_d26f93</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>   raise RuntimeError(
RuntimeError: Either &#39;SQLALCHEMY_DATABASE_URI&#39; or &#39;SQLALCHEMY_BINDS&#39; must be set.è¿™ä¸ªé”™è¯¯æ€ä¹ˆåŠ
</div>2024-01-14</li><br/><li><img src="" width="30px"><span>Geek_d26f93</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>Traceback (most recent call last):
  File &quot;D:\environment\Python\Miniconda3\envs\venv2\lib\site-packages\flask\cli.py&quot;, line 219, in locate_app
    __import__(module_name)
  File &quot;D:\environment\Python\pythonProject\First_Flask\app.py&quot;, line 2, in &lt;module&gt;
    from flask_script import Manager
  File &quot;D:\environment\Python\Miniconda3\envs\venv2\lib\site-packages\flask_script\__init__.py&quot;, line 15, in &lt;module&gt;
    from flask._compat import text_type
ModuleNotFoundError: No module named &#39;flask._compat&#39; è¯·é—®æˆ‘ä»£ç é—æ¼äº†å“ªéƒ¨åˆ†ä¼šå‡ºç°è¿™ä¸ªé”™è¯¯
</div>2024-01-13</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELrxUK36wj3AesBNLK4tPibu7URiaI48cMWho2t8bfZOyfYDnQwQu2TTXibIbGVZ8DkPhNXDGr7VTfOJv1R1ccw1KBv5qfbq1bYvDhL1MtAVjISA/132" width="30px"><span>Aegean Sea</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>(venv2) PS D:\environment\Python\pythonProject\First_Flask&gt; flask db init
Error: While importing &#39;app&#39;, an ImportError was raised:

Traceback (most recent call last):
  File &quot;D:\environment\Python\Miniconda3\envs\venv2\lib\site-packages\flask\cli.py&quot;, line 219, in locate_app
    __import__(module_name)
  File &quot;D:\environment\Python\pythonProject\First_Flask\app.py&quot;, line 2, in &lt;module&gt;
    from flask_script import Manager
  File &quot;D:\environment\Python\Miniconda3\envs\venv2\lib\site-packages\flask_script\__init__.py&quot;, line 15, in &lt;module&gt;
    from flask._compat import text_type
ModuleNotFoundError: No module named &#39;flask._compat&#39;


Usage: flask [OPTIONS] COMMAND [ARGS]...
Try &#39;flask --help&#39; for help.

Error: No such command &#39;db&#39;.
è€å¸ˆæ±‚è§£ï¼Œè¯•äº†å¾ˆå¤šæ–¹æ³•éƒ½è¡Œä¸é€š</div>2023-10-28</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELrxUK36wj3AesBNLK4tPibu7URiaI48cMWho2t8bfZOyfYDnQwQu2TTXibIbGVZ8DkPhNXDGr7VTfOJv1R1ccw1KBv5qfbq1bYvDhL1MtAVjISA/132" width="30px"><span>Aegean Sea</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ModuleNotFoundError: No module named &#39;flask._compat&#39;
Usage: flask [OPTIONS] COMMAND [ARGS]...
Try &#39;flask --help&#39; for help.

Error: No such command &#39;db&#39;.
è€å¸ˆæ±‚è§£ã€‚è¯•äº†å¾ˆå¤šæ–¹æ³•è¡Œä¸é€š
</div>2023-10-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/f3/02/cbad4037.jpg" width="30px"><span>Geek_00c9c4</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä½ å¥½ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨çš„æ¯ä¸ªåŒ…çš„ç‰ˆæœ¬æ˜¯å¤šå°‘å‘€ï¼ˆèƒ½å¦å‘ä¸€ä¸‹ä½ ç”¨çš„ç‰ˆæœ¬ï¼‰ï¼Ÿæ‰§è¡Œflask db init ï¼ŒæŠ¥è¿™ä¸ªé”™è¯¯ï¼Œ
Traceback (most recent call last):
  File &quot;&#47;Users&#47;kevin&#47;.pyenv&#47;versions&#47;3.12.0&#47;bin&#47;flask&quot;, line 5, in &lt;module&gt;
    from flask.cli import main
  File &quot;&#47;Users&#47;kevin&#47;.pyenv&#47;versions&#47;3.12.0&#47;lib&#47;python3.12&#47;site-packages&#47;flask&#47;__init__.py&quot;, line 19, in &lt;module&gt;
    from jinja2 import Markup, escape
ImportError: cannot import name &#39;Markup&#39; from &#39;jinja2&#39; (&#47;Users&#47;kevin&#47;.pyenv&#47;versions&#47;3.12.0&#47;lib&#47;python3.12&#47;site-packages&#47;jinja2&#47;__init__.py)</div>2023-10-19</li><br/><li><img src="" width="30px"><span>Geek_5cb928</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>åœ¨æ‰§è¡Œflask shellåé¢çš„dbç›¸å…³å‘½ä»¤æ—¶æŠ¥é”™ï¼Œname &#39;db&#39; is not defined
å‘ç°é€ æˆçš„åŸå› æ˜¯æ•™ç¨‹é‡Œé¢ç”¨åˆ°çš„pycharmä¼šè‡ªåŠ¨é…ç½®contextï¼Œç”¨vscodeæ‰€ä»¥é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ã€‚
ä¿®å¤å¦‚ä¸‹
åœ¨app.py ï¼ˆmanager.pyï¼‰ä¸‹é¢å®šä¹‰context
@app.shell_context_processor
def make_shell_context():
    return {&#39;db&#39;: db}
ä¾›å¤§å®¶å‚è€ƒ</div>2023-08-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/ae/f5/a17bbcc9.jpg" width="30px"><span>èœ¡ç¬”å°æ–°çˆ±çœ‹ä¹¦</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>db.Columnï¼Œè¾“å…¥.pycharmå¸¦ä¸å‡ºæ¥Columnçš„æç¤ºï¼Œæ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ</div>2023-08-17</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJQYnrTXgWggD3KV8scrKpdupicFibhFzIAenfrBHaMwxibksHzFVaJU3VPTsmiaXfXWZ84FIQYbjCZA/132" width="30px"><span>Geek_7cc417</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æˆ‘æƒ³é—®ä¸€ä¸‹è€å¸ˆï¼Œåœ¨æœ¬æ¬¡é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æ•°æ®åº“è®¾è®¡åªæœ‰ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯è¡¨å°±å¤Ÿäº†å—ï¼Ÿæˆ‘æƒ³å­¦ä¹ ä¸€ä¸‹æ•°æ®åº“æ€ä¹ˆè®¾è®¡çš„ï¼Œæ¥ä¿®æ”¹å¢åŠ å»åšä¸ªæ¯•ä¸šè®¾è®¡ä¸çŸ¥é“èƒ½ä¸èƒ½è¡Œ</div>2023-07-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/69/cc/747c7629.jpg" width="30px"><span>ğŸŒ€Pick Monster ğŸŒ€</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>flask db init
æŠ¥é”™Error: No such command &#39;db&#39;.
æç¤ºåœ¨api __init__ä¸­æ²¡æœ‰dbï¼Œè¿™ä¸ªä¸ºä»€ä¹ˆ</div>2023-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/1d/3a/cdf9c55f.jpg" width="30px"><span>æœªæ¥å·²æ¥</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>ä¸çŸ¥é“ä¸ºå•¥ï¼Œæ‰§è¡Œå®Œ `flask shellï½€ åŠ ï½€db.create_all()ï½€ä¹‹åï¼Œæ²¡æœ‰æ­£å¸¸å»ºè¡¨</div>2023-06-29</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI7Bm7xdbwqoWPaDwqn6WESYL5QY8X8r3Q1P7UEIeDWictxJWEIJLluhIDHF7b0wFpbiav3gYToBBYg/132" width="30px"><span>Geek_840593</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>è€å¸ˆï¼šapp.pyè¿™é‡Œä¸æ˜¯æœ‰æ®µä»£ç åˆ›å»ºæ•°æ®åº“è¡¨
ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
def create_db():
    db.create_all()
if __name__ == &#39;__main__&#39;:
    manager.run()
ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜æ˜¯è¦æ‰‹åŠ¨åœ¨Terminalè¾“å…¥ä¸€æ¬¡ï¼š
flask shell
db.create_all()</div>2023-06-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>Q1ï¼šå‰ç¼€fæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
SQLALCHEMY_DATABASE_URI = f&quot;mysql+pymysql:&#47;&#47;{SQL_USERNAME}:{SQL_PASSWORD}@{SQL_HOST}:{SQL_PORT}&#47;{SQL_DB}&quot;ï¼Œ å­—ç¬¦ä¸²å‰é¢çš„å‰ç¼€fè¡¨ç¤ºä»€ä¹ˆï¼Ÿ
Q2ï¼špassæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
# å¼€å‘ç¯å¢ƒçš„configclass DevConfig(Config):    pass
å‡½æ•°ä½“çš„passæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿçœç•¥å—ï¼Ÿ</div>2023-06-15</li><br/><li><img src="" width="30px"><span>é—»é“</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>é‡åˆ°æ˜¯è¿™ä¸ªæŠ¥é”™ModuleNotFoundError: No module named &#39;flask._compat&#39;ï¼Œçœ‹ç€æ˜¯Flaskç‰ˆæœ¬é—®é¢˜ï¼Œé€šè¿‡è¿™é‡Œé¢çš„æ–¹æ³•è§£å†³https:&#47;&#47;stackoverflow.com&#47;questions&#47;67538056&#47;flask-script-from-flask-compat-import-text-type-modulenotfounderror-no-module
</div>2023-07-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/f3/02/cbad4037.jpg" width="30px"><span>Geek_00c9c4</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ç›®å‰å­¦ä¹ åˆ°è¿™å„¿ä½¿ç”¨çš„package version
Package           Version
----------------- -------
alembic           1.12.0
blinker           1.6.3
click             7.1.2
Flask             1.1.4
Flask-Migrate     4.0.5
Flask-Script      2.0.6
Flask-SQLAlchemy  2.2
itsdangerous      1.1.0
Jinja2            2.11.3
Mako              1.2.4
MarkupSafe        2.0.1
pip               23.2.1
setuptools        68.2.2
SQLAlchemy        1.3.0
typing_extensions 4.8.0
Werkzeug          1.0.1</div>2023-10-19</li><br/>
</ul>