ä¸ŠèŠ‚è¯¾æˆ‘ä»¬è®²è§£äº†SQL92æ ‡å‡†ï¼Œåœ¨å®ƒä¹‹ååˆæå‡ºäº†SQL99æ ‡å‡†ã€‚ç°åœ¨å„å¤§DBMSä¸­å¯¹SQL99æ ‡å‡†çš„æ”¯æŒåº¦æ›´å¥½ã€‚ä½ ä¸€å®šå¬è¯´è¿‡LEFT JOINã€RIGHT JOINè¿™æ ·çš„æ“ä½œç¬¦ï¼Œè¿™å®é™…ä¸Šå°±æ˜¯SQL99çš„æ ‡å‡†ï¼Œåœ¨SQL92ä¸­å®ƒä»¬æ˜¯ç”¨ï¼ˆ+ï¼‰ä»£æ›¿çš„ã€‚SQL92å’ŒSQL99æ ‡å‡†åŸç†ç±»ä¼¼ï¼Œåªæ˜¯SQL99æ ‡å‡†çš„å¯è¯»æ€§æ›´å¼ºã€‚

ä»Šå¤©æˆ‘å°±æ¥è®²è§£ä¸€ä¸‹SQL99æ ‡å‡†ä¸­çš„è¿æ¥æŸ¥è¯¢ï¼Œåœ¨ä»Šå¤©çš„è¯¾ç¨‹ä¸­ä½ éœ€è¦é‡ç‚¹æŒæ¡ä»¥ä¸‹å‡ æ–¹é¢çš„å†…å®¹ï¼š

1. SQL99æ ‡å‡†ä¸‹çš„è¿æ¥æŸ¥è¯¢æ˜¯å¦‚ä½•æ“ä½œçš„ï¼Ÿ
2. SQL99ä¸SQL92çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
3. åœ¨ä¸åŒçš„DBMSä¸­ï¼Œä½¿ç”¨è¿æ¥éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ

## SQL99æ ‡å‡†ä¸­çš„è¿æ¥æŸ¥è¯¢

ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç”¨NBAçƒå‘˜çš„æ•°æ®è¡¨è¿›è¡Œäº†ä¸¾ä¾‹ï¼ŒåŒ…æ‹¬äº†ä¸‰å¼ æ•°æ®è¡¨playerã€teamå’Œheight\_gradesã€‚

å…¶ä¸­playerè¡¨ä¸ºçƒå‘˜è¡¨ï¼Œä¸€å…±æœ‰37ä¸ªçƒå‘˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://static001.geekbang.org/resource/image/ee/99/ee9b554ecbc296e1a5865b52d4bb3c99.png?wh=896%2A401)  
teamè¡¨ä¸ºçƒé˜Ÿè¡¨ï¼Œä¸€å…±æœ‰3æ”¯çƒé˜Ÿï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://static001.geekbang.org/resource/image/aa/75/aa73203c43672b6d3be44748b1556075.png?wh=836%2A239)  
height\_gradesè¡¨ä¸ºèº«é«˜ç­‰çº§è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://static001.geekbang.org/resource/image/4b/37/4b5b2c666705364b793329b728a1ed37.png?wh=870%2A298)  
æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹åœ¨SQL99æ ‡å‡†ä¸­ï¼Œæ˜¯å¦‚ä½•è¿›è¡Œè¿æ¥æŸ¥è¯¢çš„ï¼Ÿ

### äº¤å‰è¿æ¥

äº¤å‰è¿æ¥å®é™…ä¸Šå°±æ˜¯SQL92ä¸­çš„ç¬›å¡å°”ä¹˜ç§¯ï¼Œåªæ˜¯è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯CROSS JOINã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢è¿™è¡Œä»£ç å¾—åˆ°playerå’Œteamè¿™ä¸¤å¼ è¡¨çš„ç¬›å¡å°”ç§¯çš„ç»“æœï¼š
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ30ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" width="30px"><span>å¥•</span> ğŸ‘ï¼ˆ67ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<div>æ‰€æœ‰çš„è¿æ¥ç±»å‹ï¼Œæ˜¯ä¸æ˜¯éƒ½å…ˆå¯¹è¿æ¥çš„è¡¨åšç¬›å¡å°”ï¼Œç„¶ååœ¨æ ¹æ®æ¡ä»¶è¿›è¡Œæ•°æ®ç­›é€‰çš„ï¼Ÿ

å¯¹äºä¸Šä¸€ä¸ªé—®é¢˜ï¼Œå¯èƒ½æ²¡æœ‰è¡¨è¾¾æ¸…æ¥šï¼Œæˆ‘æƒ³é—®çš„æ˜¯ï¼Œå„ç§è¿æ¥çš„å†…éƒ¨æ‰§è¡Œæ­¥éª¤ï¼Œæ¯”å¦‚å…ˆæ ¹æ®è¿æ¥ç”Ÿæˆä¸­é—´è¡¨æ•°æ®ï¼Œç„¶ååœ¨è¿æ¥ç±»å‹ï¼Œon,whereè¿›è¡Œæ•°æ®ç­›é€‰å¾—åˆ°æ•°æ®çš„æ­¥éª¤</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/90/4e/efaea936.jpg" width="30px"><span>å¢¨ç¦¾</span> ğŸ‘ï¼ˆ36ï¼‰ ğŸ’¬ï¼ˆ5ï¼‰<div>    è·Ÿè¸ªåˆ°ç¬¬å››ä¸ªæ˜ŸæœŸçš„ä¸“æ å­¦ä¹ ï¼Œè¿™é‡Œå¯¹å‰é¢çš„çŸ¥è¯†ç‚¹åšä¸ªé˜¶æ®µæ€§çš„æ€»ç»“ã€‚é¦–å…ˆæˆ‘è‡ªå·±æ˜¯ä¸ªç”¨è¿‡mssqlã€mysqlåšè¿‡é¡¹ç›®å¼€å‘çš„äººï¼Œæ‰€ä»¥æˆ‘å­¦ä¹ è¿™å‡ èŠ‚è¯¾çš„ä¸“æ æ¯”è¾ƒè½»æ¾ï¼Œé™¤äº†å¯¹è¿‡å»çš„é¡¹ç›®åšä¸ªå¤ç›˜æé†’ä¹‹å¤–ï¼Œè¿˜æœ‰äº›æ–°çš„æ”¶è·â€”â€”ä»çºµå‘å¹¿åº¦ã€æ¨ªå‘æ·±åº¦äº†è§£sqlè¯­è¨€çš„ç‰¹ç‚¹ã€‚
-----------------------------------------------------------------------------------------------------
1ã€çºµå‘å¹¿åº¦
å‡ ä¹æ¯èŠ‚ä¸“æ éƒ½ä¼šå¯¹ mysql å’Œ oracle çš„çŸ¥è¯†ç‚¹åšå¯¹æ¯”ï¼Œè®©æˆ‘ä»ä¸åŒä¹‹ä¸­å¯»æ‰¾ç»ƒä¹ ï¼Œè¿ç§»é»˜åŒ–ä¹‹ä¸­åŠ å¼ºçŸ¥è¯†è¿ç§»çš„èƒ½åŠ›ï¼Œè®©æˆ‘åœ¨æŠ€æœ¯ä¸æ–­è¿­ä»£æ›´æ–°çš„æ—¶ä»£å‡å°‘ä¸€äº›ç„¦è™‘æ„Ÿã€‚
-------------------------------------------------------------------------------------------------------
2ã€æ¨ªå‘æ·±åº¦
-- ç†Ÿæ‚‰äº†æ›´å¤šçš„ä¸“ä¸šæœ¯è¯­ï¼ˆå¦‚DMLã€DDLã€DQLã€TCLã€SQL92ã€SQL99ï¼‰ï¼šä¹‹å‰åœ¨å®æ“çš„æ—¶å€™ï¼Œåªç®¡ç”¨ï¼Œè€Œä¸ç®¡çŸ¥è¯†å±äºå“ªä¸ªä½“ç³»ï¼Œè¿™æ ·çš„æ–¹æ³•æœ‰äº›ç²—æš´è€Œä½æ•ˆï¼Œå› ä¸ºæœ‰æ—¶å€™å‡ºé”™çš„æ—¶å€™ï¼Œåœ¨ä¸ç†è§£çŸ¥è¯†æ•´ä½“ç»“æ„å’Œä¸“ä¸šæœ¯è¯­çš„æƒ…å†µä¸‹ï¼Œéš¾ä»¥å®šä½å…·ä½“çš„å‡ºé”™ç‚¹ï¼Œä¹Ÿå°±éš¾ä»¥æ£€ç´¢åˆ°å¯¹åº”çš„è§£å†³åŠæ³•ã€‚

-- ç†æ¸…æ¥šmysqlçš„çŸ¥è¯†è„‰ç»œç»“æ„ï¼Œå­¦ä¹ ä¸€ç§æ€ç»´æ¨¡å¼ï¼šæ¯ä¸€èŠ‚ä¸“æ éƒ½æœ‰å¯¹åº”çš„æ€ç»´å¯¼å›¾ï¼Œçœ‹å®Œæ–‡å­—å¬å®Œè¯­éŸ³ï¼ŒæŒæ¡äº†çŸ¥è¯†è¦ç‚¹åï¼Œå¯èƒ½å¿½ç•¥äº†çŸ¥è¯†ä¹‹é—´çš„è”ç³»ï¼Œæ€ç»´å¯¼å›¾å¯ä»¥å¾ˆæ¸…æ™°åœ°å±•ç°çŸ¥è¯†ä¹‹é—´çš„è”ç³»ã€‚å…¶å®çœ‹è€å¸ˆçš„ä¸“æ çš„ç»“æ„ç»„ç»‡ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§å­¦ä¹ ã€æ€ç»´æ¨¡å¼ã€‘ï¼Œè®©æˆ‘é€æ¸åœ°è½¬å˜å­¦ç”Ÿæ€ç»´ï¼Œä¸€å¹´åï¼Œä»¥æ›´ä¸ºä¼˜ç§€çš„å§¿æ€èµ°å‘ç¤¾ä¼šã€‚

-- æ‘†æ­£å¿ƒæ€ï¼šå¤§æ­¥è¿ˆè¿›ï¼Œå°æ­¥è¿­ä»£ã€‚çœ‹åˆ°çŸ¥è¯†ç‚¹éƒ½æ˜¯è‡ªå·±å­¦è¿‡çš„ï¼Œæœ‰æ—¶å€™ä¼šè§‰å¾—æœ‰äº›äºã€‚ ä½†åè¿‡æ¥æƒ³ï¼Œè€å¸ˆè¿™ä¹ˆå‰å®³çš„äººï¼Œå°šä¸”ä¸æˆ‘ä»¬ä¸€èµ·å­¦ä¹ åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘æœ‰ä»€ä¹ˆç†ç”±å¥½é«˜éª›è¿œï¼Ÿ æ‰€ä»¥æˆ‘è¦åšåˆ°æ¯èŠ‚è¯¾ä¸è½åœ°è®¤çœŸåšç¬”è®°ï¼Œæœ€é‡è¦çš„è¿˜æ˜¯è¦å¤šå®è·µï¼Œå®è·µæ–¹èƒ½å‡ºçœŸçŸ¥ã€‚</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg" width="30px"><span>mickey</span> ğŸ‘ï¼ˆ30ï¼‰ ğŸ’¬ï¼ˆ7ï¼‰<div># ç¼–å†™ SQL æŸ¥è¯¢è¯­å¥ï¼ŒæŸ¥è¯¢ä¸åŒèº«é«˜çº§åˆ«ï¼ˆå¯¹åº” height_grades è¡¨ï¼‰å¯¹åº”çš„çƒå‘˜æ•°é‡ï¼ˆå¯¹åº” player è¡¨ï¼‰
SELECT h.height_level AS &#39;èº«é«˜çº§åˆ«&#39;, COUNT(player_id) AS &#39;çƒå‘˜æ•°é‡&#39;
FROM height_grades as h LEFT JOIN player as p ON height BETWEEN h.height_lowest AND h.height_highest 
GROUP BY height_level;

èº«é«˜çº§åˆ«    çƒå‘˜æ•°é‡
---------------------------
A	18
B	14
C	5
D	0</div>2019-07-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/7a/d9/4feb4006.jpg" width="30px"><span>lmingzhi</span> ğŸ‘ï¼ˆ15ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>&quot;éœ€è¦æ³¨æ„çš„æ˜¯ MySQL ä¸æ”¯æŒå…¨å¤–è¿æ¥ï¼Œå¦åˆ™çš„è¯å…¨å¤–è¿æ¥ä¼šè¿”å›å·¦è¡¨å’Œå³è¡¨ä¸­çš„æ‰€æœ‰è¡Œã€‚å½“è¡¨ä¹‹é—´æœ‰åŒ¹é…çš„è¡Œï¼Œä¼šæ˜¾ç¤ºå†…è¿æ¥çš„ç»“æœã€‚å½“æŸè¡Œåœ¨å¦ä¸€ä¸ªè¡¨ä¸­æ²¡æœ‰åŒ¹é…æ—¶ï¼Œé‚£ä¹ˆä¼šæŠŠå¦ä¸€ä¸ªè¡¨ä¸­é€‰æ‹©çš„åˆ—æ˜¾ç¤ºä¸ºç©ºå€¼ã€‚&quot;

è¯·é—®ä¸€ä¸‹ï¼Œè¿™é‡Œçš„å¦åˆ™ï¼ŒæŒ‡çš„æ˜¯æ”¯æŒå…¨å¤–è¿æ¥çš„æ•°æ®åº“å—ï¼Ÿ</div>2019-07-05</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epdVawX0B67QUvLhyBAF3criaeVIibGE4E6610KQPbrwZRianEnynlewdhib8JS8zpn8seMULzho6o9gw/132" width="30px"><span>Geek_635558</span> ğŸ‘ï¼ˆ15ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç»“æœç›¸åŒå¯ä»¥æœ‰Nç§å†™æ³•ï¼Œå…¶å®å¾ˆå¤šæ—¶å€™æ›´åº”è¯¥å…³æ³¨æŸ¥è¯¢çš„æ•ˆç‡å¦‚ä½•ã€‚å¸Œæœ›å¯ä»¥è¯¦è§£</div>2019-07-05</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/E3XKbwTv6WTssolgqZjZCkiazHgl2IdBYfwVfAcB7Ff3krsIQeBIBFQLQE1Kw91LFbl3lic2EzgdfNiciaYDlJlELA/132" width="30px"><span>rike</span> ğŸ‘ï¼ˆ9ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>æˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œåœ¨ä¾‹å­ä¸Šå†™çš„å¾ˆå¤šsqlè¿æ¥æŸ¥è¯¢æ—¶ï¼Œåªæœ‰join...onå…³é”®å­—ï¼Œä½†æ˜¯æ²¡æœ‰å…¶ä»–çš„ï¼Œä½†æ˜¯è¿™ç§join...onå’Œleft join...onçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</div>2019-09-01</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/3hZfficKPGCq2kjFBu9SgaMjibJTEl7iaW1ta6pZNyiaWP8XEsNpunlnsiaOtBpWTXfT5BvRP3qNByml6p9rtBvqewg/132" width="30px"><span>å¤œè·¯ç ´æ™“</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å»ºè®®å¤šè¡¨è¿æ¥ä½¿ç”¨SQL99æ ‡å‡†.å¥½äº†æœ¬ç« ç»“æŸ,ç»§ç»­!</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/33/3b/60c30775.jpg" width="30px"><span>Oliver</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆå¥½ï¼Œé—®ä¸ªé—®é¢˜ï¼Œåœ¨ä¸€å¯¹å¤šçš„å…³ç³»ä¸­ï¼Œæ€ä¹ˆå†™sqlè¯­å¥ï¼Ÿåˆå­¦è€…ä¸€æš</div>2019-07-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/99/ee/5204b281.jpg" width="30px"><span>Krison</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æˆ‘SQLå¾ˆå·®ï¼Œä¹‹å‰è®¢äº†è¯¾ç¨‹ä¸€ç›´æ²¡æ—¶é—´å­¦ã€‚ä»Šå¤©æ¡èµ·æ¥ã€‚è¿™ä¸ªsqlæƒ³äº†å¾ˆä¹…ï¼Œæ€»ç®—æ˜¯æƒ³å‡ºæ¥äº†ã€‚åŠ æ²¹!
SELECT
	CONCAT( &#39;èº«é«˜çº§åˆ«&#39;, &#39; - &#39;, b.height_level ),
	CONCAT( &#39;çƒå‘˜æ•°é‡&#39;, &#39; - &#39;, count( b.height_level ) ) 
FROM
	`player` AS a
	LEFT JOIN height_grades AS b ON a.height BETWEEN b.height_lowest 
	AND b.height_highest 
GROUP BY
	b.height_level;
------ç»“æœå¦‚ä¸‹------------
èº«é«˜çº§åˆ« - A	çƒå‘˜æ•°é‡ - 18
èº«é«˜çº§åˆ« - B	çƒå‘˜æ•°é‡ - 14
èº«é«˜çº§åˆ« - C	çƒå‘˜æ•°é‡ - 5</div>2019-11-27</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132" width="30px"><span>çˆ¬è¡Œçš„èœ—ç‰›</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>SELECT COUNT(*), h.height_level
   FROM player as p JOIN height_grades as h
   ON p.height BETWEEN h.height_lowest AND h.height_highest
   GROUP BY h.height_level;</div>2019-11-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/92/ba/9833f06f.jpg" width="30px"><span>åŠç“¶é†‹</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div># æŸ¥è¯¢ä¸åŒèº«é«˜çº§åˆ«å¯¹åº”çš„çƒå‘˜æ•°é‡
SELECT
    h.height_level,
    COUNT(*) AS &#39;çƒå‘˜æ•°é‡&#39;
FROM player AS p 
JOIN height_grades AS h 
ON height BETWEEN h.height_lowest AND h.height_highest
GROUP BY h.height_level</div>2019-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/f7/46/209ca424.jpg" width="30px"><span>Coool</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç»ƒä¹ ï¼š
SELECT 
    h.height_level, COUNT(*) AS player_num
FROM
    player AS p
        LEFT JOIN
    height_grades AS h ON p.height BETWEEN h.height_lowest AND h.height_highest
GROUP BY h.height_level;</div>2019-10-21</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/NFpgmsqvyPs8ibTrrrJ24OqoISOVW2aaYESotwl5r5PqhyLuECj6gvJN9SibECg142eyW5S9mebZGdyGzMWS1VtQ/132" width="30px"><span>chenysh38</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>mysql&gt; select count(*), height_level
    -&gt; from player as p, height_grades as h
    -&gt; where p.height between h.height_lowest and h.height_highest
    -&gt; group by height_level
    -&gt; order by height_level;
+----------+--------------+
| count(*) | height_level |
+----------+--------------+
|       18 | A            |
|       14 | B            |
|        5 | C            |
+----------+--------------+
3 rows in set (0.13 sec)</div>2019-09-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/00/bb/25a29311.jpg" width="30px"><span>æ£®é±¼</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>SELECT h.height AS &#39;èº«é«˜çº§åˆ«&#39;, COUNT(p.player_id) AS â€˜çƒå‘˜æ•°é‡â€™ FROM height_grades AS h LEFT JOIN player AS p ON p.height BETWEEN h.height_lowest AND h.height_highest GROUP BY h.height_level</div>2019-09-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/6b/8f/eba34b86.jpg" width="30px"><span>æ˜Ÿå…‰</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸‰ä¸ªåŠä¸‰ä¸ªä»¥ä¸Šçš„è¡¨è¿æ¥ï¼Œæ²¡æœ‰demoå—</div>2019-08-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/d6/fa/1f5bf642.jpg" width="30px"><span>æœªæ¥çš„èƒ¡å…ˆæ£®</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¡¥ä¸Šä½œä¸š
select height_level as &#39;èº«é«˜çº§åˆ«&#39;,count( p.`player_id`) as &#39;çƒå‘˜æ•°é‡&#39;
from height_grades h
left join player p on p.`height` between h.`height_lowest` and h.`height_highest`
group by h.`height_level`;</div>2019-08-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/f7/36/7a6a6b6e.jpg" width="30px"><span>è„¸çº¢å› ä¸ºé£å¤ªçƒ«</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>SELECT COUNT(*) AS &#39;äººæ•°&#39;, h.height_level
FROM height_grades AS h, player AS a
WHERE a.height BETWEEN h.height_lowest AND h.height_highest
GROUP BY h.height_level</div>2019-07-30</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/OrfXQWvE0jIuibibw0dnicPM0iaRPXyyGTPicFfmvykUNiaVT7E8PQeqhzct4HhtdnSZvZdPzHmknIv56icPtYOD6Fibsw/132" width="30px"><span>xy</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯¾ç¨‹é‡Œé¢çš„ä¾‹å­ï¼Œæ€ä¹ˆåœ¨å•æœºç‰ˆä¸Šå®éªŒï¼Ÿèƒ½ä¸èƒ½è®²ä¸‹ï¼Ÿ</div>2019-07-23</li><br/><li><img src="" width="30px"><span>18923814485</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>è¯·é—®ä¸‹ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªä¸å¯¹ï¼Œä¼šå¤šå‡ºä¸€æ¡æ•°æ®æ¥ï¼Ÿï¼Ÿ
SELECT h.height_level, count(1) num from height_grades h
	LEFT JOIN player p  ON p.height BETWEEN h.height_lowest and h.height_highest
	GROUP BY h.height_level ORDER BY height_level ;</div>2019-07-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/2b/84/07f0c0d6.jpg" width="30px"><span>supermouse</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>SELECT 
    COUNT(*), h.height_level
FROM
    player AS p,
    height_grades AS h
WHERE
    p.height BETWEEN h.height_lowest AND h.height_highest
GROUP BY h.height_level</div>2019-07-07</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Pk7HVX99cBlSOicLoa8KN8yCKx1pWIyYuy7zxL2ibXicYRFq2ic7LMYiaXMajuQNRZzL4QyuJX6ToRoficsBPlT3Meog/132" width="30px"><span>Yt</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>SELECT height_level,COUNT(height_level)
FROM player JOIN height_grades
ON player.height BETWEEN  height_grades.height_lowest AND height_grades.height_highest
 GROUP BY height_level
ORDER BY height_level;</div>2019-07-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg" width="30px"><span>ABC</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ€»ç»“äº†ä¸‰ç‚¹:

1. æˆ‘ä¹‹å‰åœ¨ä½¿ç”¨join on çš„æ—¶å€™æœ‰ä¸€äº›è¯¯åŒº,ä¸€ç›´ä»¥ä¸ºonåé¢å¿…é¡»æ˜¯=å·è¿æ¥,å­¦äº†è¿™ä¸¤èŠ‚æ‡‚äº†å¾ˆå¤šã€‚
2. åŒæ—¶ï¼Œä»¥å‰æ€»æ˜¯çƒ­è¡·äºfrom player a,height_grades b where a.id=b.playerid è¿™æ ·è¿è¡¨æŸ¥è¯¢.
3. åœ¨ä¹‹å‰ä¹Ÿä»æ¥æ²¡ç”¨è¿‡è‡ªè¿æ¥ã€‚ã€‚ä¸€ç›´éƒ½æ˜¯å­æŸ¥è¯¢ï¼Œåé¢æˆ‘ä¼šç”¨è‡ªè¿æ¥æ›¿æ¢åˆ°å­æŸ¥è¯¢,è°¢è°¢è¿™ä¸ªè¯¾ç¨‹ï¼Œï¼Œè®©æˆ‘å­¦åˆ°äº†è¿™ä¹ˆå¤šã€‚è°¢è°¢è€å¸ˆã€‚

ä½œä¸šç­”æ¡ˆï¼š

select B.height_level,COUNT(*) from player  a join height_grades b on a.height between b.height_lowest and b.height_highest group by b.height_level

å¦å¤–è€å¸ˆ,å•¥æ—¶å€™ä¼šè®²unionå‘¢?</div>2019-07-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/0f/71/9273e8a4.jpg" width="30px"><span>æ—¶é—´æ˜¯æœ€çœŸçš„ç­”æ¡ˆ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>SELECT h.height_level,COUNT(p.player_id) AS num FROM height_grades AS h JOIN player AS p ON p.height BETWEEN h.height_lowest AND h.height_highest GROUP BY h.height_level ;

çœ‹åˆ°ç°åœ¨ï¼Œæ„Ÿè§‰è¿™äº›éƒ½æ˜¯æ¯”è¾ƒåŸºç¡€çš„ï¼ŒæœŸå¾…åé¢ä¼˜åŒ–ç¯‡èƒ½è®²çš„æ›´æ·±å…¥</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg" width="30px"><span>Goal</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div># æŸ¥è¯¢èº«é«˜æ¯”æ ¼é‡ŒèŠ¬é«˜çš„çƒå‘˜å§“åï¼ŒåŒ¹é…ä¸­æ–‡å§“åï¼Œæœ€å¥½ç”¨æ¨¡ç³ŠåŒ¹é…
# å­æŸ¥è¯¢
SELECT player_name, height FROM player WHERE height &gt; (SELECT height from player WHERE player_name LIKE &quot;%æ ¼é‡ŒèŠ¬%&quot; )
# SQL92
SELECT b.player_name, b.height FROM player as a , player as b WHERE a.player_name LIKE &#39;%æ ¼é‡ŒèŠ¬%&#39;  and a.height &lt; b.height
# SQL99
SELECT b.player_name, b.height FROM player as a JOIN player as b WHERE a.player_name LIKE &#39;%æ ¼é‡ŒèŠ¬%&#39; and a.height &lt; b.height 

# å¦‚æœå¯¹ä¸Šè¿°è¿‡ç¨‹ä¸å¤ªç†è§£ï¼šå¯ä»¥åˆ†å¼€æ‰§è¡Œï¼Œç„¶åï¼ŒæŸ¥çœ‹æ¯æ¬¡æ‰§è¡Œçš„è¿”å›ç»“æœï¼šæ¯”å¦‚
1. SELECT a.player_name, a.height, b.player_name, b.height FROM player as a JOIN player as b
2. SELECT a.player_name, a.height, b.player_name, b.height FROM player as a JOIN player as b WHERE a.player_name LIKE &#39;%æ ¼é‡ŒèŠ¬%&#39;
3. SELECT a.player_name, a.height, b.player_name, b.height FROM player as a JOIN player as b WHERE a.player_name LIKE &#39;%æ ¼é‡ŒèŠ¬%&#39; and a.height &lt; b.height 


# æ€è€ƒé¢˜ï¼š
SELECT h.height_level,COUNT(*) AS height_num FROM height_grades as h JOIN player AS p ON p.height BETWEEN h.height_lowest AND h.height_highest GROUP BY h.height_level</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/aa/a3/0b7f0334.jpg" width="30px"><span>å¤ªç²¾</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>SELECT p.height_level, COUNT(*) AS level_counts FROM player AS a JOIN height_grades  AS p ON height BETWEEN p.height_lowest AND p.height_highest GROUP BY p.height_level;
+--------------+--------------+
| height_level | level_counts |
+--------------+--------------+
| A                |                18 |
| B                |                14 |
| C                |                 5 |
+--------------+--------------+
</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/fc/90/c9df0459.jpg" width="30px"><span>ack</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç»ƒä¹ ï¼š
SELECT height_level,COUNT(*) FROM height_grades as h JOIN player as p ON p.height BETWEEN h.height_lowest AND h.height_highest GROUP BY height_level;</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" width="30px"><span>å¥•</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å¯¹äºè¿æ¥æ‰§è¡Œçš„é¡ºåºï¼Œæœ‰ç‚¹ä¸å¤ªç¡®å®šï¼Œå¸Œæœ›è€å¸ˆè®²è§£ä¸‹å„ç§è¿æ¥åŠç›¸å…³çš„å…³é”®å­— æ‰§è¡Œçš„é¡ºåºï¼Ÿ</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/0d/45/b88a1794.jpg" width="30px"><span>ä¸€å¶çŸ¥ç§‹</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>SELECT g.height_level, count(*) 
FROM height_grades as g, player as p 
WHERE p.height 
BETWEEN g.height_lowest AND g.height_highest 
GROUP BY g.height_level;
æ‰§è¡Œç»“æœï¼š
+--------------+----------+
| height_level | count(*) |
+--------------+----------+
| A            |       18 |
| B            |       14 |
| C            |        5 |
+--------------+----------+
3 rows in set (0.01 sec)

ä¸€ä¸‹åˆçœŸæ­£è¿½å®Œäº†~~~~</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/32/82/273a44cd.jpg" width="30px"><span>åœ†å­è›‹</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>SELECT h.height_level,COUNT(*) AS num FROM height_grades AS h JOIN player AS p ON p.player_height BETWEEN h.height_lowest AND h.height_highest GROUP BY h.height_level ORDER BY h.height_level ASC</div>2019-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/04/0d/3dc5683a.jpg" width="30px"><span>æŸ¯å¯Ÿé‡‘</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æŠŠé“¾æ¥æ¡ä»¶å†™åœ¨ join é‡Œé¢è·Ÿå†™åœ¨ where ä¼šæœ‰ä»€ä¹ˆä¸åŒå—ã€‚è€å¸ˆèƒ½ä¸èƒ½è®²ä¸€ä¸‹ï¼Œå·¥ä½œçš„æ—¶å€™å¸¸å¸¸é‡åˆ°ï¼Œå‘ç°æœ‰æ—¶å€™ç­›é€‰æ¡ä»¶æ”¾çš„ä½ç½®æ²¡æœ‰å½±å“ï¼Œæœ‰æ—¶å€™åˆæ˜¯æœ‰ä¸¤è€…å·®åˆ«åˆå¾ˆå¤§</div>2019-07-05</li><br/>
</ul>