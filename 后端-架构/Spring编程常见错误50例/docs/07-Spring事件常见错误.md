ä½ å¥½ï¼Œæˆ‘æ˜¯å‚…å¥ï¼Œè¿™èŠ‚è¯¾æˆ‘ä»¬èŠèŠSpringäº‹ä»¶ä¸Šçš„å¸¸è§é”™è¯¯ã€‚

å‰é¢çš„å‡ è®²ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†Springä¾èµ–æ³¨å…¥ã€AOPç­‰æ ¸å¿ƒåŠŸèƒ½ç‚¹ä¸Šçš„å¸¸è§é”™è¯¯ã€‚è€Œä½œä¸ºSpring çš„å…³é”®åŠŸèƒ½æ”¯æ’‘ï¼ŒSpringäº‹ä»¶æ˜¯ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„ç‚¹ã€‚æˆ–è®¸ä½ ä»æ²¡æœ‰åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿‡Springäº‹ä»¶ï¼Œä½†æ˜¯ä½ ä¸€å®šè§è¿‡å®ƒçš„ç›¸å…³æ—¥å¿—ã€‚è€Œä¸”åœ¨æœªæ¥çš„ç¼–ç¨‹å®è·µä¸­ï¼Œä½ ä¼šå‘ç°ï¼Œä¸€æ—¦ä½ ç”¨ä¸Šäº†Springäº‹ä»¶ï¼Œå¾€å¾€å®Œæˆçš„éƒ½æ˜¯ä¸€äº›æœ‰è¶£çš„ã€å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚åŠ¨æ€é…ç½®ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘å°±æ¥è®²è®²Springäº‹ä»¶ä¸Šéƒ½æœ‰å“ªäº›å¸¸è§çš„é”™è¯¯ã€‚

## æ¡ˆä¾‹1ï¼šè¯•å›¾å¤„ç†å¹¶ä¸ä¼šæŠ›å‡ºçš„äº‹ä»¶

Springäº‹ä»¶çš„è®¾è®¡æ¯”è¾ƒç®€å•ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯ç›‘å¬å™¨è®¾è®¡æ¨¡å¼åœ¨Springä¸­çš„ä¸€ç§å®ç°ï¼Œå‚è€ƒä¸‹å›¾ï¼š

![](https://static001.geekbang.org/resource/image/34/c6/349f79e396276ab3744c04b0a29eccc6.jpg?wh=3634%2A2283)

ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒSpringäº‹ä»¶åŒ…å«ä»¥ä¸‹ä¸‰å¤§ç»„ä»¶ã€‚

1. äº‹ä»¶ï¼ˆEventï¼‰ï¼šç”¨æ¥åŒºåˆ†å’Œå®šä¹‰ä¸åŒçš„äº‹ä»¶ï¼Œåœ¨Springä¸­ï¼Œå¸¸è§çš„å¦‚ApplicationEventå’ŒAutoConfigurationImportEventï¼Œå®ƒä»¬éƒ½ç»§æ‰¿äºjava.util.EventObjectã€‚
2. äº‹ä»¶å¹¿æ’­å™¨ï¼ˆMulticasterï¼‰ï¼šè´Ÿè´£å‘å¸ƒä¸Šè¿°å®šä¹‰çš„äº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œè´Ÿè´£å‘å¸ƒApplicationEvent çš„ApplicationEventMulticasterå°±æ˜¯Springä¸­ä¸€ç§å¸¸è§çš„å¹¿æ’­å™¨ã€‚
3. äº‹ä»¶ç›‘å¬å™¨ï¼ˆListenerï¼‰ï¼šè´Ÿè´£ç›‘å¬å’Œå¤„ç†å¹¿æ’­å™¨å‘å‡ºçš„äº‹ä»¶ï¼Œä¾‹å¦‚ApplicationListenerå°±æ˜¯ç”¨æ¥å¤„ç†ApplicationEventMulticasterå‘å¸ƒçš„ApplicationEventï¼Œå®ƒç»§æ‰¿äºJDKçš„ EventListenerï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹å®ƒçš„å®šä¹‰æ¥éªŒè¯è¿™ä¸ªç»“è®ºï¼š
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ15ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg" width="30px"><span>å­æˆ¿</span> ğŸ‘ï¼ˆ6ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<div>å¼‚æ­¥å¯ä»¥å®šä¹‰ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæˆ–è€…è¯•ç”¨eventlisenneråŠ ä¸Šå¼‚æ­¥æ³¨è§£</div>2021-05-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/6c/67/07bcc58f.jpg" width="30px"><span>è™¹ç‚</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ6ï¼‰<div>è€å¸ˆï¼Œæ¡ˆä¾‹1çš„MyContextStartedEventListenerå¯ä»¥è‡ªåŠ¨åŠ å…¥åˆ°ApplicationEventMulticasterå®ç°ç±»SimpleApplicationEventMulticaster ä¸­ã€‚æ¡ˆä¾‹2çš„MyApplicationEnvironmentPreparedEventListenerä¹Ÿåº”è¯¥è‡ªåŠ¨åŠ å…¥åˆ°SimpleApplicationEventMulticaster ä¸­ã€‚ä¸ºå•¥æ²¡æœ‰ï¼Ÿå•çœ‹æ–‡ç« ï¼Œæ„Ÿè§‰æ²¡æœ‰è®²é€å½»ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸ºå•¥æ¡ˆä¾‹1çš„MyContextStartedEventListener ä¸ç”¨å•ç‹¬æ³¨å†Œåˆ°initialMulticaster å¹¿æ’­ä½“ç³»ä¸­ã€‚æ²¡æ‡‚ï¼Ÿï¼Ÿï¼Ÿ</div>2021-05-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/f5/97/9a7ee7b3.jpg" width="30px"><span>Geek4329</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>äº‹ä»¶å¼‚æ­¥å¤„ç†æœ‰ä¸¤ç§ï¼Œä¸€ç§å‘é€æ–¹å¼‚æ­¥å‘é€ï¼Œå¦ä¸€ç§ç›‘å¬æ–¹å¼‚æ­¥ç›‘å¬ã€‚éƒ½å¯ä»¥</div>2021-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/ce/d7/074920d5.jpg" width="30px"><span>å°é£åŒå­¦</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æ€è€ƒé¢˜ï¼šåœ¨SimpleApplicationEventMulticasterå®ä¾‹åŒ–çš„æ—¶å€™ï¼Œè®¾ç½®å±æ€§ã€‚æˆ–è€…ä½¿ç”¨@PostConstructoræ³¨è§£ã€‚  åœ¨æƒ³æœ‰æ²¡æœ‰å•¥å…¶ä»–çš„æ›´ä¼˜é›…çš„æ–¹å¼?
@Bean
    public SimpleApplicationEventMulticaster testMulticaster(SimpleApplicationEventMulticaster caster) {
        caster.setErrorHandler(TaskUtils.LOG_AND_SUPPRESS_ERROR_HANDLER);
        caster.setTaskExecutor(Executors.newFixedThreadPool(10));
        return caster;
    }</div>2021-05-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/48/fa/43dda02c.jpg" width="30px"><span>ç¹ç©º</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>MyContextRefreshedEventListenerè¿™ä¸ªç±»é‡Œé¢å°‘äº†æ—¥å¿—çš„æ³¨è§£</div>2023-10-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/26/e7/1c2c341d.jpg" width="30px"><span>æ£’æ£’ç³–</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>Spring äº‹ä»¶ï¼Œå¾€å¾€å®Œæˆçš„éƒ½æ˜¯ä¸€äº›æœ‰è¶£çš„ã€å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚åŠ¨æ€é…ç½®ã€‚</div>2023-03-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/af/b8/458866d3.jpg" width="30px"><span>Bo</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ä¸ºä»€ä¹ˆæ¡ˆä¾‹ä¸€çš„listenerä¸éœ€è¦åƒæ¡ˆä¾‹äºŒçš„listenerä¸€æ ·ï¼Œå†™åˆ°spring.factoriesæ–‡ä»¶é‡Œé¢ï¼Ÿ

â€œapplicationEventMulticasterå¹¿æ’­å™¨ç”Ÿæ•ˆçš„ç›‘..å™¨ï¼šç”±ä¸Šè¿°æåŠçš„ ...&#47;spring.factories ä¸­åŠ è½½çš„ç›‘..å™¨ä»¥åŠæ‰«æåˆ°çš„ Appli...Listener ç±»å‹çš„ Bean å…±åŒç»„æˆâ€ï¼Œè¯´æ˜è¿˜ä¼šåŒ…æ‹¬ ApplicationListener ç±»å‹çš„ Beanã€‚</div>2023-03-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/af/b8/458866d3.jpg" width="30px"><span>Bo</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ä¸ºä»€ä¹ˆæ¡ˆä¾‹ä¸€çš„listenerä¸éœ€è¦åƒæ¡ˆä¾‹äºŒçš„listenerä¸€æ ·ï¼Œå†™åˆ°spring_factoriesæ–‡ä»¶é‡Œé¢ï¼Ÿ</div>2023-03-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2e/62/a0/e46bdbeb.jpg" width="30px"><span>ç²½</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆæœ‰å‡ ä¸ªåœ°æ–¹è®²çš„å…¶å®æ˜¯æœ‰ç‚¹æ··ä¹±çš„ï¼Œæˆ‘è‡ªå·±æ•´ç†äº†ä¸€ä¸‹ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸‹https:&#47;&#47;blog.csdn.net&#47;Zong_0915&#47;article&#47;details&#47;126525246ã€‚</div>2022-08-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/b8/21/f692bdb0.jpg" width="30px"><span>è·¯åœ¨å“ª</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ä¸ºä»€ä¹ˆæ¡ˆä¾‹ä¸€çš„listenerä¸éœ€è¦åƒæ¡ˆä¾‹äºŒçš„listenerä¸€æ ·ï¼Œå†™åˆ°springã€‚factoriesæ–‡ä»¶é‡Œé¢</div>2022-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/b8/21/f692bdb0.jpg" width="30px"><span>è·¯åœ¨å“ª</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æ„Ÿè§‰è„‘å­ä¸å¤Ÿç”¨</div>2022-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2e/27/b4/df65c0f7.jpg" width="30px"><span>| ~æµ‘è›‹~</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ä»ä»£ç å¾—çŸ¥ï¼Œæœ‰çº¿ç¨‹æ± çš„è¯å°±ä¼šæŠŠlisteneræäº¤åˆ°çº¿ç¨‹æ± æ‰§è¡Œï¼Œæ‰€ä»¥è®¾ç½®multicasterçš„çº¿ç¨‹æ± å°±èƒ½å¼‚æ­¥æ‰§è¡Œäº‹ä»¶ç›‘å¬é€»è¾‘äº†</div>2022-06-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/6b/e9/7620ae7e.jpg" width="30px"><span>é›¨è½ï½ç´«ç«¹</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ä¸ºä»€ä¹ˆæˆ‘å¾ˆå°‘åœ¨ç°åœ¨çš„javaåº”ç”¨çœ‹åˆ°EventListener è¿™ç§æˆ‘åªåœ¨mqå’Œ æ¡Œé¢çº§å¼€å‘ä¸Šçœ‹åˆ°è¿‡</div>2022-06-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/46/2f/abb7bfe3.jpg" width="30px"><span>æ¢äºšåˆ©</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ä½¿ç”¨SimpleAsyncTaskExecutor

 @Bean
    public ApplicationEventMulticaster applicationEventMulticaster(){
        SimpleApplicationEventMulticaster simpleApplicationEventMulticaster=new SimpleApplicationEventMulticaster();
        simpleApplicationEventMulticaster.setTaskExecutor(new SimpleAsyncTaskExecutor(&quot;event-task&quot;));
        return  simpleApplicationEventMulticaster;
    }</div>2022-03-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/21/11/c8/889846a7.jpg" width="30px"><span>é»‘ç™½é¢ å€’</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç¬¬äºŒä¸ªä¸æ˜¯å¾ˆæ‡‚å•Š</div>2021-08-02</li><br/>
</ul>