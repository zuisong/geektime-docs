ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ‘å»ºå‹‹ã€‚

è¿™èŠ‚è¯¾è®©æˆ‘ä»¬ç»§ç»­ä¼˜åŒ–ä»£ç ï¼Œè®©ç¨‹åºå¯é…ç½®åŒ–ã€‚ç„¶åé€šè¿‡é™æ€ä¸åŠ¨æ€çš„ä»£ç æ‰«æå‘ç°ç¨‹åºä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œè®©ä»£ç å˜å¾—æ›´åŠ ä¼˜é›…ã€‚

## microä¸­é—´ä»¶

é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç´§æ¥ä¸ŠèŠ‚è¯¾çš„go-microæ¡†æ¶ï¼Œå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œè®¾ç½®go-microçš„ä¸­é—´ä»¶ã€‚å¦‚ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Goå‡½æ•°é—­åŒ…çš„ç‰¹æ€§ï¼Œå¯¹è¯·æ±‚è¿›è¡Œäº†ä¸€å±‚åŒ…è£…ã€‚ä¸­é—´ä»¶å‡½æ•°åœ¨æ¥æ”¶åˆ°GRPCè¯·æ±‚æ—¶ï¼Œå¯ä»¥æ‰“å°å‡ºè¯·æ±‚çš„å…·ä½“å‚æ•°ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ’æŸ¥é—®é¢˜ã€‚

```plain
func logWrapper(log *zap.Logger) server.HandlerWrapper {
	return func(fn server.HandlerFunc) server.HandlerFunc {
		return func(ctx context.Context, req server.Request, rsp interface{}) error {
			log.Info("recieve request",
				zap.String("method", req.Method()),
				zap.String("Service", req.Service()),
				zap.Reflect("request param:", req.Body()),
			)
			err := fn(ctx, req, rsp)
			return err
		}
	}
}
```
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ1ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/a9/54/76b680bc.jpg" width="30px"><span>konyo</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è·¨åº¦å¥½å¤§å•Š</div>2023-02-03</li><br/>
</ul>