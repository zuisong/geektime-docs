ä½ å¥½ï¼Œæˆ‘æ˜¯æ™¯éœ„ã€‚

ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬å½“ä»£çš„è®¡ç®—æœºéƒ½æ˜¯å›¾çµæœºæ¶æ„ã€‚å›¾çµæœºæ¶æ„çš„æœ¬è´¨ï¼Œå°±æ˜¯ä¸€æ¡æ— é™é•¿çš„çº¸å¸¦ï¼Œå¯¹åº”ç€æˆ‘ä»¬ä»Šå¤©çš„å­˜å‚¨å™¨ã€‚åœ¨å·¥ç¨‹å­¦çš„æ¼”åŒ–ä¸­ï¼Œé€æ¸å‡ºç°äº†å¯„å­˜å™¨ã€æ˜“å¤±æ€§å­˜å‚¨å™¨ï¼ˆå†…å­˜ï¼‰å’Œæ°¸ä¹…æ€§å­˜å‚¨å™¨ï¼ˆç¡¬ç›˜ï¼‰ç­‰äº§å“ã€‚å…¶å®ï¼Œè¿™æœ¬èº«æ¥è‡ªä¸€ä¸ªçŸ›ç›¾ï¼šé€Ÿåº¦è¶Šå¿«çš„å­˜å‚¨å™¨ï¼Œå•ä½ä»·æ ¼ä¹Ÿè¶Šæ˜‚è´µã€‚å› æ­¤ï¼Œå¦¥å–„åˆ©ç”¨å¥½æ¯ä¸€å¯¸é«˜é€Ÿå­˜å‚¨å™¨çš„ç©ºé—´ï¼Œæ°¸è¿œæ˜¯ç³»ç»Ÿè®¾è®¡çš„ä¸€ä¸ªæ ¸å¿ƒã€‚

å›åˆ° Python åº”ç”¨å±‚ã€‚

æˆ‘ä»¬çŸ¥é“ï¼ŒPython ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œéœ€è¦åœ¨å†…å­˜ä¸­å¼€è¾Ÿå‡ºä¸€å—ç©ºé—´ï¼Œç”¨äºå­˜æ”¾è¿è¡Œæ—¶äº§ç”Ÿçš„ä¸´æ—¶å˜é‡ï¼›è®¡ç®—å®Œæˆåï¼Œå†å°†ç»“æœè¾“å‡ºåˆ°æ°¸ä¹…æ€§å­˜å‚¨å™¨ä¸­ã€‚å¦‚æœæ•°æ®é‡è¿‡å¤§ï¼Œå†…å­˜ç©ºé—´ç®¡ç†ä¸å–„å°±å¾ˆå®¹æ˜“å‡ºç° OOMï¼ˆout of memoryï¼‰ï¼Œä¿—ç§°çˆ†å†…å­˜ï¼Œç¨‹åºå¯èƒ½è¢«æ“ä½œç³»ç»Ÿä¸­æ­¢ã€‚

è€Œå¯¹äºæœåŠ¡å™¨ï¼Œè¿™ç§è®¾è®¡ä¸ºæ°¸ä¸ä¸­æ–­çš„ç³»ç»Ÿæ¥è¯´ï¼Œå†…å­˜ç®¡ç†åˆ™æ˜¾å¾—æ›´ä¸ºé‡è¦ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å¼•å‘å†…å­˜æ³„æ¼ã€‚ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼å‘¢ï¼Ÿ

- è¿™é‡Œçš„æ³„æ¼ï¼Œå¹¶ä¸æ˜¯è¯´ä½ çš„å†…å­˜å‡ºç°äº†ä¿¡æ¯å®‰å…¨é—®é¢˜ï¼Œè¢«æ¶æ„ç¨‹åºåˆ©ç”¨äº†ï¼Œè€Œæ˜¯æŒ‡ç¨‹åºæœ¬èº«æ²¡æœ‰è®¾è®¡å¥½ï¼Œå¯¼è‡´ç¨‹åºæœªèƒ½é‡Šæ”¾å·²ä¸å†ä½¿ç”¨çš„å†…å­˜ã€‚
- å†…å­˜æ³„æ¼ä¹Ÿä¸æ˜¯æŒ‡ä½ çš„å†…å­˜åœ¨ç‰©ç†ä¸Šæ¶ˆå¤±äº†ï¼Œè€Œæ˜¯æ„å‘³ç€ä»£ç åœ¨åˆ†é…äº†æŸæ®µå†…å­˜åï¼Œå› ä¸ºè®¾è®¡é”™è¯¯ï¼Œå¤±å»äº†å¯¹è¿™æ®µå†…å­˜çš„æ§åˆ¶ï¼Œä»è€Œé€ æˆäº†å†…å­˜çš„æµªè´¹ã€‚

é‚£ä¹ˆï¼ŒPython åˆæ˜¯æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜çš„ï¼Ÿæ¢å¥è¯è¯´ï¼Œå¯¹äºä¸ä¼šå†ç”¨åˆ°çš„å†…å­˜ç©ºé—´ï¼ŒPython æ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶æ¥å›æ”¶è¿™äº›ç©ºé—´çš„å‘¢ï¼Ÿ
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ30ï¼‰</strong></div><ul>
<li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132" width="30px"><span>Jingxiao</span> ğŸ‘ï¼ˆ38ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>æ€è€ƒé¢˜ç­”æ¡ˆï¼š

äº‹å®ä¸Šç®—æ³•å¯ä»¥å†™çš„å¾ˆç®€å•ï¼Œè¿™æ˜¯ä¸ªå¾ˆç»å…¸çš„ dfs ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰éå†ï¼Œä»èµ·ç‚¹å¼€å§‹éå†ï¼Œå¯¹éå†åˆ°çš„èŠ‚ç‚¹åšä¸ªè®°å·ã€‚éå†å®Œæˆåï¼Œå†å¯¹æ‰€æœ‰èŠ‚ç‚¹æ‰«ä¸€éï¼Œæ²¡æœ‰è¢«åšè®°å·çš„ï¼Œå°±æ˜¯éœ€è¦åƒåœ¾å›æ”¶çš„ã€‚</div>2019-07-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8f/60/be0a8805.jpg" width="30px"><span>é™ˆè¿ª</span> ğŸ‘ï¼ˆ24ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<div>1. å¾ªç¯å¼•ç”¨æƒ…å†µä¸‹Pythonä¸ç«‹å³å›æ”¶å†…å­˜ï¼Œå¦‚æœæ”¾ä»»ä¸ç®¡ï¼Œå³ä¸æ˜¾å¼è°ƒç”¨gc.collectçš„è¯ï¼ŒPythonçš„åƒåœ¾å›æ”¶å™¨è‡ªå·±ä¼šä»€ä¹ˆæ—¶å€™å¤„ç†ï¼Ÿ
2. æœ€åä»‹ç»äº†å†…å­˜æ³„éœ²æ’æŸ¥å·¥å…·ï¼Œå“ªç§ç®—å†…å­˜æ³„éœ²å‘¢ï¼Ÿæ¥é—®é¢˜1ï¼Œä¸ç«‹å³å›æ”¶ç®—å†…å­˜æ³„éœ²å—ï¼Ÿè¿˜æ˜¯æœ‰å…¶ä»–åœºæ™¯</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/56/11/5d113d5c.jpg" width="30px"><span>å¤©å‡‰å¥½ä¸ªç§‹</span> ğŸ‘ï¼ˆ10ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<div>æœ¬æ–‡è®²çš„åƒåœ¾å›æ”¶ç®—æ³•åœ¨Javaä¸­ä¹Ÿéƒ½æœ‰ï¼Œå½“åˆåœ¨è®¾è®¡çš„æ—¶å€™æ˜¯ä¸æ˜¯å‚è€ƒäº†Javaï¼Ÿè€Œä¸”ï¼ŒJavaä¸­è¿˜æœ‰æ ‡è®°æ•´ç†ç®—æ³•ï¼Œå¯ä»¥è§£å†³å›æ”¶å†…å­˜ä¸è¿ç»­çš„é—®é¢˜ï¼Œè¿™ä¸ªåœ¨Pythonä¸­æœ‰æ²¡æœ‰è€ƒè™‘å‘¢ï¼Ÿ</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/96/af/da8fd6ed.jpg" width="30px"><span>ã€€ã€€æ˜Ÿè±ª</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>1. åœ¨è¯»æ–‡ç« çš„æ—¶å€™æ‰¾äº†ä¸€ä¸ªå¯èƒ½æ˜¯é”™åˆ«å­—çš„åœ°æ–¹ï¼Œåœ¨å¾ªç¯å¼•ç”¨é‚£ä¸€èŠ‚ä¸­ï¼Œç¬¬å››æ®µè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœè¿™æ®µä»£ç å‡ºç°åœ¨ç”Ÿäº§ç¯å¢ƒä¸­...ä½†ç»è¿‡é•¿æ—¶é—´è¿è¡Œâ€œå€™â€...ã€‚è¿™ä¸€ä¾¯åº”è¯¥æ˜¯åæ¥çš„åå§ï¼Ÿ
2. å½“åƒåœ¾å›æ”¶å™¨ä¸­æ–°å¢å¯¹è±¡å‡å»åˆ é™¤å¯¹è±¡è¾¾åˆ°ç›¸åº”çš„é˜ˆå€¼æ—¶ï¼Œå°±ä¼šå¯¹è¿™ä¸€ä»£å¯¹è±¡å¯åŠ¨åƒåœ¾å›æ”¶ã€‚è¿™ä¸€å¥è¯ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œæ–°å¢å¯¹è±¡æˆ‘ç†è§£çš„æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡æˆ–è€…æ˜¯ä»ä¸Šä¸€ä»£æŒªè¿‡æ¥çš„å¯¹è±¡ï¼Œé‚£ä¹ˆåˆ é™¤å¯¹è±¡æŒ‡çš„æ˜¯å“ªäº›å‘¢ï¼Ÿæˆ–è€…è¯´æ˜¯å¦‚ä½•è¿›è¡ŒæŒ‡å®šå“ªäº›æ˜¯åº”è¯¥è¢«åˆ é™¤çš„å¯¹è±¡å‘¢ï¼Ÿ</div>2019-07-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/a8/f4/2abb4a4c.jpg" width="30px"><span>MirkoWei</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>windowsä¸‹ä½¿ç”¨objgraphé‡åˆ°ä¸ªé—®é¢˜ï¼š
`failed to execute [&#39;dot&#39;, &#39;-Tpdf&#39;], make sure the Graphviz executables are on your systems&#39; path`

å®‰è£…objgraphçš„æ—¶å€™ï¼Œéœ€è¦çš„å‰ç½®æ¡ä»¶graphvizã€xdotéƒ½å®‰è£…äº†ï¼Œç³»ç»Ÿç¯å¢ƒå˜é‡ä¹Ÿæ·»åŠ äº†ï¼Œä»ç„¶æ‰¾ä¸åˆ°è·¯å¾„

ä¹‹åé€šè¿‡stackoverflowå¾—åˆ°è§£å†³åŠæ³•ï¼Œå°±æ˜¯æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œéœ€è¦åœ¨ä»£ç å‰é¢æ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡
```
import os

os.environ[&quot;PATH&quot;] += os.pathsep + &#39;xxx&#47;Graphviz2.38&#47;bin&#47;&#39;
```
é—®é¢˜æ˜¯è§£å†³äº†ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ä¹Ÿå¤ªéº»çƒ¦äº†ï¼Œä¸çŸ¥é“æ˜¯å¦æœ‰æ›´å¥½çš„è§£å†³åŠæ³•</div>2020-05-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4f/3f/6f62f982.jpg" width="30px"><span>wangkx</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯¾ç¨‹è¶Šå¾€åè¶Šæœ‰æ„æ€ï¼Œå‘ç°äº†å¾ˆå¤šçŸ¥è¯†ç‚¹ç›²åŒºï¼Œè¿™é—¨è¯¾å¾ˆå€¼ï¼</div>2020-07-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/15/c6/f5c543ef.jpg" width="30px"><span>Switch</span> ğŸ‘ï¼ˆ23ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ€è€ƒé¢˜ï¼š
from typing import Set


class Graph:
    def __init__(self, value, nodes=None):
        self._value = value
        self._nodes: list = [] if nodes is None else nodes

    @property
    def value(self):
        return self._value

    @property
    def nodes(self):
        return self._nodes

    def node_add(self, node):
        self._nodes.append(node)

    def node_adds(self, nodes):
        self._nodes.extend(nodes)

    def node_del(self, node):
        self._nodes.remove(node)

    def __str__(self):
        return &quot;Graph {} nodes {}&quot;.format(self._value, [node.value for node in self.nodes])

    def __repr__(self):
        return self.__str__()


def dfs(start: Graph, includes: Set[Graph] = None) -&gt; Set[Graph]:
    if includes is None:
        includes = set()
    if start in includes:
        return includes
    includes.add(start)
    for s in start.nodes:
        includes.update(dfs(s, includes))
    return includes


if __name__ == &#39;__main__&#39;:
    A = Graph(&#39;A&#39;)
    B = Graph(&#39;B&#39;)
    C = Graph(&#39;C&#39;)
    D = Graph(&#39;D&#39;)
    E = Graph(&#39;E&#39;)
    F = Graph(&#39;F&#39;)
    has_nodes = {A, B, C, D, E, F}

    # A-&gt;B-&gt;E
    #  -&gt;C-&gt;E
    # B-&gt;A
    # D-&gt;F
    # F-&gt;D
    A.node_adds([B, C])
    B.node_adds([A, E])
    C.node_adds([E])
    D.node_adds([F])
    F.node_adds([D])
    graph_nodes = dfs(A, set())
    # OUT: {Graph B nodes [&#39;A&#39;, &#39;E&#39;], Graph E nodes [], Graph C nodes [&#39;E&#39;], Graph A nodes [&#39;B&#39;, &#39;C&#39;]}
    print(graph_nodes)
    # OUT: {Graph F nodes [&#39;D&#39;], Graph D nodes [&#39;F&#39;]}
    print(has_nodes - graph_nodes)
</div>2019-07-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/8e/0e/3fbc418d.jpg" width="30px"><span>youaresherlock</span> ğŸ‘ï¼ˆ8ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>å››æ¬¡å¼•ç”¨ï¼Œaï¼Œpython çš„å‡½æ•°è°ƒç”¨æ ˆï¼Œå‡½æ•°å‚æ•°ï¼Œå’Œ getrefcount
ä¸ç†è§£è¿™é‡Œçš„å‡½æ•°è°ƒç”¨æ ˆã€å‡½æ•°å‚æ•°ä¸ºä»€ä¹ˆå¢åŠ äº†2æ¬¡ï¼Œè¿™é‡Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»–ä»¬ä¸¤ä¸ªä¸æ˜¯ä¸€æ ·çš„å—ï¼Œå‡½æ•°å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ ˆé‡Œï¼Œåº”è¯¥æ˜¯ä¸€æ¬¡å•Š</div>2020-07-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/66/a0/c00fb984.jpg" width="30px"><span>ä½ è¯´å‘¢</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å¯ä»¥è¿™æ ·ç†è§£ä¹ˆï¼špythonçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä»¥å¼•ç”¨è®¡æ•°ç®—æ³•ä¸ºä¸»ã€æ ‡è®°-åˆ é™¤ç®—æ³•ä¸ºè¾… æ¥ç¡®å®šå†…å­˜ä¸­å“ªäº›å¯¹è±¡å¯ä»¥å›æ”¶ï¼›è€Œåˆ†ä»£å›æ”¶ç®—æ³•ç¡®å®šäº†åƒåœ¾æ˜¯ä»€ä¹ˆæ—¶å€™è¢«å›æ”¶ã€‚
</div>2021-03-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg" width="30px"><span>ç¨‹åºå‘˜äººç”Ÿ</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ10ï¼‰<div>è¯·é—®ä¸€ä¸‹ï¼Œè€å¸ˆ
æ‰§è¡Œå…³äºobjgraphä»£ç ï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š
Graph viewer (xdot) and image renderer (dot) not found, not doing anything else
æ˜¯ä¸æ˜¯è¿˜è¦å®‰è£…ä»€ä¹ˆè½¯ä»¶ï¼Ÿ</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/1c/c4/3e593863.jpg" width="30px"><span>cool</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>Python çš„è‡ªåŠ¨å›æ”¶ç®—æ³•åŒ…æ‹¬æ ‡è®°æ¸…é™¤ ï¼Œæ ‡è®°æ¸…é™¤æ€ä¹ˆæ¥è§£å†³å¾ªç¯å¼•ç”¨åƒåœ¾å›æ”¶çš„ï¼Œä¸“æ ä¸­è®²è§£çš„æ²¡å¬æ‡‚ï¼Œå¾ªç¯å¼•ç”¨ èƒ½åœ¨å›¾ä¸­éå†åˆ°</div>2020-07-01</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/JGPabHDickBjMJwVoJ7ZRGiaT21BibxvCJ9DR9Gvn3G1iazHQPTJQtkWwfFssYfGJsPahEB7sOnXScibkrsr4gx6LeA/132" width="30px"><span>å¾®é£æ¼‚è¿‡</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å¼€å¤´çš„ä»£ç 
è¿è¡Œå‡ºé”™ï¼šModuleNotFoundError: No module named &#39;psutil&#39;
å®‰è£…å‡ºé”™ï¼š
pip install --upgrade psutil
Collecting psutil
  Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host=&#39;pypi.org&#39;, port=443): Read timed out. (read timeout=15)&quot;)&#39;: &#47;simple&#47;psutil&#47;
  Could not find a version that satisfies the requirement psutil (from versions: )
No matching distribution found for psutil
è¯·é—®è¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ</div>2020-01-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg" width="30px"><span>å“é›¨</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æ€è€ƒé¢˜çœ‹çš„æˆ‘ä¸€è„¸è’™è”½ï¼Œæ— ä»ä¸‹æ‰‹</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/77/ab/1e583bd3.jpg" width="30px"><span>ã‚¡Sgr</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æ€è€ƒé¢˜ï¼š
def dfs(graph: dict, start: str):
    visited = set()
    stack = [start]

    while stack:
        node = stack.pop()
        if node not in visited:
            visited.add(node)
            stack.extend(graph[node] - visited)

    return visited

def unreachable_nodes(graph: dict, start: str):
    reachable_nodes = dfs(graph, start)
    all_nodes = set(node for nodes in graph.values() for node in nodes).union(graph.keys())
    return all_nodes - reachable_nodes

# ç¤ºä¾‹å›¾ç»“æ„
graph = {
    &quot;A&quot;: {&quot;B&quot;, &quot;C&quot;},
    &quot;B&quot;: {&quot;A&quot;, &quot;D&quot;, &quot;E&quot;},
    &quot;C&quot;: {&quot;A&quot;, &quot;F&quot;},
    &quot;D&quot;: {&quot;B&quot;},
    &quot;E&quot;: {&quot;B&quot;, &quot;F&quot;},
    &quot;F&quot;: {&quot;C&quot;, &quot;E&quot;},
    &quot;G&quot;: {&quot;H&quot;},
    &quot;H&quot;: {&quot;G&quot;}
}

print(unreachable_nodes(graph, &#39;A&#39;))

# è¾“å‡º
{&#39;G&#39;, &#39;H&#39;}</div>2023-05-16</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRCtuJkpyy2I29LxUsXwZGjicyzDAb3lo76KLX8gxUfawgSeNdQOibjibF0VNXEv7t2DiaIrBU4KcHyQ/132" width="30px"><span>çŒç¡çš„å’¸é±¼</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æ€è€ƒé¢˜â€”â€”é€šè¿‡æœ‰å‘å›¾çš„æ‹“æ‰‘æ’åºå¯ä»¥æ±‚å‡ºï¼ˆå¯ä»¥å‚è€ƒã€Šç®—æ³•å¯¼è®ºã€‹å»ç†è§£ï¼‰</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/96/7d/c7e8cd34.jpg" width="30px"><span>å¹²å¸ƒçƒ</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>è¯·é—®è€å¸ˆï¼Œé—®ä»€ä¹ˆå¤šæ¬¡è°ƒç”¨print(sys.getrefcount(a))ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ä¼šå¢åŠ açš„è®¡æ•°å‘¢ï¼Ÿ</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/5b/81/8c38dff8.jpg" width="30px"><span>lcqbug</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ç°åœ¨çš„è®¡ç®—æœºæ¶æ„ æ˜¯å›¾çµæœºï¼Ÿä¸æ˜¯å†¯è¯ºä¾æ›¼æ¶æ„å—</div>2024-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/5b/81/8c38dff8.jpg" width="30px"><span>lcqbug</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>åˆ¤æ–­ä¸å¯è¾¾ï¼Œä¸å¯è¾¾å“ªé‡Œå‘¢ï¼Ÿ æ ¹æ˜¯å“ªé‡Œ</div>2024-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg" width="30px"><span>å¼ ç”³å‚²</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ç¬¬24è®²æ‰“å¡~</div>2024-06-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/97/8f/ccce7df1.jpg" width="30px"><span>å°åŒš</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æƒ³åˆ°äº†Javaçš„å†…å­˜å›æ”¶æœºåˆ¶ï¼Œä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œå¼•ç”¨è®¡æ•°å’Œå¼•ç”¨ä¸å¯è¾¾æ³•ã€‚</div>2021-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/25/48/a3/2df11999.jpg" width="30px"><span>Boom clap!!!</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>windows ä½¿ç”¨ objgraphæ—¶å€™æŠ¥é”™Spawning graph viewer (xdot)ï¼Œæ€ä¹ˆåŠå•Š è€å¸ˆ</div>2021-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg" width="30px"><span>å®Œç¾åšæŒ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆæ˜¯ç”¨linuxé‡è£…çš„ç³»ç»Ÿå—ï¼Œå› ä¸ºæˆ‘è®°å¾—è€å¸ˆæ˜¯ç”¨çš„è‹¹æœç”µè„‘</div>2020-10-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/12/f9/7e6e3ac6.jpg" width="30px"><span>Geek_04e22a</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>class ListNode(object):
    &quot;&quot;&quot;
    èŠ‚ç‚¹æ•°æ®ç»“æ„
    valï¼š å€¼
    nodeï¼šæœ‰å‘è¾¹ç»ˆç‚¹åˆ—è¡¨é›†åˆ
    &quot;&quot;&quot;

    def __init__(self, x):
        self.val = x
        self.node = list()


def deep_list(a):
    &quot;&quot;&quot;
    æ·±åº¦ä¼˜å…ˆéå†
    :param a:
    :return:
    &quot;&quot;&quot;

    if len(a.node) == 0:
        return

    for node in a.node:
        print(node.val)
        deep_list(node)


a = ListNode(&#39;a&#39;)
b = ListNode(&#39;b&#39;)
c = ListNode(&#39;c&#39;)
d = ListNode(&#39;d&#39;)
e = ListNode(&#39;e&#39;)
f = ListNode(&#39;f&#39;)

a.node = [b, c]
c.node = [e]


deep_list(a)</div>2020-04-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg" width="30px"><span>wnz27</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>gc.collect()ï¼Œä¸æ˜¯æ¸…é™¤æ²¡æœ‰å¼•ç”¨çš„å¯¹è±¡å—ï¼Œä¸ºä»€ä¹ˆå¾ªç¯å¼•ç”¨ä»£ç é‡Œæ²¡æœ‰del aå’Œdel bå¯ä»¥åƒåœ¾å›æ”¶å‘¢ï¼Ÿæ˜¯è€å¸ˆæ‰‹è¯¯å—ï¼Ÿ</div>2019-12-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg" width="30px"><span>å»ºå¼º</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ç®€å•å†™äº†ä¸€ä¸ªæœ‰å‘å›¾çš„éå†ç¨‹åºï¼Œè¯´æ˜ï¼š
(1)æœ‰å‘å›¾é‡‡ç”¨é‚»æ¥é“¾è¡¨å­˜å‚¨
(2)æœ‰å‘å›¾é‡‡ç”¨é€’å½’ç®—æ³•è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†
#é‚»æ¥é“¾è¡¨èŠ‚ç‚¹å®šä¹‰
class LinkNode:
    def __init__(self,data):
        self.data = data
        self.next = None
	
#é‚»æ¥é“¾è¡¨å®šä¹‰
class AdjoinList:
    def __init__(self):
        self.adjlist = {}  #å­˜è´®èŠ‚ç‚¹é—´çš„é‚»æ¥å…³ç³»
        self.vistlist = {} #å­˜è´®èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®ï¼Œåˆå§‹æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯False
	
    #å»ºç«‹ç»“ç‚¹x1å’Œx2çš„è¿æ¥å…³ç³»ï¼Œå…¶ä¸­ï¼Œx1æŒ‡å‘x2
    def addNode(self,x1,x2):

        #å»ºç«‹é“¾æ¥
        point = self.adjlist.setdefault(x1, None)
        lnode = LinkNode(x2)
        lnode.next = point
        self.adjlist[x1] = lnode
        self.adjlist.setdefault(x2, None)

        #åˆå§‹åŒ–è®¿é—®åˆ—è¡¨        
        self.vistlist.setdefault(x1,False)
        self.vistlist.setdefault(x2,False)

    #éå†å›¾ä¸­æ‰€æœ‰ç»“ç‚¹
    def visitNode(self,nodevalue):
        if nodevalue is not None:
            self.vistlist[nodevalue] = True
            print(&#39;visist:&#39;, nodevalue)
            nextnode = self.adjlist[nodevalue]
                
            while nextnode is not None:

                if not self.vistlist[nextnode.data]:
                    self.visitNode(nextnode.data)
                
                nextnode = nextnode.next


    #è¾“å‡ºæœªè¢«è®¿é—®çš„ç»“ç‚¹
    def showUnvistedNode(self):
        print(&#39;UnvistedNode:&#39;, &#39;,&#39;.join([x for x in self.vistlist if not self.vistlist[x]]))

#ä¸»ç¨‹åº
def main():
#BEGIN

    adlist = AdjoinList()

    #åˆ›å»ºæœ‰å‘å›¾ï¼Œæœ‰å‘å›¾ç®€å•ç¤ºæ„å¦‚ä¸‹ï¼š
    &#39;&#39;&#39;
    a--&gt;b--&gt;c
    |
    |
    d--&gt;e--&gt;f

    g--&gt;h--&gt;j
    
    &#39;&#39;&#39;
    adlist.addNode(&#39;a&#39;,&#39;b&#39;)
    adlist.addNode(&#39;a&#39;,&#39;d&#39;)
    adlist.addNode(&#39;b&#39;,&#39;c&#39;)
    adlist.addNode(&#39;d&#39;,&#39;e&#39;)
    adlist.addNode(&#39;e&#39;,&#39;f&#39;)
    adlist.addNode(&#39;g&#39;,&#39;h&#39;)
    adlist.addNode(&#39;h&#39;,&#39;j&#39;)

    #ä»aèŠ‚ç‚¹å¼€å§‹éå†æœ‰å‘å›¾
    adlist.visitNode(&#39;a&#39;)

    #è¾“å‡ºæœªè®¿é—®çš„èŠ‚ç‚¹
    adlist.showUnvistedNode()

#END

if __name__ == &#39;__main__&#39;:
    main()</div>2019-11-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/8a/bc/cb39ed38.jpg" width="30px"><span>è‡ªç”±æ°‘</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æ€è€ƒé¢˜ï¼Œå°±æ˜¯å›¾çš„éå†ç®—æ³•ï¼Œæ·±åº¦ä¼˜å…ˆæˆ–å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼Œæ ‡è®°æ¯ä¸ªèŠ‚ç‚¹ï¼Œéå†åï¼Œæ²¡æ ‡è®°è¿‡çš„å°±æ˜¯å¯ä»¥å›æ”¶çš„åƒåœ¾ã€‚</div>2019-10-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/2b/6c/a2d3fe36.jpg" width="30px"><span>å¤å°”</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>def func():
    show_memory_info(&#39;initial&#39;)
    a = [i for i in derange(10000000)]
    show_memory_info(&#39;after a created&#39;)
    return a

a = func()
show_memory_info(&#39;finished&#39;)

########## è¾“å‡º ##########

initial memory used: 47.96484375 MB
after a created memory used: 434.515625 MB
finished memory used: 434.515625 MB

è¿™æ˜¯æœ¬æ–‡ç¬¬å››ä¸ªä»£ç å—ï¼Œfor i in rangeï¼›å¤šäº†deï¼Œå˜æˆäº†derangeï¼›</div>2019-09-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg" width="30px"><span>å°ä¾ é¾™æ—‹é£</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>è€å¸ˆï¼Œè¯·é—®ï¼šé™¤äº†å¾ªç¯å¼•ç”¨ï¼Œè¿˜æœ‰å“ªäº›é”™è¯¯çš„ç¨‹åºè®¾è®¡ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œéœ€è¦å¼ºåˆ¶è°ƒç”¨gc.collect()æ¥åƒåœ¾å›æ”¶ï¼Ÿ</div>2019-07-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8f/60/be0a8805.jpg" width="30px"><span>é™ˆè¿ª</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å¯å¦ç»™ä¸€ä¸ªå†…å­˜æ³„éœ²çš„å®ä¾‹ï¼Œé€ƒè„±äº†gcçš„â€œæ³•çœ¼â€ï¼Ÿ</div>2019-07-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/d8/4f/65abc6f0.jpg" width="30px"><span>KaitoShy</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¯·é—®ä¸€ä¸‹ï¼Œè€å¸ˆï¼š
import sys

a= [1]

print(sys.getrefcount(a))

b = a
print(sys.getrefcount(a))

c,d,e,f,g,h = b,b,c,e,d,a
print(g)
print(sys.getrefcount(a))
-------


import sys...
2
3
[1]
6
ä¸ºä»€ä¹ˆæœ€åä¸€æ¬¡æ˜¯6æ¬¡ï¼Ÿè€Œgçš„å€¼æ˜¯æ­£å¸¸çš„å‘¢ï¼Ÿ</div>2019-07-04</li><br/>
</ul>