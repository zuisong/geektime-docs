ä½ å¥½ï¼Œæˆ‘æ˜¯ä¼Ÿå¿ ã€‚ä»Šå¤©è¦å’Œä½ åˆ†äº«çš„å†…å®¹æ˜¯å¦‚ä½•åœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨æ­£åˆ™ï¼Œè®©æ–‡æœ¬å¤„ç†èƒ½åŠ›ä¸Šä¸€ä¸ªå°é˜¶ã€‚

ç°ä»£ä¸»æµçš„ç¼–ç¨‹è¯­è¨€å‡ ä¹éƒ½å†…ç½®äº†æ­£åˆ™æ¨¡å—ï¼Œå¾ˆå°‘èƒ½è§åˆ°ä¸æ”¯æŒæ­£åˆ™çš„ç¼–ç¨‹è¯­è¨€ã€‚å­¦ä¼šåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨æ­£åˆ™ï¼Œå¯ä»¥æå¤§åœ°æé«˜æ–‡æœ¬çš„å¤„ç†èƒ½åŠ›ã€‚

åœ¨è¿›è¡Œæ–‡æœ¬å¤„ç†æ—¶ï¼Œæ­£åˆ™è§£å†³çš„é—®é¢˜å¤§æ¦‚å¯ä»¥åˆ†æˆå››ç±»ï¼Œåˆ†åˆ«æ˜¯æ ¡éªŒæ–‡æœ¬å†…å®¹ã€æå–æ–‡æœ¬å†…å®¹ã€æ›¿æ¢æ–‡æœ¬å†…å®¹ã€åˆ‡å‰²æ–‡æœ¬å†…å®¹ã€‚åœ¨è¿™ä¸€èŠ‚é‡Œï¼Œæˆ‘ä¼šä»åŠŸèƒ½åˆ†ç±»å‡ºå‘ï¼Œç»™ä½ è®²è§£åœ¨ä¸€äº›å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¦‚ä½•æ­£ç¡®åœ°å®ç°è¿™äº›åŠŸèƒ½ã€‚

## 1.æ ¡éªŒæ–‡æœ¬å†…å®¹

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ•°æ®éªŒè¯ï¼Œé€šå¸¸æˆ‘ä»¬åœ¨ç½‘é¡µä¸Šè¾“å…¥çš„æ‰‹æœºå·ã€é‚®ç®±ã€æ—¥æœŸç­‰ï¼Œéƒ½éœ€è¦æ ¡éªŒã€‚æ ¡éªŒçš„ç‰¹ç‚¹åœ¨äºï¼Œæ•´ä¸ªæ–‡æœ¬çš„å†…å®¹è¦ç¬¦åˆæ­£åˆ™ï¼Œæ¯”å¦‚è¦æ±‚è¾“å…¥6ä½æ•°å­—çš„æ—¶å€™ï¼Œè¾“å…¥123456abc å°±æ˜¯ä¸ç¬¦åˆè¦æ±‚çš„ã€‚

ä¸‹é¢æˆ‘ä»¬ä»¥éªŒè¯æ—¥æœŸæ ¼å¼å¹´æœˆæ—¥ä¸ºä¾‹å­æ¥è®²è§£ï¼Œæ¯”å¦‚2020-01-01ï¼Œæˆ‘ä»¬ä½¿ç”¨æ­£åˆ™\\d{4}-\\d{2}-\\d{2} æ¥éªŒè¯ã€‚

### Python

åœ¨ Python ä¸­ï¼Œæ­£åˆ™çš„åŒ…åæ˜¯ reï¼ŒéªŒè¯æ–‡æœ¬å¯ä»¥ä½¿ç”¨ re.match æˆ– re.search çš„æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«åœ¨äºï¼Œre.match æ˜¯ä»å¼€å¤´åŒ¹é…çš„ï¼Œre.searchæ˜¯ä»æ–‡æœ¬ä¸­æ‰¾å­ä¸²ã€‚ä¸‹é¢æ˜¯è¯¦ç»†çš„è§£é‡Šï¼š

```
# æµ‹è¯•ç¯å¢ƒ Python3
>>> import re
>>> re.match(r'\d{4}-\d{2}-\d{2}', '2020-06-01')
<re.Match object; span=(0, 10), match='2020-06-01'>
# è¿™ä¸ªè¾“å‡ºæ˜¯åŒ¹é…åˆ°äº†ï¼ŒèŒƒå›´æ˜¯ä»ä¸‹æ ‡0åˆ°ä¸‹æ ‡10ï¼ŒåŒ¹é…ç»“æœæ˜¯2020-06-01
# re.search è¾“å‡ºç»“æœä¹Ÿæ˜¯ç±»ä¼¼çš„
```

**åœ¨Pythonä¸­ï¼Œæ ¡éªŒæ–‡æœ¬æ˜¯å¦åŒ¹é…çš„æ­£ç¡®æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š**
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ9ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1b/40/70/d14f653e.jpg" width="30px"><span>134</span> ğŸ‘ï¼ˆ19ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>&quot;xxx#163.com&quot;.replace(&#47;#&#47;,&#39;@&#39;)</div>2020-07-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f0/50/c348c2ea.jpg" width="30px"><span>å•ä¼Ÿ</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>[a-z,1-9,A-Z]+[#|@][a-z,1-9,A-Z]+.com
ä¸€å¼€å§‹æ˜¯å†™è¿™æ ·çš„â€œ\b(\w+)(#|@)(\d+.com)\bâ€
ä½†æ˜¯â€œè”ç³»é‚®ç®±xxx#163.comâ€ï¼Œè¿™æ ·çš„è¯å°±ä¼šå°†ä¸­æ–‡ä¹Ÿæ··åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥è¿«äºæ— å¥ˆæ‰è¿™æ ·å†™â€œ[a-z,1-9,A-Z]â€</div>2020-07-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/07/21/b3394aa2.jpg" width="30px"><span>Robot</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>public static void main(String[] args) {
		Pattern pattern = Pattern.compile(&quot;[a-zA-Z0-9]+(?:[.-][a-zA-Z0-9]+)*#[a-zA-Z0-9]+(?:[.-][a-zA-Z0-9]+)*\\&quot; +
				&quot;.[a-zA-Z]+&quot;);

		String str = &quot;A spirited debate ensued. sd.xxx#gmail.com You may find it entertaining and educational to &quot; +
				&quot;follow all the various threads. However, I want to focus on one of Markâ€™s replies. He tweeted about a&quot; +
				&quot; blog he had yanleichang-3#vip.163.com written back in 2018. I encourage you to read it. Youâ€™ll learn&quot; +
				&quot; something about testing, static typing, and Haskell. Youâ€™ll also learn something about how to debate&quot; +
				&quot; with good-job#qq.com someone in the future by posting your refutation in the think#163.com&quot;;

		Matcher matcher = pattern.matcher(str);

		while (matcher.find()) {
			System.out.println(matcher.group().replace(&#39;#&#39;,&#39;@&#39;));
		}</div>2020-07-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å­¦ä¹ æ‰“å¡</div>2022-11-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/70/a0/e2e7c486.jpg" width="30px"><span>å¾èƒ½</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div> @Test
    void replace_email_pound_key_with_at_symbol() {
        final Pattern pattern = Pattern.compile(&quot;(\\W+)(\\w+)(@|#)(\\d+.[a-z]+)(\\W+)&quot;);    
        Matcher match = pattern.matcher(&quot;ä¾‹å¦‚ç½‘é¡µçš„åº•éƒ¨å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šè”ç³»é‚®ç®±ï¼šxxx#163.com (è¯·æŠŠ#æ¢æˆ@)&quot;);    
        assertEquals(&quot;ä¾‹å¦‚ç½‘é¡µçš„åº•éƒ¨å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šè”ç³»é‚®ç®±ï¼šxxx@163.com (è¯·æŠŠ#æ¢æˆ@)&quot;, match.replaceAll(&quot;$1$2@$4$5&quot;));  
    }</div>2022-06-06</li><br/><li><img src="" width="30px"><span>Geek_039a5c</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>    public static void main(String[] args) {

        String mail = &quot;xxx#163.com&quot;;

        final Pattern pattern1 = Pattern.compile(&quot;\\b([\\w.%+-]+)[#@]([\\w.-]+\\.[a-zA-Z]{2,6})\\b&quot;);
        Matcher match1 = pattern1.matcher(mail);
        System.out.println(match1.replaceAll(&quot;$1@$2&quot;));

    }</div>2022-02-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/42/f8/9a22b3aa.jpg" width="30px"><span>æ—¥ç§¯è·¬æ­¥</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>\w+[@#]\w+[.]com
è¿™ä¸ªå¯¹å—</div>2021-01-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/39/8c/ff48ece3.jpg" width="30px"><span>å°ä¹™å“¥</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>pattern = re.compile(r&#39;(\w+)#(\w+)&#39;)

email_str = &#39;xxx#163.com&#39;
print(pattern.sub(r&#39;\1@\2&#39;, email_str))</div>2020-08-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/db/ba/304a9a4a.jpg" width="30px"><span>JuntÃ­ng</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>JavaScriipt: 
let str = &#39;xxx#163.com&#39;;
æ–¹å¼1: str.replace(&#47;#&#47;, &#39;@&#39;);
æ–¹å¼2: str.replace(&#47;(\w+)[#@](.\w+)&#47;g, &#39;$1@$2&#39;);
&#39;xxx&amp;163.com,xxx#qq.com&#39;.replace(&#47;(\w+)[#@&amp;](.\w+)&#47;g, &#39;$1@$2&#39;);</div>2020-08-07</li><br/>
</ul>