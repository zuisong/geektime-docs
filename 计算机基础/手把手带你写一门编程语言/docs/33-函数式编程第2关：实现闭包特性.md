ä½ å¥½ï¼Œæˆ‘æ˜¯å®«æ–‡å­¦ã€‚

ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å®ç°äº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼šé«˜é˜¶å‡½æ•°ã€‚ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ç»§ç»­æ¥å®ç°å‡½æ•°å¼ç¼–ç¨‹çš„å¦ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯é—­åŒ…ã€‚

é—­åŒ…æœºåˆ¶èƒ½å®ç°ä¿¡æ¯çš„å°è£…ã€ç¼“å­˜å†…éƒ¨çŠ¶æ€æ•°æ®ç­‰ç­‰ï¼Œæ‰€ä»¥è¢«èµ„æ·±ç¨‹åºå‘˜æ‰€å–œæ¬¢ï¼Œå¹¶è¢«ç”¨äºå®ç°å„ç§æ¡†æ¶ã€ç±»åº“ç­‰ç­‰ã€‚ç›¸ä¿¡å¾ˆå¤šç¨‹åºå‘˜éƒ½äº†è§£è¿‡é—­åŒ…çš„æ¦‚å¿µï¼Œä½†å¾€å¾€å¯¹å®ƒçš„å†…åœ¨æœºåˆ¶ä¸æ˜¯ååˆ†æ¸…æ¥šã€‚

ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä¼šå¸¦ä½ äº†è§£é—­åŒ…çš„åŸç†å’Œå®ç°æœºåˆ¶ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ ä¼šäº†è§£åˆ°é—­åŒ…æ•°æ®çš„å½¢æˆæœºåˆ¶ã€è¯æ³•ä½œç”¨åŸŸçš„æ¦‚å¿µã€é—­åŒ…å’Œé¢å‘å¯¹è±¡ç‰¹æ€§çš„ç›¸ä¼¼æ€§ï¼Œä»¥åŠå¦‚ä½•è®¿é—®ä½äºå…¶ä»–æ ˆæ¡¢ä¸­çš„æ•°æ®ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹é—­åŒ…çš„æŠ€æœ¯å®è´¨ï¼Œä»è€Œç¡®å®šå¦‚ä½•è®©æˆ‘ä»¬çš„è¯­è¨€æ”¯æŒé—­åŒ…ç‰¹æ€§ã€‚

## ç†è§£é—­åŒ…çš„å®è´¨

æˆ‘ä»¬å…ˆé€šè¿‡ä¸€ä¸ªä¾‹å­æ¥äº†è§£é—­åŒ…çš„ç‰¹ç‚¹ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ç¨‹åºä¸­æœ‰ä¸€ä¸ªIDçš„ç”Ÿæˆå™¨ã€‚è¿™ä¸ªç”Ÿæˆå™¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†å®ƒæŠŠä¸€ä¸ªå†…éƒ¨å‡½æ•°ä½œä¸ºè¿”å›å€¼æ¥è¿”å›ã€‚è¿™ä¸ªè¿”å›å€¼è¢«èµ‹ç»™äº†å‡½æ•°ç±»å‹çš„å˜é‡id1ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚

```plain
function idGenerator():number{//()=>number{
    let nextId = 0;

    function getId(){
        return nextId++;  //è®¿é—®äº†å¤–éƒ¨ä½œç”¨åŸŸçš„ä¸€ä¸ªå˜é‡
    }

    return getId;
}

println("\nid1:");
let id1 = idGenerator();
println(id1());  //0
println(id1());  //1

//æ–°åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œé‡æ–°å¼€å§‹ç¼–å·
println("\nid2:");
let id2 = idGenerator();
println(id2());  //0
println(id2());  //1

//é—­åŒ…å¯ä»¥é€šè¿‡èµ‹å€¼å’Œå‚æ•°ä¼ é€’ï¼Œåœ¨æ²¡æœ‰ä»»ä½•å˜é‡å¼•ç”¨å®ƒçš„æ—¶å€™ï¼Œç”Ÿå‘½å‘¨æœŸæ‰ä¼šç»“æŸã€‚
println("\nid3:");
let id3 = id1;
println(id3());  //2
```
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ4ï¼‰</strong></div><ul>
<li><img src="" width="30px"><span>çˆ±ç¬‘çš„å¸ƒè°·é¸Ÿ</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ä¸ºä»€ä¹ˆä¼šå‡ºç°é—­åŒ…å‘¢ï¼Ÿé—­åŒ…æŠ€æœ¯çš„å‡ºç°ï¼Œæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</div>2022-10-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>å­¦ä¹ æ‰“å¡</div>2022-09-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/9e/50/21e0beca.jpg" width="30px"><span>kylin</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>æ£’</div>2022-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/7f/24/ceab0e7b.jpg" width="30px"><span>å¥‹æ–—çš„èœ—ç‰›</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>èµï¼Œé—­åŒ…çš„å®ç°ä¹Ÿæ˜¯ç„å­¦</div>2021-10-30</li><br/>
</ul>