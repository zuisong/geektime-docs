åœ¨æˆ‘çš„æ—¥å¸¸å·¥ä½œä¸­ï¼Œæœ‰ä¸€ç±»é”™è¯¯ï¼Œæ— è®ºæ˜¯åŸç†è¿˜æ˜¯åæœï¼Œæˆ‘éƒ½ååˆ†æ¸…æ¥šã€‚ä½†æ˜¯å†™ä»£ç çš„æ—¶å€™ï¼Œè¿™ç±»é”™è¯¯æ›¾ç»è¿˜æ˜¯ä¼šåå¤å‡ºç°ã€‚å¦‚æœä¸æ˜¯ä»£ç è¯„å®¡å’Œä»£ç åˆ†æç¯èŠ‚çš„æ ¡æ­£ï¼Œæˆ‘éƒ½å¾ˆéš¾æ„è¯†åˆ°è‡ªå·±çš„ä»£ç ä¸­å­˜åœ¨è¿™æ ·çš„ç¼ºé™·ã€‚ä»Šå¤©ï¼Œæˆ‘æƒ³å’Œä½ èŠèŠï¼Œé‚£äº›â€œ**é“ç†æˆ‘éƒ½æ‡‚ï¼Œä½†ä»£ç å°±æ˜¯å†™ä¸å¥½**â€çš„è€é¡½å›ºé—®é¢˜ã€‚

ä½ ä¸å¦¨å…ˆåœä¸‹æ¥æƒ³ä¸€æƒ³ï¼Œä½ æœ‰æ²¡æœ‰ç±»ä¼¼çš„ç»å†ï¼Ÿ åˆæ˜¯æ€ä¹ˆè§£å†³çš„å‘¢ï¼Ÿ

## è¯„å®¡æ¡ˆä¾‹

HTTPè¿æ¥ç»å¸¸è¢«ä¸­æ–­æˆ–è€…å–æ¶ˆï¼Œå¦‚æœå®¢æˆ·ç«¯å·²ç»è·å¾—ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå†æ¬¡è¿æ¥æ—¶ï¼Œåº”è¯¥å¯ä»¥è¯·æ±‚è·å–å‰©ä½™çš„æ•°æ®ï¼Œè€Œä¸æ˜¯å†æ¬¡è¯·æ±‚è·å–æ‰€æœ‰æ•°æ®ã€‚è¿™ä¸ªç‰¹æ€§èƒŒåçš„æ”¯æŒåè®®å°±æ˜¯HTTPèŒƒå›´è¯·æ±‚åè®®ï¼ˆRFC 7233ï¼‰ã€‚

æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œå®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨è¿”å›image.jpgå›¾åƒçš„å‰1024ä¸ªå­—èŠ‚ã€‚å…¶ä¸­â€œbytes=0-1023â€è¡¨ç¤ºè¯·æ±‚ä¼ è¾“çš„æ•°æ®èŒƒå›´æ˜¯ä»0åˆ°ç¬¬1023ä½çš„å­—èŠ‚ï¼ˆ0-1023ï¼‰ï¼Œä»¥åŠâ€œ-512â€è¡¨ç¤ºè¯·æ±‚ä¼ è¾“æ•°æ®çš„æœ€å512ä¸ªå­—èŠ‚ï¼ˆ-512ï¼‰ã€‚

```
GET /image.jpg HTTP/1.1
Host: www.example.come
Range: bytes=0-1023,-512
```

å¦‚æœæœåŠ¡å™¨æ”¯æŒè¯¥åè®®ï¼Œå°±ä¼šåªä¼ è¾“å›¾åƒçš„æŒ‡å®šæ•°æ®æ®µã€‚å“åº”æ¶ˆæ¯çš„ä»£ç å¤§è‡´å¦‚ä¸‹æ‰€ç¤ºï¼š

```
HTTP/1.1 206 Partial Content
Content-Type: multipart/byteranges; boundary=THIS_STRING_SEPARATES
Content-Length: 2345

--THIS_STRING_SEPARATES
Content-Type: image/jpeg
Content-Range: bytes 0-1023/2048
...
(binary content)

--THIS_STRING_SEPARATES
Content-Type: image/jpeg
Content-Range: bytes 1535-2047/2048
...
(binary content)
--THIS_STRING_SEPARATES--
```

å¦‚æœæœåŠ¡å™¨ç«¯ä½¿ç”¨ä¸‹å±çš„ä»£ç éªŒè¯è¯·æ±‚æ•°æ®çš„æŒ‡å®šæ•°æ®æ®µï¼ˆCè¯­è¨€ï¼‰ï¼Œä½ æ¥çœ‹çœ‹å¯èƒ½å­˜åœ¨ä»€ä¹ˆä¸¥é‡çš„é—®é¢˜ï¼Ÿ

```
/**
 * Check if the requested range is valid.
 *
 * start: the first byte position of the range request
 * end: the end byte position of the range request 
 * contentLength: the content length of the requested data
 * sum: the sum of bytes of the range request
 */
bool isValid(int start, int end, int contentLength, int* sum )) {
    if (start < end) {
        *sum += end - start;
        if (*sum > contentLength) {
            return false;
        } else {
            return true;
        }
    } else {
        return false;
    }
}
```
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ12ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/41/27/3ff1a1d6.jpg" width="30px"><span>hua168</span> ğŸ‘ï¼ˆ10ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>ç¬¬ä¸‰æ®µä»£ç 
for (int i = 0; i &lt; nums.length; i++) {â€¦}
æŠŠnumsè®¾ç½®ä¸ºiçš„æœ€å¤§å€¼ï¼Œè¿™æ ·i++å°±æº¢å‡º</div>2019-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/76/23/31e5e984.jpg" width="30px"><span>ç©ºçŸ¥</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>numsæ•°ç»„æ²¡è¯´æ­£è´Ÿ,è´Ÿæ•°  target - nums å¯èƒ½æº¢å‡º</div>2019-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/bf/bd/0c40979f.jpg" width="30px"><span>ä¸€å‘¨æ€è¿›</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è¿™ä¸ªæœ€åè¯ä¹¦é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸å¯ä»¥ä½¿ç”¨64ä½æ— ç¬¦å·æ•°è¡¨ç¤ºå‘¢ï¼Ÿ</div>2019-07-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/a5/51/7773d421.jpg" width="30px"><span>FengX</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>è€å¸ˆï¼Œè¿™æ®µä»£ç if ((data.length + 1024) &gt; cache.remaining()) ï¼Œä¸ºä»€ä¹ˆæ˜¯+1024ï¼Ÿ</div>2019-03-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/08/17/e63e50f3.jpg" width="30px"><span>å½©è‰²çš„æ²™æ¼ </span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>@hua168åŒå­¦
ç¬¬ä¸‰æ®µä»£ç 
for (int i = 0; i &lt; nums.length; i++) {â€¦}
æŠŠnumsè®¾ç½®ä¸ºiçš„æœ€å¤§å€¼ï¼Œè¿™æ ·i++å°±æº¢å‡º

å®é™…è¿™æ®µä»£ç æŠŠnumsè®¾ç½®içš„æœ€å¤§å€¼ï¼Œi++æ˜¯ä¸ä¼šæº¢å‡ºçš„ï¼Œå› ä¸ºæ¡ä»¶æ˜¯i&lt;nums.length;å¦‚æœæ¡ä»¶æ˜¯i&lt;=num.length,é‚£ä¹ˆæŠŠnumsè®¾ç½®içš„æœ€å¤§å€¼ï¼Œi++æ˜¯ä¼šæº¢å‡ºçš„ã€‚</div>2019-05-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg" width="30px"><span>æˆ‘æ¥ä¹Ÿ</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>Cè¯­è¨€çš„ä»£ç æˆ‘çœ‹çš„æ‡‚,å°±å›å¤ä¸‹.
éœ€è¦å¯¹å‚æ•°åšåˆæ³•æ€§æ ¡éªŒ. buf ä¸èƒ½ä¸ºNULL. memcopyæ—¶çš„é•¿åº¦ä¸èƒ½ä¸ºè´Ÿæ•°.
æˆ‘ä»¬å†™çš„å‡½æ•°,éœ€è¦è€ƒè™‘å¥å£®æ€§.
éœ€è¦ä¿è¯ä¸ç®¡åˆ«äººä¼ ä»€ä¹ˆå‚æ•°,æˆ‘ä»¬çš„ä»£ç ä¸å‡ºé—®é¢˜.
ä»¥ä¸‹æ˜¯å®Œå–„åçš„ä»£ç .
---------------------------
int copy_something(char* buf, int len){
    char kbuf[800];

    if ((NULL == buf) || (len &lt;= 0)) { &#47;&#47;lenä¸º0æ—¶æ‹·è´0å­—èŠ‚,æ²¡æ„ä¹‰.
        return -1;
    }

    if(len &gt; sizeof(kbuf)){
        return -1;
    }

    return memcpy(kbuf, buf, len);
}

</div>2019-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/41/27/3ff1a1d6.jpg" width="30px"><span>hua168</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>public static int mixed(int addOn, int multiplied, int scale) {
    return addOn + (multiplied * scale);
}
1.  (multiplied * scale)å¦‚æœç›¸ä¹˜å¤§äºé»˜è®¤çš„intç±»å‹æœ€å¤§å€¼ä¼šæº¢å‡º
2. addOn + (multiplied * scale)ç›¸åŠ å¤§äºintæœ€å¤§å€¼ä¹Ÿä¼šæº¢å‡º</div>2019-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg" width="30px"><span>æˆ‘æ¥ä¹Ÿ</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>Cè¯­è¨€çš„ä»£ç çœ‹å¾—æ‡‚,æˆ‘å°±å›å¤ä¸‹.</div>2019-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg" width="30px"><span>Demon.Lee</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>kbufå¥½åƒè¿˜è¦memsetåˆå§‹åŒ–ä¸€ä¸‹å§</div>2019-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>ç¬¬ä¸€ä¸ªcè¯­è¨€ä»£ç ï¼Œlenæ˜¯è´Ÿæ•°æ€ä¹ˆåŠï¼Ÿ</div>2022-07-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>é¦–å…ˆæœ€é‡è¦çš„ï¼Œæ˜¯è¦å€ŸåŠ©è½¯ä»¶å¼€å‘çš„æœºåˆ¶ï¼Œå‡å°‘ä»£ç é”™è¯¯ã€‚--è®°ä¸‹æ¥
ä»Šå¤©çš„å†…å®¹å¾ˆç¡¬æ ¸</div>2022-07-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/0b/0a/fa152399.jpg" width="30px"><span>wahaha</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<div>gosuæ”¯æŒchecked arithmetic</div>2019-03-21</li><br/>
</ul>