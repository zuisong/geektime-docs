ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚

åœ¨å‰å‡ è®²ï¼Œæˆ‘å·²ç»ä»‹ç»äº†ä¸å°‘ Vim çš„å¸¸ç”¨å‘½ä»¤ï¼Œæˆ‘æƒ³ä½ å·²ç»ç•¥æœ‰å¿ƒå¾—äº†å§ã€‚ä»Šå¤©æˆ‘ä»¬è½¬æ¢ä¸€ä¸‹è§†è§’ï¼Œæ¥è®²ä¸€ä¸‹ Vim è¿™ä¸ªè½¯ä»¶æœ¬èº«ã€‚

ä½œä¸ºä¸€ä¸ª Vim çš„ä½¿ç”¨è€…ï¼Œå…‰ç†Ÿæ‚‰å‘½ä»¤æ˜¯ä¸å¤Ÿçš„ï¼Œä½ è¿˜éœ€è¦å®šåˆ¶ Vimã€‚å› ä¸ºæ¯ä¸ªäººçš„ä¹ æƒ¯å’Œéœ€æ±‚éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€ä¸ªé«˜åº¦å®šåˆ¶åŒ–çš„ Vim ç¯å¢ƒèƒ½å¤§å¤§æé«˜ä½ çš„å·¥ä½œæ•ˆç‡ã€‚

ä»Šå¤©ï¼Œæˆ‘ä¼šå…ˆå¸¦ä½ äº†è§£ä¸€ä¸‹ Vim çš„è¿è¡Œæ”¯æŒæ–‡ä»¶ç›®å½•ç»“æ„ï¼Œç„¶åæˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢ Vim 8 å¸¦æ¥çš„æ–°åŠŸèƒ½ï¼ŒåŠå¦‚ä½•å¯¹ Vim è¿›è¡Œåˆæ­¥é…ç½®æ¥ä½¿å¾— Vim æ›´åŠ å¥½ç”¨ã€‚

## Vim çš„ç›®å½•ç»“æ„

Vim çš„å·¥ä½œç¯å¢ƒæ˜¯ç”±è¿è¡Œæ”¯æŒæ–‡ä»¶æ¥è®¾å®šçš„ã€‚å¦‚æœä½ æƒ³è¦å®šåˆ¶ Vimï¼Œå°±è¦ç†ŸçŸ¥ Vim æœ‰å“ªäº›ä¸åŒç±»å‹çš„è¿è¡Œæ”¯æŒæ–‡ä»¶ï¼Œåˆ†åˆ«å­˜æ”¾åœ¨å“ªé‡Œï¼Œæ€æ ·èƒ½å¿«æ·åœ°æ‰¾åˆ°å®ƒä»¬ã€‚Vim æ¯”è¾ƒæœ‰æ„æ€çš„ä¸€ç‚¹çš„æ˜¯ï¼Œè™½ç„¶è¿è¡Œæ”¯æŒæ–‡ä»¶æ˜¯åœ¨ Vim çš„å®‰è£…ç›®å½•ä¸‹ï¼Œä½†ç”¨æˆ·è‡ªå·±æ˜¯å¯ä»¥â€œå…‹éš†â€è¿™ä¸ªç›®å½•ç»“æ„çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ è‡ªå·±ç›®å½•ä¸‹çš„ç”¨æˆ·é…ç½®ï¼Œåˆ°ä½ æ·±åº¦å®šåˆ¶çš„æ—¶å€™ï¼Œä¹Ÿæœ‰ç›¸ä¼¼çš„ç›®å½•ç»“æ„ã€‚æ‰€ä»¥ï¼Œæˆ‘å°±å…ˆä»è¿™äº›æ–‡ä»¶çš„ç›®å½•ç»“æ„å¼€å§‹è®²èµ·ã€‚

### å®‰è£…ç›®å½•ä¸‹çš„è¿è¡Œæ”¯æŒæ–‡ä»¶

Vim çš„è¿è¡Œæ”¯æŒæ–‡ä»¶åœ¨ä¸åŒçš„å¹³å°ä¸Šæœ‰ç€ç›¸ä¼¼çš„ç›®å½•ç»“æ„ã€‚ä»¥ Vim 8.2 ä¸ºä¾‹ï¼Œå®ƒä»¬çš„æ ‡å‡†å®‰è£…ä½ç½®åˆ†åˆ«åœ¨ï¼š

- å¤§éƒ¨åˆ† Unix ä¸‹é¢ï¼š/usr/share/vim/vim82
- macOS Homebrew ä¸‹ï¼š/usr/local/opt/macvim/MacVim.app/Contents/Resources/vim/runtime
- Windows ä¸‹ï¼šC:\\Program Files (x86)\\Vim\\vim82

åœ¨è¿™ä¸ªç›®å½•ä¸‹é¢ï¼Œä½ å¯ä»¥çœ‹åˆ°å¾ˆå¤šå­ç›®å½•ï¼Œå¦‚ autoloadã€colorsã€docã€packã€pluginã€syntax ç­‰ç­‰ã€‚è¿™äº›å­ç›®å½•ä¸‹é¢å°±æ˜¯åˆ†ç±»æ”¾ç½®çš„ Vim æ”¯æŒæ–‡ä»¶ã€‚æœ€å¸¸ç”¨çš„å­ç›®å½•åº”è¯¥æ˜¯ä¸‹é¢è¿™å‡ ä¸ªï¼š

- syntaxï¼šVim çš„è¯­æ³•åŠ äº®æ–‡ä»¶
- docï¼šVim çš„å¸®åŠ©æ–‡ä»¶
- colorsï¼šVim çš„é…è‰²æ–¹æ¡ˆ
- pluginï¼šVim çš„â€œæ’ä»¶â€ï¼Œå³ç”¨æ¥å¢å¼º Vim åŠŸèƒ½çš„å·¥å…·

ä»¥ syntax ç›®å½•ä¸ºä¾‹ï¼Œå½“å‰æˆ‘åœ¨ä¸‹é¢çœ‹åˆ°æœ‰ 617 ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒVim å¯¹ 617 ç§ä¸åŒçš„æ–‡ä»¶ç±»å‹æä¾›äº†è¯­æ³•åŠ äº®æ”¯æŒï¼è¿™é‡Œé¢çš„æ–‡ä»¶å»æ‰â€œ.vimâ€åç¼€åï¼Œå°±æ˜¯æ–‡ä»¶ç±»å‹çš„åå­—ï¼Œä½ å¯ä»¥ç”¨ç±»ä¼¼ `:setfiletype java` è¿™æ ·çš„å‘½ä»¤æ¥è®¾ç½®æ–‡ä»¶çš„ç±»å‹ï¼Œä»è€Œè¿›è¡Œè¯­æ³•åŠ äº®ã€‚ç›®å½•ä¸‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰çš„è¯­è¨€ï¼Œä¹Ÿæœ‰å¾ˆå¤šæˆ‘ä»æ¥éƒ½æ²¡å¬è¯´è¿‡çš„ä¸œè¥¿ã€‚

åªè¦æœ‰æ­£å½“çš„ç†ç”±ï¼Œä½ å°±å¯ä»¥å‘ Vim çš„ä½œè€… Bram æäº¤æ”¹è¿›ç‰ˆæœ¬ï¼Œæˆ–æ˜¯å¯¹å…¨æ–°çš„è¯­è¨€çš„æ”¯æŒã€‚æˆ‘å°±å¯¹è‹¥å¹²ç§æ–‡ä»¶ç±»å‹æäº¤è¿‡è¡¥ä¸ï¼Œæ–°å¢äº†å¯¹ã€Šè®¡ç®—æœºç¼–ç¨‹è‰ºæœ¯ã€‹ä¸­çš„ MIX æ±‡ç¼–è¯­è¨€çš„è¯­æ³•æ”¯æŒï¼Œå¹¶ç»´æŠ¤ç€å¾®è½¯å®æ±‡ç¼–ï¼ˆMASMï¼‰çš„è¯­æ³•æ–‡ä»¶ã€‚

åœ¨å›¾å½¢ç•Œé¢çš„ Vim é‡Œï¼Œä½ å¯ä»¥é€šè¿‡â€œè¯­æ³• &gt; åœ¨èœå•ä¸­æ˜¾ç¤ºæ–‡ä»¶ç±»å‹â€ï¼ˆâ€œSyntax &gt; Show File Types in Menuâ€ï¼‰æ¥å±•ç¤º Vim çš„æ‰€æœ‰æ–‡ä»¶ç±»å‹ï¼Œç„¶åå¯ä»¥é€‰æ‹©æŸä¸€ç±»å‹æ¥å¯¹å½“å‰æ–‡ä»¶è¿›è¡Œè®¾ç½®ã€‚è¿™å„¿çš„èœå•é¡¹ï¼Œè·Ÿ syntax ç›®å½•ä¸‹çš„æ–‡ä»¶å°±åŸºæœ¬æ˜¯ä¸€ä¸€å¯¹åº”çš„äº†ã€‚

åœ¨èœå•ä¸­æ˜¾ç¤ºæ–‡ä»¶ç±»å‹è¿™ä¸ªé¢å¤–çš„æ­¥éª¤ï¼Œå¯èƒ½æ˜¯å› ä¸ºå¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼ŒåŠ è½½æ‰€æœ‰æ–‡ä»¶ç±»å‹çš„èœå•æ˜¯ä¸€ä¸ªè€—æ—¶çš„æ“ä½œå§ã€‚åœ¨ menu.vim é‡Œï¼Œç›®å‰æœ‰è¿™æ ·çš„ä»£ç ï¼š

```vim
" Skip setting up the individual syntax selection menus unless
" do_syntax_sel_menu is defined (it takes quite a bit of time).
if exists("do_syntax_sel_menu")
  runtime! synmenu.vim
else
  â€¦
endif
```

ä¸çŸ¥é“è¿™æ®µæ³¨é‡Šæ˜¯ä»€ä¹ˆå¹´ä»£åŠ ä¸Šçš„â€¦â€¦ä½†æ˜¾ç„¶ï¼Œæˆ‘ä»¬çš„ç”µè„‘å·²ç»ä¸ä¼šå†åœ¨ä¹åŠ è½½å‡ ç™¾ä¸ªèœå•é¡¹æ‰€å çš„æ—¶é—´äº†ã€‚å³ä½¿æˆ‘ä¸æ€ä¹ˆç”¨èœå•ï¼Œæˆ‘ä¹Ÿæ‰¾ä¸å‡ºä¸ç›´æ¥å±•ç¤ºè¿™ä¸ªèœå•çš„ç†ç”±ï¼›æˆ‘å¯ä¸æƒ³åœ¨éœ€è¦ä½¿ç”¨çš„æ—¶å€™å†å¤šç‚¹ä¸€æ¬¡é¼ æ ‡ã€‚

æ‰€ä»¥ï¼Œæˆ‘ä¼šåœ¨æˆ‘çš„ vimrc æ–‡ä»¶é‡Œå†™ä¸Šï¼š

```vim
let do_syntax_sel_menu = 1
```

åŒç†ï¼Œæˆ‘ä¼šåŠ è½½å…¶ä»–ä¸€äº›å¯èƒ½ä¼šè¢« Vim å»¶è¿ŸåŠ è½½çš„èœå•ï¼Œå‡å°‘éœ€è¦åœ¨èœå•ä¸Šç‚¹å‡»çš„æ¬¡æ•°ï¼š

```vim
let do_no_lazyload_menus = 1
```

ä¸Šé¢ä¸¤ä¸ªè®¾ç½®åœ¨æˆ‘çš„æœºå™¨ä¸Šä¼šè®©æˆ‘æ‰“å¼€ Vim çš„é€Ÿåº¦ä¸‹é™å¤§æ¦‚ 20 æ¯«ç§’ã€‚æˆ‘æƒ³æˆ‘ä¸åœ¨ä¹è¿™ç‚¹æ—¶é—´å·®å¼‚â€¦â€¦

æˆ‘ä»¬ç”¨â€œ`:help`â€å‘½ä»¤æŸ¥çœ‹çš„å¸®åŠ©æ–‡ä»¶å°±æ”¾åœ¨ doc ç›®å½•ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨èœå•â€œç¼–è¾‘ &gt; é…è‰²æ–¹æ¡ˆâ€ï¼ˆâ€œEdit &gt; Color Schemeâ€ï¼‰æµè§ˆé…è‰²æ–¹æ¡ˆï¼Œç›¸åº”çš„æ–‡ä»¶å°±åœ¨ colors ç›®å½•ä¸‹ã€‚

åœ¨ plugin ç›®å½•ä¸‹çš„ç³»ç»Ÿå†…ç½®æ’ä»¶ä¸å¤šï¼Œæˆ‘ä»¬ä¸‹é¢å°±å¿«é€Ÿè®²è§£ä¸€ä¸‹ï¼š

- getscriptPluginï¼šè·å¾—æœ€æ–°çš„ Vim è„šæœ¬çš„æ’ä»¶ï¼ˆåœ¨ç›®å‰å¹¿æ³›ä½¿ç”¨ Git çš„å¹´ä»£ï¼Œè¿™ä¸ªæ’ä»¶è¿‡æ—¶äº†ï¼Œæˆ‘ä»¬ä¸è®²ï¼‰
- gzipï¼šç¼–è¾‘ .gz å‹ç¼©æ–‡ä»¶ï¼ˆèƒ½åœ¨ç¼–è¾‘åç¼€ä¸º .gz çš„æ–‡ä»¶æ—¶è‡ªåŠ¨è§£å‹å’Œå‹ç¼©ï¼Œä½ ä¼šæ„Ÿè§‰ä¸åˆ°è¿™ä¸ªæ–‡ä»¶æ˜¯å‹ç¼©çš„ï¼‰
- logiPatï¼šæ¨¡å¼åŒ¹é…çš„é€»è¾‘è¿ç®—ç¬¦ï¼ˆå…è®¸ä»¥é€»è¾‘è¿ç®—ã€è€Œéæ ‡å‡†æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼æ¥å†™æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼ï¼‰
- manpagerï¼šä½¿ç”¨ Vim æ¥æŸ¥çœ‹ man å¸®åŠ©ï¼ˆå¼ºçƒˆå»ºè®®è¯•ä¸€ä¸‹ï¼Œè®°å¾—ä½¿ç”¨ Vim çš„è·³è½¬é”® `C-]` å’Œ `C-T`ï¼‰
- matchparenï¼šå¯¹æ‹¬å·è¿›è¡Œé«˜äº®åŒ¹é…ï¼ˆç°ä»£ç¼–è¾‘å™¨åŸºæœ¬éƒ½æœ‰ç±»ä¼¼çš„åŠŸèƒ½ï¼‰
- netrwPluginï¼šä»ç½‘ç»œä¸Šç¼–è¾‘æ–‡ä»¶å’Œæµè§ˆï¼ˆè¿œç¨‹ï¼‰ç›®å½•ï¼ˆæ”¯æŒå¤šç§å¸¸è§åè®®å¦‚ ftp å’Œ scpï¼Œå¯ç›´æ¥æ‰“å¼€ç›®å½•æ¥é€‰æ‹©æ–‡ä»¶ï¼‰
- rrhelperï¼šç”¨äºæ”¯æŒ `--remote-wait` ç¼–è¾‘ï¼ˆVim çš„å¤šæœåŠ¡å™¨ä¼šç”¨åˆ°è¿™ä¸€åŠŸèƒ½ï¼‰
- spellfileï¼šåœ¨æ‹¼å†™æ–‡ä»¶ç¼ºå¤±æ—¶è‡ªåŠ¨ä¸‹è½½ï¼ˆVim ä¸€èˆ¬åªå®‰è£…äº†è‹±æ–‡çš„æ‹¼å†™æ–‡ä»¶ï¼‰
- tarPluginï¼šç¼–è¾‘ï¼ˆå‹ç¼©çš„ï¼‰tar æ–‡ä»¶ï¼ˆæ³¨æ„ï¼Œå’Œ gzip æƒ…å†µä¸åŒï¼Œè¿™å„¿ä¸æ”¯æŒå†™å…¥ï¼‰
- tohtmlï¼šæŠŠè¯­æ³•åŠ äº®çš„ç»“æœè½¬æˆ HTMLï¼ˆè‡ªå·±æ‰“å¼€ä¸ªæ–‡ä»¶ï¼Œè¾“å…¥å‘½ä»¤â€œ`:TOhtml`â€å°±çŸ¥é“æ•ˆæœäº†ï¼‰
- vimballPluginï¼šåˆ›å»ºå’Œè§£å¼€ .vba æ–‡ä»¶ï¼ˆè¿™ä¸ªç›®å‰ä¹Ÿç•¥è¿‡æ—¶äº†ï¼Œæˆ‘ä»¬ä¸è®²ï¼‰
- zipPluginï¼šç¼–è¾‘ zip æ–‡ä»¶ï¼ˆå’Œ tar æ–‡ä»¶ä¸åŒï¼Œzip æ–‡ä»¶å¯æ”¯æŒå†™å…¥ï¼‰

é™¤äº† rrhelper å’Œ spellfile å±äºåŠŸèƒ½æ”¯æŒæ’ä»¶ï¼Œæ²¡æœ‰è‡ªå·±çš„å¸®åŠ©é¡µé¢ï¼Œå…¶ä»–åŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨â€œ`:help`â€å‘½ä»¤æ¥æŸ¥çœ‹å¸®åŠ©ã€‚æŸ¥çœ‹å¸®åŠ©æ—¶ï¼Œæ’ä»¶åç§°ä¸­çš„â€œPluginâ€åç¼€éœ€è¦å»æ‰ï¼šæŸ¥çœ‹ zip æ–‡ä»¶ç¼–è¾‘çš„å¸®åŠ©æ—¶ï¼Œåº”å½“ä½¿ç”¨â€œ[`:help zip`](https://yianwillis.github.io/vimcdoc/doc/pi_zip.html#zip)â€è€Œä¸æ˜¯â€œ`:help zipPlugin`â€ã€‚

ä»è¿™äº›æ’ä»¶å½“ä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥çœ‹åˆ° Vim çš„ä¸€äº›ç‰¹æ®Šå¨åŠ›äº†å§ã€‚ä¸‹é¢çš„åŠ¨å›¾é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°éƒ¨åˆ†æ’ä»¶åŠŸèƒ½çš„å±•ç¤ºï¼š

![Fig4.1](https://static001.geekbang.org/resource/image/40/7b/40016fac28fd6b3dd1361c4a9a39a07b.gif?wh=984%2A736 "æµè§ˆè¿œç¨‹ç›®å½•ï¼Œæ‰“å¼€ä¸€ä¸ª tar.gz æ–‡ä»¶")

![Fig4.2](https://static001.geekbang.org/resource/image/f8/c2/f8675428065868331a7376a64f2143c2.gif?wh=736%2A464 "ä½¿ç”¨ Vim æŸ¥çœ‹ man å¸®åŠ©")

### ç”¨æˆ·çš„ Vim é…ç½®ç›®å½•

Vim çš„å®‰è£…ç›®å½•ä½ æ˜¯ä¸åº”è¯¥å»ä¿®æ”¹çš„ã€‚é¦–å…ˆï¼Œä½ å¯èƒ½æ²¡æœ‰æƒé™å»ä¿®æ”¹è¿™ä¸ªç›®å½•ï¼›å…¶æ¬¡ï¼Œå³ä½¿ä½ æœ‰ä¿®æ”¹æƒé™ï¼Œè¿™ä¸ªç›®å½•ä¼šåœ¨ Vim å‡çº§æ—¶è¢«è¦†ç›–ï¼Œä½ åšçš„ä¿®æ”¹ä¹Ÿä¼šä¸¢å¤±ã€‚ç”¨æˆ·è‡ªå·±çš„é…ç½®åº”å½“æ”¾åœ¨è‡ªå·±çš„ç›®å½•ä¸‹ï¼Œè¿™ä¹Ÿå°±æ˜¯ç”¨æˆ·è‡ªå·±çš„ä¸»ç›®å½•ä¸‹çš„ Vim é…ç½®ç›®å½•ï¼ˆUnix ä¸‹çš„ .vimï¼ŒWindows ä¸‹çš„ vimfilesï¼‰ã€‚è¿™ä¸ªç›®å½•åº”å’Œ Vim å®‰è£…ç›®å½•ä¸‹çš„è¿è¡Œæ”¯æŒæ–‡ä»¶ç›®å½•æœ‰ç›¸åŒçš„ç»“æ„ï¼Œä½†ä¸‹é¢çš„å­ç›®å½•ä½ åœ¨éœ€è¦ä¿®æ”¹ Vim çš„ç›¸å…³è¡Œä¸ºæ—¶æ‰æœ‰å¿…è¦åˆ›å»ºã€‚å¦‚æœä¸€ä¸ªåŒåæ–‡ä»¶å‡ºç°ç”¨æˆ·è‡ªå·±çš„ Vim é…ç½®ç›®å½•é‡Œå’Œ Vim çš„å®‰è£…ç›®å½•é‡Œï¼Œç”¨æˆ·çš„æ–‡ä»¶ä¼˜å…ˆã€‚

æ¢å¥è¯è¯´ï¼Œä¿®æ”¹ Vim è¡Œä¸ºæœ€ç®€å•çš„ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªç³»ç»Ÿçš„è¿è¡Œæ”¯æŒæ–‡ä»¶å¤åˆ¶åˆ°è‡ªå·±çš„ Vim é…ç½®ç›®å½•ä¸‹çš„ç›¸åŒä½ç½®ï¼Œç„¶åä¿®æ”¹å…¶å†…å®¹ã€‚æˆ‘è‡ªå·±å¸¸å¸¸ç”¨è¿™ç§æ–¹å¼æ¥ç²¾è°ƒ Vim çš„è¯­æ³•åŠ äº®ã€‚

æ˜¾ç„¶ï¼Œè¿™ç§æ–¹å¼çš„ç¼ºç‚¹ï¼ˆåœ¨é€‚å½“çš„æ—¶å€™ä¹Ÿæ˜¯ä¼˜ç‚¹ï¼‰æ˜¯ï¼Œå¦‚æœ Vim çš„è¿è¡Œæ”¯æŒæ–‡ä»¶åæ¥è¢«ä¿®æ”¹/æ›´æ–°äº†ï¼Œä½ ä¹Ÿä¼šç»§ç»­ä½¿ç”¨ä½ è‡ªå·±ç›®å½•ä¸‹çš„è€ç‰ˆæœ¬ä¿®æ”¹ç‰ˆã€‚å¦‚æœä½ çš„ä¿®æ”¹ä¸åªæ˜¯ä½ è‡ªå·±çš„ä¸´æ—¶æ–¹æ¡ˆã€åŒæ—¶ä¹Ÿé€‚åˆä»–äººçš„è¯ï¼Œæœ€ä½³åšæ³•è¿˜æ˜¯ç»™ Vim é¡¹ç›®æäº¤è¡¥ä¸ï¼Œè®©å…¶ä»–æ‰€æœ‰äººéƒ½èƒ½ç”¨ä¸Šä½ çš„ä¿®æ”¹ï¼Œè¿™æ ·æ‰æ˜¯å¼€æºçš„æœ€ä½³ä½¿ç”¨æ–¹å¼ã€‚

å…³äº Vim çš„å…¬ç”¨è„šæœ¬ï¼Œè¿™å„¿å†å¤šè¯´å‡ å¥ã€‚Vim çš„ç½‘ç«™è¿‡å»æ˜¯ç”¨æ¥é›†ä¸­è·å–å„ç§è„šæœ¬â€”â€”å¦‚æ’ä»¶å’Œé…è‰²æ–¹æ¡ˆâ€”â€”çš„åœ°æ–¹ï¼Œè€Œ getscriptPlugin å¯ä»¥å¸®åŠ©ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚ä»Šå¤©ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä½† Git å’Œ GitHub çš„å¹¿æ³›ä½¿ç”¨å·²ç»æ”¹å˜äº†äººä»¬è·å–å’Œæ›´æ–°è„šæœ¬çš„æ–¹å¼ã€‚ç°åœ¨ï¼Œæœ€ä¸»æµçš„åˆ†å‘ Vim è„šæœ¬çš„æ–¹å¼æ˜¯åˆ©ç”¨ GitHubï¼Œè€Œç”¨æˆ·åˆ™ä½¿ç”¨åŒ…ç®¡ç†å™¨æ¥è°ƒç”¨ Git ä» GitHubï¼ˆæˆ–ç±»ä¼¼çš„ Git åº“ï¼‰è·å–å’Œæ›´æ–°è„šæœ¬ï¼Œä¸‹é¢æˆ‘ä»¬å¾ˆå¿«å°±ä¼šè®²åˆ°ã€‚

ç†è§£äº† Vim çš„ç›®å½•ç»“æ„ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ Vim 8 çš„æ–°åŠŸèƒ½ã€‚

## Vim 8 æ–°åŠŸèƒ½

Vim æ˜¯ä¸€ä¸ªæŒç»­æ”¹è¿›ä¸­çš„åº”ç”¨ç¨‹åºã€‚ä» Vim 8.1ï¼ˆ2018 å¹´ 5 æœˆ 17 æ—¥ï¼‰åˆ° Vim 8.2ï¼ˆ2019 å¹´ 12 æœˆ 12æ—¥ï¼‰ï¼ŒVim æœ‰ 2424 ä¸ªè¡¥ä¸ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¹³å‡æ¯å¤©è¶…è¿‡ 4 ä¸ªè¡¥ä¸ã€‚å¾ˆå¤š Vim 8 é‡Œçš„å¤§åŠŸèƒ½ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§å¼•å…¥ï¼Œè€Œæ˜¯åœ¨è¡¥ä¸ä¸­æ…¢æ…¢å¼•å…¥çš„ã€‚æ¯”å¦‚ï¼ŒVim é‡Œç°åœ¨æœ‰ç»ˆç«¯æ”¯æŒï¼Œè¿™ä¸ªåŠŸèƒ½ä» Vim 8.0.0693 å¼€å§‹å¼•å…¥ï¼Œåˆ°äº† Vim 8.1ï¼Œæˆä¸ºä¸€ä¸ªæ­£å¼çš„å¤§åŠŸèƒ½ã€‚

ç«™åœ¨æˆ‘ä¸ªäººçš„è§’åº¦çœ‹ï¼Œä» Vim 7.4 åˆ° Vim 8.2ï¼Œæœ€å¤§çš„æ–°åŠŸèƒ½æ˜¯ï¼š

- Vim è½¯ä»¶åŒ…çš„æ”¯æŒï¼ˆâ€œ[`:help packages`](https://yianwillis.github.io/vimcdoc/doc/repeat.html#packages)â€ï¼‰
- å¼‚æ­¥ä»»åŠ¡æ”¯æŒï¼ˆâ€œ[`:help channel`](https://yianwillis.github.io/vimcdoc/doc/channel.html)â€ã€â€œ[`:help job`](https://yianwillis.github.io/vimcdoc/doc/channel.html#job)â€å’Œâ€œ[`:help timers`](https://yianwillis.github.io/vimcdoc/doc/eval.html#timers)â€ï¼‰
- ç»ˆç«¯æ”¯æŒï¼ˆâ€œ[`:help terminal`](https://yianwillis.github.io/vimcdoc/doc/terminal.html)â€ï¼‰

ä»Šå¤©æˆ‘ä»¬å°±é‡ç‚¹è®²ä¸€ä¸‹ Vim è½¯ä»¶åŒ…ã€‚è¿™æ˜¯ Vim 8 é‡Œå¸¦æ¥çš„ä¸€ä¸ªé‡è¦åŠŸèƒ½ï¼Œä¹Ÿè®©æˆ‘ä»¬åœ¨æ‰©å±• Vim çš„æ—¶å€™å˜å¾—æ›´æ–¹ä¾¿äº†ã€‚

### Vim è½¯ä»¶åŒ…

Vim çš„ç›®å½•ç»“æ„æœ‰ç‚¹ä¼ ç»Ÿ Unix å¼ï¼šä¸€ä¸ªåŠŸèƒ½ç”¨åˆ°çš„æ–‡ä»¶å¯èƒ½ä¼šåˆ†æ•£åœ¨å¤šä¸ªç›®å½•ä¸‹ã€‚å°±åƒä¼ ç»Ÿ Unix ä¸Š Vim çš„æ–‡ä»¶å¯èƒ½åˆ†æ•£åœ¨ /usr/binã€/usr/share/manã€/usr/share/vim ç­‰ç›®å½•ä¸‹ä¸€æ ·ï¼Œä¸€ä¸ª Vim çš„æ’ä»¶ï¼ˆä¸¥æ ¼æ¥è®²ï¼Œåº”è¯¥å«åŒ…ï¼‰é€šå¸¸ä¹Ÿä¼šåˆ†æ•£åœ¨å¤šä¸ªç›®å½•ä¸‹ï¼š

- æ’ä»¶çš„ä¸»ä½“é€šå¸¸åœ¨ plugin ç›®å½•ä¸‹
- æ’ä»¶çš„å¸®åŠ©æ–‡ä»¶åœ¨ doc ç›®å½•ä¸‹
- æœ‰äº›æ’ä»¶åªå¯¹æŸäº›æ–‡ä»¶ç±»å‹æœ‰æ•ˆï¼Œä¼šæœ‰æ–‡ä»¶æ”¾åœ¨ ftplugin ç›®å½•ä¸‹
- æœ‰äº›æ’ä»¶æœ‰è‡ªå·±çš„æ–‡ä»¶ç±»å‹æ£€æµ‹è§„åˆ™ï¼Œä¼šæœ‰æ–‡ä»¶æ”¾åœ¨ ftdetect ç›®å½•ä¸‹
- æœ‰äº›æ’ä»¶æœ‰ç‰¹æ®Šçš„è¯­æ³•åŠ äº®ï¼Œä¼šæœ‰æ–‡ä»¶æ”¾åœ¨ syntax ç›®å½•ä¸‹
- â€¦â€¦

ä»¥å‰æˆ‘ä»¬å®‰è£…æ’ä»¶ï¼Œä¸€èˆ¬æ˜¯ä¸€æ¬¡æ€§å®‰è£…åå°±ä¸ç®¡äº†ã€‚å®‰è£…è¿‡ç¨‹åŸºæœ¬ä¸Šå°±æ˜¯åˆ° .vim ç›®å½•ï¼ˆWindows ä¸Šæ˜¯ vimfiles ç›®å½•ï¼‰ä¸‹ï¼Œè§£å‡ºå‹ç¼©åŒ…çš„å†…å®¹ï¼Œç„¶åæ‰§è¡Œ `vim -c 'helptags doc|q'` ç”Ÿæˆå¸®åŠ©æ–‡ä»¶çš„ç´¢å¼•ã€‚åˆ°äº†â€œäº’è”ç½‘å¼æ›´æ–°â€çš„å¹´ä»£ï¼Œè¿™ç§æ–¹å¼å°±æ˜¾å¾—è½ä¼äº†ã€‚å°¤å…¶ç³Ÿç³•çš„åœ°æ–¹åœ¨äºï¼Œå®ƒæ˜¯æŒ‰æ–‡ä»¶ç±»å‹æ¥ç»„ç»‡ç›®å½•çš„ï¼Œè€Œä¸æ˜¯æŒ‰ç›¸å…³æ€§ï¼Œè¿™å°±æ²¡æ³•ç”¨ Git æ¥ç®¡ç†äº†ã€‚

Vim ä¸Šåæ¥å°±å‡ºç°äº†ä¸€äº›åŒ…ç®¡ç†å™¨ï¼Œå®ƒä»¬çš„åŸºæœ¬æ¨¡å¼éƒ½æ˜¯ç›¸é€šçš„ï¼šæ¯ä¸ªåŒ…æœ‰è‡ªå·±çš„ç›®å½•ï¼Œç„¶åè¿™äº›ç›®å½•ä¼šè¢«åŠ åˆ° Vim çš„è¿è¡Œæ—¶è·¯å¾„ï¼ˆ`runtimepath`ï¼‰é€‰é¡¹é‡Œã€‚æœ€æ—©çš„ `runtimepath` è¾ƒä¸ºç®€å•ï¼Œåœ¨ Unix ä¸Šç¼ºçœä¸ºï¼š

> `$HOME/.vim,`  
> `$VIM/vimfiles,`  
> `$VIMRUNTIME,`  
> `$VIM/vimfiles/after,`  
> `$HOME/.vim/after`

è€Œåœ¨æœ‰äº†åŒ…ç®¡ç†å™¨ä¹‹åï¼Œ`runtimepath` å°±ä¼šéå¸¸å¤æ‚ï¼Œæ¯ä¸ªåŒ…éƒ½ä¼šå¢åŠ ä¸€ä¸ªè‡ªå·±çš„ç›®å½•è¿›å»ã€‚ä½†æ˜¯ï¼Œå¥½å¤„ä¹Ÿæ˜¯éå¸¸æ˜æ˜¾çš„ï¼ŒåŒ…çš„ç®¡ç†å˜å¾—éå¸¸æ–¹ä¾¿ã€‚ä» Vim 8 å¼€å§‹ï¼ŒVim å®˜æ–¹ä¹Ÿé‡‡ç”¨äº†ç±»ä¼¼çš„ä½“ç³»ã€‚Vim ä¼šåœ¨ç”¨æˆ·çš„é…ç½®ç›®å½•ï¼ˆUnix ä¸‹æ˜¯ `$HOME/.vim` ï¼ŒWindows ä¸‹æ˜¯ `$HOME/vimfiles` ï¼‰ä¸‹è¯†åˆ«åå­—å« pack çš„ç›®å½•ï¼Œå¹¶åœ¨è¿™ä¸ªç›®å½•çš„å­ç›®å½•çš„ start å’Œ opt ç›®å½•ä¸‹å¯»æ‰¾åŒ…çš„ç›®å½•ã€‚

å¬ç€æœ‰ç‚¹ç»•å§ï¼Ÿæˆ‘ä»¬çœ‹ä¸€ä¸ªå®é™…çš„ Vim é…ç½®ç›®å½•çš„ç»“æ„å°±æ¸…æ¥šäº†ï¼š

```text
.
â”œâ”€â”€ colors
â”œâ”€â”€ doc
â”œâ”€â”€ pack
â”‚   â”œâ”€â”€ minpac
â”‚   â”‚   â”œâ”€â”€ opt
â”‚   â”‚   â”‚   â”œâ”€â”€ minpac
â”‚   â”‚   â”‚   â”œâ”€â”€ vim-airline
â”‚   â”‚   â”‚   â””â”€â”€ vimcdoc
â”‚   â”‚   â””â”€â”€ start
â”‚   â”‚       â”œâ”€â”€ VimExplorer
â”‚   â”‚       â”œâ”€â”€ asyncrun.vim
â”‚   â”‚       â”œâ”€â”€ fzf.vim
â”‚   â”‚       â”œâ”€â”€ gruvbox
â”‚   â”‚       â”œâ”€â”€ killersheep
â”‚   â”‚       â”œâ”€â”€ nerdcommenter
â”‚   â”‚       â”œâ”€â”€ nerdtree
â”‚   â”‚       â”œâ”€â”€ tagbar
â”‚   â”‚       â”œâ”€â”€ undotree
â”‚   â”‚       â”œâ”€â”€ vim-fugitive
â”‚   â”‚       â”œâ”€â”€ vim-matrix-screensaver
â”‚   â”‚       â”œâ”€â”€ vim-rainbow
â”‚   â”‚       â”œâ”€â”€ vim-repeat
â”‚   â”‚       â”œâ”€â”€ vim-rhubarb
â”‚   â”‚       â””â”€â”€ vim-surround
â”‚   â””â”€â”€ my
â”‚       â”œâ”€â”€ opt
â”‚       â”‚   â”œâ”€â”€ YouCompleteMe
â”‚       â”‚   â”œâ”€â”€ ale
â”‚       â”‚   â”œâ”€â”€ clang_complete
â”‚       â”‚   â”œâ”€â”€ cvsmenu
â”‚       â”‚   â””â”€â”€ syntastic
â”‚       â””â”€â”€ start
â”‚           â”œâ”€â”€ vim-gitgutter
â”‚           â””â”€â”€ ycmconf
â”œâ”€â”€ plugin
â”œâ”€â”€ syntax
â””â”€â”€ undodir
```

å¯ä»¥çœ‹åˆ°ï¼Œpack ç›®å½•ä¸‹æœ‰ minpac å’Œ my ä¸¤ä¸ªå­ç›®å½•ï¼ˆè¿™äº›åå­— Vim ä¸å…³å¿ƒï¼‰ï¼Œæ¯ä¸ªç›®å½•ä¸‹é¢åˆæœ‰ opt å’Œ start ä¸¤ä¸ªå­ç›®å½•ï¼Œå†ä¸‹é¢å°±æ˜¯æ¯ä¸ªåŒ…è‡ªå·±çš„ç›®å½•äº†ï¼Œé‡Œé¢åˆå¯ä»¥æœ‰è‡ªå·±çš„ä¸€å¥— colorsã€docã€plugin è¿™æ ·çš„å­ç›®å½•ï¼Œè¿™æ ·å°±æ–¹ä¾¿ç®¡ç†äº†ã€‚Vim 8 åœ¨å¯åŠ¨æ—¶ä¼šåŠ è½½æ‰€æœ‰ pack/\*/start ä¸‹é¢çš„åŒ…ï¼Œè€Œç”¨æˆ·å¯ä»¥ç”¨ `:packadd` å‘½ä»¤æ¥åŠ è½½æŸä¸ª opt ç›®å½•ä¸‹çš„åŒ…ï¼Œå¦‚ `:packadd vimcdoc` å‘½ä»¤å¯åŠ è½½ vimcdoc åŒ…ï¼Œæ¥æ˜¾ç¤ºä¸­æ–‡å¸®åŠ©ä¿¡æ¯ã€‚

æœ‰äº†è¿™æ ·çš„ç›®å½•ç»“æ„ï¼Œç”¨æˆ·è¦è‡ªå·±å®‰è£…ã€ç®¡ç†åŒ…å°±æ–¹ä¾¿å¤šäº†ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ¨èä½¿ç”¨ä¸€ä¸ªåŒ…ç®¡ç†å™¨ã€‚åŒ…ç®¡ç†å™¨å¯ä»¥å¸¦æ¥ä¸‹é¢çš„å¥½å¤„ï¼š

- æ ¹æ®æ–‡æœ¬çš„é…ç½®ï¼ˆä¸€èˆ¬å†™åœ¨ vimrc é…ç½®æ–‡ä»¶é‡Œï¼‰å†³å®šè¦å®‰è£…å“ªäº›åŒ…
- è‡ªåŠ¨åŒ–å®‰è£…ã€å‡çº§å’Œå¸è½½ï¼ŒåŒ…æ‹¬å¸®åŠ©æ–‡ä»¶çš„ç´¢å¼•ç”Ÿæˆ

åœ¨æˆ‘ä»¬è¿™é—¨è¯¾ç¨‹é‡Œï¼Œæˆ‘ä¼šä½¿ç”¨ minpacï¼Œä¸€ä¸ªåˆ©ç”¨ Vim 8 åŠŸèƒ½çš„å°å·§çš„åŒ…ç®¡ç†å™¨ã€‚å¦‚æœä½ å·²ç»åœ¨ä½¿ç”¨å…¶ä»–åŒ…ç®¡ç†å™¨ï¼Œæˆ‘æ¥ä¸‹æ¥è®²çš„ä¸¤ä¸ªå°èŠ‚ä½ å¯ä»¥è€ƒè™‘è·³è¿‡ã€‚

### å®‰è£… minpac

æ ¹æ® minpac ç½‘é¡µä¸Šçš„è¯´æ˜ï¼Œæˆ‘ä»¬åœ¨ Windows ä¸‹å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š

```batch
cd /d %USERPROFILE%
git clone https://github.com/k-takata/minpac.git ^
    vimfiles\pack\minpac\opt\minpac
```

åœ¨ Linux å’Œ macOS ä¸‹åˆ™å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š

```bash
git clone https://github.com/k-takata/minpac.git \
    ~/.vim/pack/minpac/opt/minpac
```

ç„¶åï¼Œæˆ‘ä»¬åœ¨ vimrc é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼ˆå…ˆä¸ç”¨ç†è§£å…¶å«ä¹‰ï¼‰ï¼š

```vim
if exists('*minpac#init')
  " Minpac is loaded.
  call minpac#init()
  call minpac#add('k-takata/minpac', {'type': 'opt'})

  " Other plugins
endif

if has('eval')
  " Minpac commands
  command! PackUpdate packadd minpac | source $MYVIMRC | call minpac#update('', {'do': 'call minpac#status()'})
  command! PackClean  packadd minpac | source $MYVIMRC | call minpac#clean()
  command! PackStatus packadd minpac | source $MYVIMRC | call minpac#status()
endif
```

å­˜ç›˜ã€é‡å¯ Vim ä¹‹åï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸‰ä¸ªæ–°çš„å‘½ä»¤ï¼Œå¯ä»¥ç”¨æ¥æ›´æ–°ï¼ˆå®‰è£…ï¼‰åŒ…ã€æ¸…ç†åŒ…å’Œæ£€æŸ¥å½“å‰åŒ…çš„çŠ¶æ€ã€‚

### é€šè¿‡ minpac å®‰è£…æ‰©å±•åŒ…

ä¸‹é¢æˆ‘ä»¬å°±æ¥è¯•éªŒä¸€ä¸‹é€šè¿‡ minpac æ¥å®‰è£…æ‰©å±•åŒ…ã€‚æˆ‘ä»¬åœ¨â€œOther pluginsâ€é‚£è¡Œä¸‹é¢åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š

```vim
call minpac#add('tpope/vim-eunuch')
```

ä¿å­˜æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨ `:PackUpdate` å‘½ä»¤ã€‚ç•¥å¾®ç­‰å¾…ä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„ç•Œé¢ï¼š

![Fig4.3](https://static001.geekbang.org/resource/image/10/4c/10885cf1c7406883c70838015971fb4c.png?wh=1352%2A928 "æ’ä»¶å®‰è£…ä¹‹åçš„çŠ¶æ€ç•Œé¢")

è¿™å°±è¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚æˆ‘ä»¬å¯ä»¥æŒ‰ `q` æ¥é€€å‡ºè¿™ä¸ªçŠ¶æ€çª—å£ã€‚

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ `:PackStatus` æ¥é‡æ–°æ‰“å¼€è¿™ä¸ªçŠ¶æ€çª—å£ã€‚è¦åˆ é™¤ä¸€ä¸ªæ’ä»¶ï¼Œåœ¨ vimrc ä¸­åˆ é™¤å¯¹åº”çš„é‚£è¡Œï¼Œä¿å­˜ï¼Œç„¶åä½¿ç”¨ `:PackClean` å‘½ä»¤å°±å¯ä»¥äº†ã€‚æ„¿æ„çš„è¯ï¼Œä½ ç°åœ¨å°±å¯ä»¥è¯•ä¸€ä¸‹ã€‚

### æœ€è¿‘ä½¿ç”¨çš„æ–‡ä»¶

å®‰è£…å¥½ Vim è½¯ä»¶åŒ…ä¹‹åï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æ¥å®ç°ä¸€ä¸ªå°åŠŸèƒ½ã€‚

Vim çš„ç¼ºçœå®‰è£…ç¼ºäº†ä¸€ä¸ªå¾ˆå¤šç¼–è¾‘å™¨éƒ½æœ‰çš„åŠŸèƒ½ï¼šæœ€è¿‘ä½¿ç”¨çš„æ–‡ä»¶ã€‚

æˆ‘ä»¬å°±æŠŠè¿™ä¸ªåŠŸèƒ½è¡¥ä¸Šå§ã€‚ä½ åªéœ€è¦æŒ‰ç…§ä¸Šä¸€èŠ‚çš„æ­¥éª¤å®‰è£… yegappan/mru åŒ…å°±å¯ä»¥äº†ï¼ˆMRU ä»£è¡¨ most recently usedï¼‰ã€‚å®‰è£…å®Œä¹‹åï¼Œé‡æ–°æ‰“å¼€ vimrc æ–‡ä»¶ï¼Œä½ å°±å¯ä»¥åœ¨å›¾å½¢ç•Œé¢é‡Œçœ‹åˆ°ä¸‹é¢çš„èœå•äº†ï¼š

![Fig4.4](https://static001.geekbang.org/resource/image/2c/d6/2c44030349043755a98f9e237ae534d6.png?wh=1318%2A952 "æœ€è¿‘æ–‡ä»¶çš„èœå•")

ä¼°è®¡ä½ å¾ˆå¯èƒ½ä¼šé—®ï¼šå¦‚æœæ˜¯è¿œç¨‹è¿æ¥ï¼Œæ²¡æœ‰å›¾å½¢ç•Œé¢æ€ä¹ˆåŠï¼Ÿ

æˆ‘ä»¬ä»å¯ä»¥åœ¨æ–‡æœ¬ç•Œé¢ä¸Šå”¤èµ·èœå•ï¼Œè™½ç„¶ç¾è§‚ç¨‹åº¦ä¼šå·®ç‚¹ã€‚ä½ éœ€è¦åœ¨ vimrc é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼ˆåŒæ ·ï¼Œæˆ‘ä»¬æš‚æ—¶å…ˆä¸ç”¨å»ç†è§£å…¶æ„ä¹‰ï¼‰ï¼š

```vim
if !has('gui_running')
  " è®¾ç½®æ–‡æœ¬èœå•
  if has('wildmenu')
    set wildmenu
    set cpoptions-=<
    set wildcharm=<C-Z>
    nnoremap <F10>      :emenu <C-Z>
    inoremap <F10> <C-O>:emenu <C-Z>
  endif
endif
```

åœ¨å¢åŠ ä¸Šé¢çš„é…ç½®ä¹‹åï¼Œä½ å°±å¯ä»¥ä½¿ç”¨é”® `<F10>`ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ¢ç”¨å…¶ä»–é”®ï¼‰åŠ  `<Tab>` æ¥å”¤èµ· Vim çš„æ–‡æœ¬èœå•äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Fig4.5](https://static001.geekbang.org/resource/image/f4/d8/f4435e4c42a7cf2be74f563e4f0b0fd8.gif?wh=984%2A736 "æ–‡æœ¬èœå•çš„ä½¿ç”¨")

## å†…å®¹å°ç»“

æœ¬è®²æˆ‘ä»¬è®¨è®ºäº† Vim 8 ä¸‹çš„åŸºæœ¬ç›®å½•ç»“æ„å’Œ Vim 8 çš„è½¯ä»¶åŒ…ã€‚

ä½ éœ€è¦çŸ¥é“ï¼ŒVim çš„è¿è¡Œæ”¯æŒç›®å½•å’Œç”¨æˆ·é…ç½®ç›®å½•æœ‰ç›¸ä¼¼çš„ç»“æ„ï¼Œç”¨æˆ·é…ç½®ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼˜å…ˆäº Vim å®‰è£…ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚å› æ­¤ï¼Œåœ¨ç”¨æˆ·é…ç½®ç›®å½•é‡Œè¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥åœ¨ Vim ç‰ˆæœ¬æœ‰å˜åŒ–æ—¶ä¿ç•™è‡ªå·±çš„å®šåˆ¶è¡Œä¸ºã€‚

è€Œ Vim 8 çš„è½¯ä»¶åŒ…ä½¿å¾—ç»´æŠ¤ Vim çš„æ‰©å±•å˜å¾—æ›´ä¸ºå®¹æ˜“ï¼Œæ¯ä¸€ä¸ª Vim è½¯ä»¶åŒ…éƒ½æ˜¯ç‹¬ç«‹çš„ç›®å½•ï¼Œå¯ä»¥å•ç‹¬å®‰è£…ã€ä¿®æ”¹å’Œå‡çº§ã€‚åŒ…ç®¡ç†å™¨ï¼Œå¦‚ minpacï¼Œåˆ™å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿åœ°å®‰è£…å’Œç®¡ç† Vim è½¯ä»¶åŒ…ã€‚

å¯¹äºé…ç½®æ–‡ä»¶ï¼Œé€‚ç”¨äºæœ¬è®²çš„å†…å®¹æ ‡ç­¾æ˜¯ `l4-unix` å’Œ `l4-windows`ã€‚

## è¯¾åç»ƒä¹ 

è¯·ä»”ç»†æŸ¥çœ‹ä¸€ä¸‹ä½ çš„ Vim å®‰è£…ç›®å½•ä¸‹é¢çš„ç›®å½•ç»“æ„ï¼Œå¯¹ Vim çš„ç›®å½•ç»“æ„æœ‰ä¸€ä¸ªç›´è§‚çš„ç†è§£ã€‚ä½ ä¹Ÿå¯ä»¥æ‰“å¼€ä¸€äº› .vim æ–‡ä»¶æ¥çœ‹çœ‹ï¼Œåˆæ­¥æ„Ÿå—ä¸€ä¸‹ Vim è„šæœ¬ï¼šå¦‚ filetype.vim é‡Œæœ‰ç€ Vim å¦‚ä½•è¯†åˆ«æ–‡ä»¶ç±»å‹çš„é€»è¾‘ï¼Œå€¼å¾—å¤§è‡´äº†è§£ä¸€ä¸‹â€”â€”Vim å¹¶ä¸ä»…ä»…æ˜¯ç”¨åç¼€æ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹çš„ï¼

å¦å¤–ï¼Œä¸€å®šè¦æ ¹æ®æ–‡ä¸­çš„è¯´æ˜ï¼Œå®è·µä¸€ä¸‹å®‰è£… minpacï¼ŒåŠä½¿ç”¨ minpac æ¥å®‰è£…å…¶ä»– Vim è½¯ä»¶åŒ…ï¼ˆé™¤éä½ å·²ç»åœ¨ä½¿ç”¨å¦å¤–ä¸€ä¸ªåŒ…ç®¡ç†å™¨äº†ï¼‰ã€‚æˆ‘ä»¬åé¢ä¼šç»å¸¸æ€§åœ°å®‰è£…æ–°çš„è½¯ä»¶åŒ…ï¼Œè¿™ä¸€éƒ¨åˆ†æ“ä½œä¸€å®šéœ€è¦ç‰¢ç‰¢æŒæ¡ã€‚

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·ç•™è¨€å’Œæˆ‘äº¤æµã€è®¨è®ºã€‚æˆ‘ä»¬ä¸‹ä¸€è®²è§ï¼
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ15ï¼‰</strong></div><ul>
<li><span>å´å’ç‚œ</span> ğŸ‘ï¼ˆ7ï¼‰ ğŸ’¬ï¼ˆ6ï¼‰<p>ç”±äº minpac æœ¬èº«çš„ä¿®æ”¹ï¼Œæ–‡ä¸­ç»™å‡ºçš„éœ€è¦åŠ åˆ° .vimrc ä¸­çš„ä»£ç ç›®å‰åº”æ”¹æˆï¼š

if exists(&#39;g:loaded_minpac&#39;)
  &quot; Minpac is loaded.
  call minpac#init()
  call minpac#add(&#39;k-takata&#47;minpac&#39;, {&#39;type&#39;: &#39;opt&#39;})

  &quot; Other plugins
endif

if has(&#39;eval&#39;)
  &quot; Minpac commands
  command! PackUpdate packadd minpac | source $MYVIMRC | call minpac#update()
  command! PackClean  packadd minpac | source $MYVIMRC | call minpac#clean()
  command! PackStatus packadd minpac | source $MYVIMRC | call minpac#status()
endif

è¯·å¤§å®¶æ³¨æ„ä¸€ä¸‹ã€‚

ç¤ºä¾‹çš„ Git åº“é‡Œçš„æŒ‡å®šæ ‡ç­¾ä¸Šä»ç„¶æ˜¯è€çš„ä»£ç ã€‚æœ€æ–°çš„ä»£ç åˆ™å·²ç»è°ƒæ•´è¿‡ã€‚</p>2020-10-25</li><br/><li><span>pyhhou</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>èµï¼Œç†æ¸…äº† vim çš„æ–‡ä»¶å’Œé…ç½®æ¶æ„ï¼Œä»¥åŠ .vim æ–‡ä»¶çš„ç”±æ¥ã€‚

å¦å¤–è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ Mac ä¸‹ï¼Œæˆ‘çœ‹åˆ° vim æ˜¯æœ‰ä¸¤ä¸ªå®‰è£…ä½ç½®çš„ï¼š

&#47;usr&#47;share&#47;vim&#47;vim82
&#47;usr&#47;local&#47;opt&#47;macvim&#47;MacVim.app&#47;Contents&#47;Resources&#47;vim&#47;runtime

æˆ‘åœ¨æƒ³ï¼Œä¹‹å‰çš„é…ç½®éƒ½æ˜¯åŸºäº Homebrew ä¸‹å®‰è£…çš„ macvimï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è€ƒè™‘å°† &#47;usr&#47;share&#47;vim&#47; ç›´æ¥ rm -rf åˆ é™¤æ‰ï¼Ÿé¿å…ä¸¤ä¸ªç‰ˆæœ¬çš„ vim é€ æˆæ··æ·†ï¼Ÿ
</p>2020-08-04</li><br/><li><span>åˆ†æ¸…äº‘æ·¡</span> ğŸ‘ï¼ˆ4ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>æ±‚é—®è€å¸ˆï¼Œæ–‡ç« ä¸­çš„ gif åŠ¨å›¾æœ‰ä»€ä¹ˆå·¥å…·åˆ¶ä½œçš„ï¼Œç‰¹åˆ«æ˜¯åŠ¨å›¾ä¸­ å¤§å¤§çš„æŒ‰é”®æç¤ºã€‚å¤šè°¢</p>2020-08-02</li><br/><li><span>å¥•</span> ğŸ‘ï¼ˆ3ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>æ€ä¹ˆæŸ¥çœ‹ runtimepath è¿™ä¸ªç¯å¢ƒå˜é‡çš„ï¼Ÿç›´æ¥ echo å‡ºæ¥æ˜¯ç©ºçš„</p>2020-08-02</li><br/><li><span>å¤§ç‹—çˆ±åƒé±¼</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>PackUpdateå‘½ä»¤åç­‰å¾ˆä¹…å¾ˆä¹…ï¼Œä¹Ÿæ²¡æœ‰å®‰è£…å¥½ï¼Œè¯·é—®ä¸‹è¿™æ˜¯æ€ä¹ˆå›äº‹å•Šï¼Ÿ</p>2020-10-18</li><br/><li><span>JRTx</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>æ¯æ¬¡æ‰§è¡ŒPackUpdateï¼ŒGVIMä¸‹æ–¹å°±ä¼šæç¤º&quot;Minpac has not been initialized. Use the default val Press ENTER or type command to continue&quot;
ç³»ç»Ÿç¯å¢ƒï¼šWindows 7 æ——èˆ°ç‰ˆ
VIMç‰ˆæœ¬ï¼š8.2.1845
é…ç½®æ–‡ä»¶é‡‡ç”¨çš„tagæ˜¯l4-windowsã€‚ç»æŸ¥é˜…GitHubä¸Šçš„Minpacæºç å‘ç°ä¸æ­¤æ®µæºç æœ‰å…³
function! s:ensure_initialization() abort
  if !exists(&#39;g:minpac#opt&#39;)
    echohl WarningMsg
    echom &#39;Minpac has not been initialized. Use the default values.&#39;
    echohl None
    call minpac#init()
  endif
endfunction
å¯¹Vimscriptä¸ç†Ÿæ‚‰ï¼Œå¸Œæœ›è€å¸ˆèƒ½å¤ŸæŒ‡æ­£ã€‚</p>2020-10-20</li><br/><li><span>__@948CSheLL</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®vimä¸­çš„èœå•æ˜¯ä»€ä¹ˆï¼Œæˆ‘è¯¥å¦‚ä½•åœ¨vimä¸­æ˜¾ç¤ºå‡ºèœå•ï¼Ÿ</p>2020-08-13</li><br/><li><span>æå®¢é…±é…±</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>eunuch.vimæ’ä»¶å¾ˆå®ç”¨
:Remove: Delete a file on disk without E211: File no longer available.
:Delete: Delete a file on disk and the buffer too.
:Move: Rename a buffer and the file on disk simultaneously. See also :Rename, :Copy, and :Duplicate.
:Chmod: Change the permissions of the current file.
:Mkdir: Create a directory, defaulting to the parent of the current file.
:Cfind: Run find and load the results into the quickfix list.
:Clocate: Run locate and load the results into the quickfix list.
:Lfind&#47;:Llocate: Like above, but use the location list.
:Wall: Write every open window. Handy for kicking off tools like guard.
:SudoWrite: Write a privileged file with sudo.
:SudoEdit: Edit a privileged file with sudo.</p>2023-02-23</li><br/><li><span>bianf</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>æˆ‘åœ¨å°†ç•™è¨€ç¬¬ä¸€æ¡çš„è¯­å¥é…ç½®åˆ°.vimrcæ–‡ä»¶ä¸­åï¼Œæ‰§è¡Œå‘½ä»¤:PackUpdate,æç¤ºE117, æœªå®šä¹‰çš„å‡½æ•°ï¼Œminpac#update,è¯·é—®æ˜¯ä»€ä¹ˆåŸå› ï¼Œè¦å¦‚ä½•è§£å†³</p>2022-02-22</li><br/><li><span>æœ±é›¯</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>centos7 vim8.0 minpac rootç”¨æˆ¶å¯ä»¥å®‰è£æ’ä»¶ï¼Œä½†æ˜¯æ™®é€šç”¨æˆ¶ä¸èƒ½å®‰è£ï¼Œä¸€ç›´å ±éŒ¯minpac error(129) :
è€å¸«çµ¦çš„å…©å€‹é…ç½®å¶è®€æ²’æœ‰ç”¨ã€‚ã€‚ã€‚</p>2020-12-23</li><br/><li><span>dulp</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>macé‡Œé¢è®¾ç½®å”¤é†’èœå•é‚£å—ä»£ç æ²¡ç”¨</p>2020-12-18</li><br/><li><span>wangkx</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è€å¸ˆï¼Œå®‰è£…å®Œminpacåï¼Œæ·»åŠ å…¶ä»–æ’ä»¶ï¼Œåœ¨å‘½ä»¤æ¨¡å¼ä¸‹æ˜¾ç¤º
Minpac has not been initialized. Use the default values.

è¿™ä¸ªé—®é¢˜æ€ä¹ˆå¤„ç†å‘€ï¼Œä¸Šç½‘æ²¡æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ</p>2020-10-28</li><br/><li><span>chris</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>å®‰è£…å®Œ yegappan&#47;mru åŒ…å¯åŠ¨gvimå‘ç”ŸæŠ¥å¦‚ä¸‹é”™è¯¯, ä¸å½±å“mruåŠŸèƒ½çš„ä½¿ç”¨, ä½†å¥½å¤šå…¶ä»–èœå•ä¸è§äº†, è¯·é—®è€å¸ˆçŸ¥é“æ˜¯ä»€ä¹ˆé—®é¢˜å—?
å¤„ç† &#47;usr&#47;share&#47;vim&#47;vim81&#47;menu.vim æ—¶å‘ç”Ÿé”™è¯¯:
ç¬¬  129 è¡Œ:
E329: æ²¡æœ‰èœå• &quot;&amp;Print&quot;</p>2020-09-15</li><br/><li><span>è£•</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>ä½¿ç”¨ :PackUpdate å‘½ä»¤ ä¼šæŠ¥ä¸‹é¢é”™è¯¯ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆé—®é¢˜é˜¿

Error detected while processing function minpac#update:
line    2:
E117: Unknown function: minpac#impl#update
Press ENTER or type command to continue
</p>2020-08-31</li><br/><li><span>è€ç‹</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<p>Vimçš„å®‰è£…ç›®å½•æ˜¯ä»€ä¹ˆï¼Ÿç”¨æˆ·ç›®å½•åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>2020-08-29</li><br/>
</ul>