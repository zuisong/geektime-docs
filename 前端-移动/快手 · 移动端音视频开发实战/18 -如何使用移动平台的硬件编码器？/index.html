<!--geek time docs 🚀, MIT license-->


<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="极客时间文档">
      
      
        <meta name="author" content="zkep">
      
      
        <link rel="canonical" href="https://github.com/uaxe/geektime-docs/%E5%89%8D%E7%AB%AF-%E7%A7%BB%E5%8A%A8/%E5%BF%AB%E6%89%8B%20%C2%B7%20%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/18%20-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E7%A7%BB%E5%8A%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BC%96%E7%A0%81%E5%99%A8%EF%BC%9F/">
      
      
        <link rel="prev" href="../17-%20%E5%A6%82%E4%BD%95%E7%94%A8%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A0%81%E5%99%A8%E6%9D%A5%E7%BC%96%E7%A0%81%20H264%20%EF%BC%9F/">
      
      
        <link rel="next" href="../19-%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%EF%BC%9A%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90%E4%B8%8E%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">
      
      
      <link rel="icon" href="../../../None">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>18 如何使用移动平台的硬件编码器？ - 极客时间文档</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#android-mediacodec" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            


          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="极客时间文档" class="md-header__button md-logo" aria-label="极客时间文档" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            极客时间文档
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              18  如何使用移动平台的硬件编码器？
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/zkep/my-geektime" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    zkep/my-geektime
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../AI-%E5%A4%A7%E6%95%B0%E6%8D%AE/" class="md-tabs__link">
          
  
    
  
  AI-大数据

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E4%BA%A7%E5%93%81-%E8%BF%90%E8%90%A5/" class="md-tabs__link">
          
  
    
  
  产品-运营

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  前端-移动

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%90%8E%E7%AB%AF-%E6%9E%B6%E6%9E%84/" class="md-tabs__link">
          
  
    
  
  后端-架构

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%AE%A1%E7%90%86-%E6%88%90%E9%95%BF/" class="md-tabs__link">
          
  
    
  
  管理-成长

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="md-tabs__link">
          
  
    
  
  计算机基础

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%BF%90%E7%BB%B4-%E6%B5%8B%E8%AF%95/" class="md-tabs__link">
          
  
    
  
  运维-测试

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="极客时间文档" class="md-nav__button md-logo" aria-label="极客时间文档" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    极客时间文档
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zkep/my-geektime" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    zkep/my-geektime
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../AI-%E5%A4%A7%E6%95%B0%E6%8D%AE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AI-大数据
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E4%BA%A7%E5%93%81-%E8%BF%90%E8%90%A5/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    产品-运营
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    前端-移动
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            前端-移动
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Android%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/Android%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Android开发高手课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Flutter核心技术与实战
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../JavaScript%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/JavaScript%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    JavaScript核心原理解析
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../JavaScript%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%AF%BE/JavaScript%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    JavaScript进阶实战课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../React%20Hooks%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/React%20Hooks%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    React Hooks 核心原理与实战
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../React%20Native%20%E6%96%B0%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E8%AF%BE/React%20Native%20%E6%96%B0%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    React Native 新架构实战课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Serverless%E5%85%A5%E9%97%A8%E8%AF%BE/Serverless%E5%85%A5%E9%97%A8%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Serverless入门课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Vue%203%20%E4%BC%81%E4%B8%9A%E7%BA%A7%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E8%AF%BE/Vue%203%20%E4%BC%81%E4%B8%9A%E7%BA%A7%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Vue 3 企业级项目实战课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../WebAssembly%E5%85%A5%E9%97%A8%E8%AF%BE/WebAssembly%E5%85%A5%E9%97%A8%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    WebAssembly入门课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../iOS%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/iOS%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    iOS开发高手课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E4%BB%8E0%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/%E4%BB%8E0%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    从0打造音视频直播系统
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98%E8%AF%BE/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    前端全链路优化实战课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%9B%BE%E8%A7%A3%20Google%20V8/%E5%9B%BE%E8%A7%A3%20Google%20V8/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    图解 Google V8
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_15" checked>
        
          
          <label class="md-nav__link" for="__nav_3_15" id="__nav_3_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    快手 · 移动端音视频开发实战
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_15_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_15">
            <span class="md-nav__icon md-icon"></span>
            快手 · 移动端音视频开发实战
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E6%89%8B%20%C2%B7%20%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    快手 · 移动端音视频开发实战
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BC%80%E7%AF%87%E8%AF%8D-%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF%EF%BC%8C%E4%B8%BA%E4%B8%9A%E5%8A%A1%E8%B5%8B%E8%83%BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    开篇词 系统学习移动端音视频开发技术，为业务赋能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-iOS%E5%B9%B3%E5%8F%B0%E9%9F%B3%E9%A2%91%E6%B8%B2%E6%9F%93%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E4%BD%BF%E7%94%A8AudioQueue%E6%B8%B2%E6%9F%93%E9%9F%B3%E9%A2%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 iOS平台音频渲染（一）：使用AudioQueue渲染音频
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-iOS%E5%B9%B3%E5%8F%B0%E9%9F%B3%E9%A2%91%E6%B8%B2%E6%9F%93%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E4%BD%BF%E7%94%A8%20AudioUnit%20%E6%B8%B2%E6%9F%93%E9%9F%B3%E9%A2%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 iOS平台音频渲染（二）：使用 AudioUnit 渲染音频
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-Android%E5%B9%B3%E5%8F%B0%E9%9F%B3%E9%A2%91%E6%B8%B2%E6%9F%93%E4%B8%8E%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 Android平台音频渲染与技术选型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-%E7%A7%BB%E5%8A%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E8%A7%86%E9%A2%91%E6%B8%B2%E6%9F%93%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9AOpenGL%20ES%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 移动平台的视频渲染（一）：OpenGL ES基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-%E7%A7%BB%E5%8A%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E8%A7%86%E9%A2%91%E6%B8%B2%E6%9F%93%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9AOpenGL%20ES%E4%B8%8A%E4%B8%8B%E6%96%87%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 移动平台的视频渲染（二）：OpenGL ES上下文环境搭建
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-%E7%A7%BB%E5%8A%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E8%A7%86%E9%A2%91%E6%B8%B2%E6%9F%93%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9AOpenGL%20ES%E5%AE%9E%E6%93%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 移动平台的视频渲染（三）：OpenGL ES实操
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-%E6%92%AD%E6%94%BE%E5%99%A8%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90%E4%B8%8E%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 播放器项目实战（一）：场景分析与架构设计
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-%E6%92%AD%E6%94%BE%E5%99%A8%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E5%BA%95%E5%B1%82%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08 播放器项目实战（二）：底层核心模块的实现
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-%E6%92%AD%E6%94%BE%E5%99%A8%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9A%E8%AE%A9%E4%BD%A0%E7%9A%84%E6%92%AD%E6%94%BE%E5%99%A8%E8%B7%91%E8%B5%B7%E6%9D%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09 播放器项目实践（三）：让你的播放器跑起来
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-iOS%E5%B9%B3%E5%8F%B0%E9%9F%B3%E9%A2%91%E9%87%87%E9%9B%86%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8AudioQueue%E5%92%8CAudioUnit%E9%87%87%E9%9B%86%E9%9F%B3%E9%A2%91%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10 iOS平台音频采集：如何使用AudioQueue和AudioUnit采集音频？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-Android%20%E5%B9%B3%E5%8F%B0%E9%9F%B3%E9%A2%91%E9%87%87%E9%9B%86%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%20AudioRecord%20%E5%92%8C%20Oboe%20%E9%87%87%E9%9B%86%E9%9F%B3%E9%A2%91%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11 Android 平台音频采集：如何使用 AudioRecord 和 Oboe 采集音频？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-%E5%A6%82%E4%BD%95%E7%BC%96%E7%A0%81%E5%87%BA%E4%B8%80%E4%B8%AAAAC%E6%96%87%E4%BB%B6%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12 如何编码出一个AAC文件？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E7%A1%AC%E4%BB%B6%E7%BC%96%E7%A0%81%E5%99%A8%E6%9D%A5%E7%BC%96%E7%A0%81%20AAC%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13 如何使用硬件编码器来编码 AAC？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14%20-%20iOS%E5%B9%B3%E5%8F%B0%E5%A6%82%E4%BD%95%E9%87%87%E9%9B%86%E8%A7%86%E9%A2%91%E7%94%BB%E9%9D%A2%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14   iOS平台如何采集视频画面？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15%20-%20Android%E5%B9%B3%E5%8F%B0%E6%98%AF%E5%A6%82%E4%BD%95%E9%87%87%E9%9B%86%E8%A7%86%E9%A2%91%E7%94%BB%E9%9D%A2%E7%9A%84%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15   Android平台是如何采集视频画面的？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16%20-%E8%A7%86%E9%A2%91%E7%BC%96%E7%A0%81%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E4%B8%8EH.264%E5%B0%81%E8%A3%85%E6%A0%BC%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16  视频编码的工作原理与H.264封装格式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-%20%E5%A6%82%E4%BD%95%E7%94%A8%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A0%81%E5%99%A8%E6%9D%A5%E7%BC%96%E7%A0%81%20H264%20%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17  如何用软件编码器来编码 H264 ？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    18  如何使用移动平台的硬件编码器？
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    18  如何使用移动平台的硬件编码器？
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#android-mediacodec" class="md-nav__link">
    <span class="md-ellipsis">
      Android平台的硬件编码器 MediaCodec
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Android平台的硬件编码器 MediaCodec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      创建编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      编码数据
    </span>
  </a>
  
    <nav class="md-nav" aria-label="编码数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    <span class="md-ellipsis">
      把纹理ID送入编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h264" class="md-nav__link">
    <span class="md-ellipsis">
      拉取H264码流
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      销毁编码器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ios" class="md-nav__link">
    <span class="md-ellipsis">
      iOS平台的硬件编码器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="iOS平台的硬件编码器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#videotoolbox" class="md-nav__link">
    <span class="md-ellipsis">
      VideoToolbox硬件编码器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VideoToolbox硬件编码器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      输入与输出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      初始化与构建编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      编码视频帧
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      释放编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elimage" class="md-nav__link">
    <span class="md-ellipsis">
      把编码器集成到ELImage框架
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iosapi" class="md-nav__link">
    <span class="md-ellipsis">
      iOS高层次的硬件编解码API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      小结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      思考题
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../19-%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%EF%BC%9A%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90%E4%B8%8E%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19 视频录制项目实战：场景分析与架构设计
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%99%A8%E7%9A%84%E5%BA%95%E5%B1%82%E6%A8%A1%E5%9D%97%EF%BC%9F%EF%BC%88%E4%B8%8A%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20 如何实现视频录制器的底层模块？（上）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../21-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%99%A8%E7%9A%84%E5%BA%95%E5%B1%82%E6%A8%A1%E5%9D%97%EF%BC%9F%EF%BC%88%E4%B8%8B%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21 如何实现视频录制器的底层模块？（下）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../22-%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%EF%BC%9A%E8%AE%A9%E4%BD%A0%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8%E8%BF%90%E8%A1%8C%E8%B5%B7%E6%9D%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22 视频录制项目实战：让你的录制器运行起来
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%BB%93%E6%9D%9F%E8%AF%AD-%E8%B7%B3%E5%87%BA%E8%88%92%E9%80%82%E5%8C%BA%EF%BC%8C%E6%8B%A5%E6%8A%B1%E5%8F%98%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    结束语 跳出舒适区，拥抱变化
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9C%9F%E6%9C%AB%E6%B5%8B%E8%AF%95-%E6%9D%A5%E8%B5%B4%E4%B8%80%E5%9C%BA%E6%BB%A1%E5%88%86%E4%B9%8B%E7%BA%A6%EF%BC%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    期末测试 来赴一场满分之约！
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%BF%AB%E6%89%8B%20%C2%B7%20%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE/%E5%BF%AB%E6%89%8B%20%C2%B7%20%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    快手 · 音视频技术入门课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    搞定音频技术
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF/%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    攻克视频技术
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%9C%B1%E6%B6%9B%20%C2%B7%20Kotlin%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/%E6%9C%B1%E6%B6%9B%20%C2%B7%20Kotlin%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    朱涛 · Kotlin编程第一课
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    浏览器工作原理与实践
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E7%8E%A9%E8%BD%ACVue%203%E5%85%A8%E5%AE%B6%E6%A1%B6/%E7%8E%A9%E8%BD%ACVue%203%E5%85%A8%E5%AE%B6%E6%A1%B6/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    玩转Vue 3全家桶
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E7%8E%B0%E4%BB%A3React%20Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/%E7%8E%B0%E4%BB%A3React%20Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    现代React Web开发实战
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E8%AF%B4%E9%80%8F%E4%BD%8E%E4%BB%A3%E7%A0%81/%E8%AF%B4%E9%80%8F%E4%BD%8E%E4%BB%A3%E7%A0%81/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    说透低代码
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E8%B7%9F%E6%9C%88%E5%BD%B1%E5%AD%A6%E5%8F%AF%E8%A7%86%E5%8C%96/%E8%B7%9F%E6%9C%88%E5%BD%B1%E5%AD%A6%E5%8F%AF%E8%A7%86%E5%8C%96/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    跟月影学可视化
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    重学前端
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E5%90%8E%E7%AB%AF-%E6%9E%B6%E6%9E%84/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    后端-架构
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E7%AE%A1%E7%90%86-%E6%88%90%E9%95%BF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    管理-成长
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    计算机基础
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E8%BF%90%E7%BB%B4-%E6%B5%8B%E8%AF%95/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    运维-测试
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#android-mediacodec" class="md-nav__link">
    <span class="md-ellipsis">
      Android平台的硬件编码器 MediaCodec
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Android平台的硬件编码器 MediaCodec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      创建编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      编码数据
    </span>
  </a>
  
    <nav class="md-nav" aria-label="编码数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    <span class="md-ellipsis">
      把纹理ID送入编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h264" class="md-nav__link">
    <span class="md-ellipsis">
      拉取H264码流
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      销毁编码器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ios" class="md-nav__link">
    <span class="md-ellipsis">
      iOS平台的硬件编码器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="iOS平台的硬件编码器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#videotoolbox" class="md-nav__link">
    <span class="md-ellipsis">
      VideoToolbox硬件编码器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VideoToolbox硬件编码器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      输入与输出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      初始化与构建编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      编码视频帧
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      释放编码器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elimage" class="md-nav__link">
    <span class="md-ellipsis">
      把编码器集成到ELImage框架
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iosapi" class="md-nav__link">
    <span class="md-ellipsis">
      iOS高层次的硬件编解码API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      小结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      思考题
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>18  如何使用移动平台的硬件编码器？</h1>

<p>你好，我是展晓凯。今天我们来一起学习如何使用移动平台的硬件编码器给视频编码。</p>
<p>在移动平台的视频场景中合理地使用硬件编码器，能够很大程度上提升App的性能，所以这节课我们来学习Android平台和iOS平台视频硬件编码器的使用方法。在Android平台我们一般使用MediaCodec编码器，而在iOS平台我们一般使用VideoToolbox来完成硬件编码。</p>
<h2 id="android-mediacodec">Android平台的硬件编码器 MediaCodec</h2>
<p><a href="https://time.geekbang.org/column/article/560720">上节课</a>我们已经介绍了预览控制器类如何调用编码器模块进行编码，并且也已经实现了软件编码器的子类，这节课我们就来完成硬件编码器子类的实现。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/f8/69/f8138250d29ef955845193d40aecb269.png?wh=1920x1104" /></p>
<p>新建的hw_encoder_adapter类继承自video_encoder_adapter这个类，然后实现核心的接口，包括创建编码器的createEncoder方法、实际编码的encode方法以及销毁编码器的destroyEncoder方法。</p>
<p>在Android 4.3系统之后，使用MediaCodec给视频编码是官方推荐的方式。尽管Android的碎片化比较严重，会导致一些兼容性问题，但是硬件编码器的性能和速度提升的收益是非常可观的。并且在4.3系统之后，我们可以通过Surface来配置编码器的输入，降低了显存到内存的数据交换时间，大大提升了整个录制场景的体验。前面我们学过使用MediaCodec来编码AAC数据，而编码视频的工作流程和音频是一样的，我们先来回顾一下MediaCodec的工作流程。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/10/d4/10701bd6e882b52cb33d10101138d3d4.png?wh=1440x694" title="MediaCodec的工作原理" /></p>
<p>因为MediaCodec的API接口都是在Java层，而我们整个视频预览编码的架构都是在Native层构建的，所以需要在Native层调用Java层MediaCodec的API接口，在这个hw_encoder_adapter类的构造方法中需要把JavaVM和jObject传递进来，方便后续调用。</p>
<h3 id="_1">创建编码器</h3>
<p>libx264编码器需要输入内存中的YUV数据，所以我们要在软件编码适配器中进行显存到内存的数据交换操作。而我们这节课使用的<strong>MediaCodec是允许直接以显存中的纹理ID作为输入的</strong>，这样就减少了显存到内存的数据交换，保证了提供数据的速度。那具体怎么把纹理ID作为MediaCodec的输入呢？</p>
<p>首先在Native层调用Java层封装的创建编码器的方法，把视频的宽、高、比特率、帧率传递过去，创建编码类型为“video/avc”的MediaCodec实例，然后调用configure方法配置编码器。当编码器配置成功之后，调用MediaCodec的createInputSurface方法创建出这个MediaCodec的输入Surface，而这个输入Surface就是纹理ID能直接作为编码器输入的关键。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>MediaFormat format = MediaFormat.createVideoFormat(MIME_TYPE, width, height);
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>format.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatSurface);
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>format.setInteger(MediaFormat.KEY_BIT_RATE, bitRate);
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>format.setInteger(MediaFormat.KEY_FRAME_RATE, frameRate);
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>format.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, IFRAME_INTERVAL);
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>mEncoder = MediaCodec.createEncoderByType(MIME_TYPE);
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>mEncoder.configure(format, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>Surface mInputSurface = mEncoder.createInputSurface();
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>mEncoder.start();
</code></pre></div>
<p>拿到这个InputSurface之后（与SurfaceView中获取出来的Surface对象一致），就把它传递到Native层，转换成ANativeWindow，然后利用EGLCore创建出一个EGLSurface作为渲染目标。当绑定了这个EGLSurface后的渲染，就可以给MediaCodec作为视频帧的输入了。</p>
<p>紧接着创建一个jbyteArray类型的buffer，用来接收MediaCodec编码成功后的H264数据。为了不影响预览线程的刷新频率，需要把从MediaCodec中拉取数据的操作放到一个新的线程里，所以在这里要创建出一个线程，单独做拉取编码器的编码数据操作。另外因为MediaCodec编码H264数据的时候，会在前几帧中返回sps和pps信息，所以这里准备好sps与pps的buffer。这样初始化部分就讲完了，接下来我们看一下具体编码数据的过程。</p>
<h3 id="_2">编码数据</h3>
<p>编码方法的实现分为两部分，一部分是把纹理ID送入编码器，另一部分是从编码器中拉取H264的码流。</p>
<h4 id="id">把纹理ID送入编码器</h4>
<p>首先调用库EGL的makeCurrent方法，把encoderSurface作为渲染目标，调用renderer把输入的纹理ID渲染到Surface上去，再给编码器设置编码的时间，然后给拉取编码数据的线程发送一个指令，让它去MediaCodec里拉取H264的数据，最后调用库EGL的swapBuffer渲染数据，核心代码如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>if (startTime == -1) startTime = getCurrentTime();
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>int64_t curTime = getCurrentTime() - startTime;
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>int expectedFrameCount = (int)(curTime / 1000.0f * frameRate + 0.5f);
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>if (expectedFrameCount &lt; encodedFrameCount) {
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    // need drop frames
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    return;
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>}
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>encodedFrameCount++;
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>if(EGL_NO_SURFACE != encoderSurface){
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    eglCore-&gt;makeCurrent(encoderSurface);
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    renderer-&gt;renderToView(texId, videoWidth, videoHeight);
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    eglCore-&gt;setPresentationTime(encoderSurface, ((khronos_stime_nanoseconds_t) curTime) * 1000000);
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    handler-&gt;postMessage(new Message(FRAME_AVAILIBLE));
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    eglCore-&gt;swapBuffers(encoderSurface)
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>}
</code></pre></div>
<p>前8行代码实际上是控制编码帧率的一个实现，首先把第一次编码取得的当前时间戳记录为开始编码的时间戳startTime，之后再调用编码操作的时候，取出当前时间减去startTime，算出编码时长，然后根据帧率和编码时长算出我们期待的编码数目expectedFrameCnt，并在每编码一帧时给encodedFrameCnt加1。通过比较这两者的关系，来控制是否要把当前视频帧送给编码器，在第12行设置视频帧的时间戳的时候，使用这个时间就可以了。</p>
<h4 id="h264">拉取H264码流</h4>
<p>拉取MediaCodec编码的H264数据的这个线程是如何工作的呢？</p>
<p>首先在Java层会调用MediaCodec的dequeueOutputBuffer方法，这个方法的返回值有以下几种状态：</p>
<ul>
<li>INFO_TRY_AGAIN_LATER，代表获取数据超时，稍后再试。</li>
<li>INFO_OUTPUT_FORMAT_CHANGED，输出格式发生变化，需要重新获取新的输出格式。</li>
<li>INFO_OUTPUT_BUFFERS_CHANGED，输出的缓冲区发生变化，需要重新获取新的缓冲区。</li>
</ul>
<p>获取出来的返回值如果不是上述的几个状态，并且又大于0的话，代表的是outputBuffers的Index，我们就可以取出这个Index对应的编码数据了。我们通过bufferInfo里面的描述把这部分的数据获取出来，并存入Native层准备好的jbyteBuffer里，最后把这个buffer返还给MediaCodec的输出缓冲队列。</p>
<p>在Native层拿到这个NALU数据之后，要判断这个NALU的类型，也就是要拿出这个buffer数据里面index为4的数据“与上0X1F”。如果是sps和pps，就存储在前面准备好的sps和pps的全局变量中。在后面遇到关键帧的NALU要插入sps和pps形成一个合法的Annexb的码流。代码如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>int nalu_type = (outputData[4] &amp; 0x1F);
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>if (H264_NALU_TYPE_SEQUENCE_PARAMETER_SET == nalu_type) {
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    spsppsBufferSize = size;
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    spsppsBuffer = new byte[spsppsBufferSize];
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    memcpy(spsppsBuffer, outputData, spsppsBufferSize);
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>} else if(NULL != spsppsBuffer){
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    if(H264_NALU_TYPE_IDR_PICTURE == nalu_type) {
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>        fwrite(spsppsBuffer, 1, spsppsBufferSize, h264File);
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>    }
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    fwrite(outputData, 1, size, h264File);
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>}
</code></pre></div>
<p>可以看到第5行代码适用于存储sps和pps信息，第8行代码是在判断出关键帧类型的时候写入sps和pps，第10行代码是直接写入一个ES流的数据。</p>
<h3 id="_3">销毁编码器</h3>
<p>最后我们来看一下销毁编码器方法的实现，首先要停掉拉取编码器数据的线程，然后调用Java层的方法关掉MediaCodec，并释放相关的编码器资源，Java层会调用MediaCodec的stop和release方法，最后把分配的jbyteArray类型的buffer释放掉，同时也把全局的sps和pps的buffer释放掉并关闭文件。</p>
<p>这样，Android平台的硬件编码器就讲完了，之后你也可以在我们的视频录制器项目中再结合代码深入研究，接下来让我们一起学习iOS平台的硬件编码器的使用吧。</p>
<h2 id="ios">iOS平台的硬件编码器</h2>
<p>在iOS 8.0以后，系统提供了VideoToolbox编码API，这个API充分利用硬件来做编码工作，来提升App的性能和编码速度。使用VideoToolbox可以给系统带来两个好处。</p>
<ol>
<li>提高编码性能，大大降低CPU的使用率。</li>
<li>提高编码效率，编码一帧的时间缩短。</li>
</ol>
<p>当然VideoToolbox既可以充当编码器又可以充当解码器，这节课我们主要介绍它作为编码器的工作流程，讲一讲如何使用VideoToolbox把摄像头采集到的纹理编码成一段H264的码流。我们会创建一个名叫H264HWEncoderImpl类，然后按照ELImage的组件规则把它封装进ELImage框架中，集成进去之后，就可以给原来的预览项目增加录制视频的功能。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/43/2f/43da58864042499a170ba75d96d9352f.png?wh=1694x636" title="ELImage架构图" /></p>
<h3 id="videotoolbox">VideoToolbox硬件编码器</h3>
<h4 id="_4">输入与输出</h4>
<p>我们先来看一下使用VideoToolbox进行编解码的输入和输出是什么，只有明确了这一点，才能知道如何给VideoToolbox提供视频帧的原始数据，还有怎么从VideoToolbox里获取编码后的数据。我们可以看一下VideoToolbox的数据流转结构图。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/b3/2b/b3d2d78a9f9be63ff2b01d609525122b.png?wh=1660x588" title="图片来自苹果官网" /></p>
<p>从上图中可以看到，编码器的输入是CVPixelBuffer类型的结构体，输出是CMSampleBuffer类型的结构体。所以在ELImage框架中，我们需要<strong>把纹理ID封装成CVPixelBuffer的数据结构</strong>。这个数据结构是使用VideoToolbox编码的核心，必须要了解清楚。Apple Developer官网上对于这个数据结构给出的解释是，在主内存中存储所有像素点数据的一个对象。</p>
<p>那什么是主内存呢？你可以这样理解，主内存其实并不是我们平时所操作的内存，但它可以关联到内存中的地址，简单理解就是这块存储区域在缓存里，但是我们在访问这块区域之前必须先锁定这块区域。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>CVPixelBufferLockBaseAddress(pixel_buffer, 0);
</code></pre></div>
<p>然后才可以访问这一块内存区域，获取出内存中的指针。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>void* data = CVPixelBufferGetBaseAddress(pixel_buffer)
</code></pre></div>
<p>操作data这个变量可以给这块内存区域填充内容或读取内容，使用完之后，要解锁这块区域。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>CVPixelBufferRelease(pixel_buffer);
</code></pre></div>
<p>从它的使用方式来看，不是普通的内存访问，否则不会在访问内存区域之前和之后加上锁定、解锁等操作。前面我们也说过，做视频开发时有一个原则就是<strong>尽量少做显存和内存的交换</strong>，在iOS平台上，我们应该使用它提供的<strong>加速API</strong>来完成这样的操作。<br />
我们可以回顾一下<a href="https://time.geekbang.org/column/article/556012">第14节课</a>的内容，Camera回调的YUV数据就存储在CVPixelBuffer类型的对象里，只不过当时使用的引用类型是CVImageBufferRef，但是在iOS头文件定义中可以看到，它们是等同的。</p>
<p>你可以回顾一下当时在Camera的回调中我们是如何把CVPixelBuffer里面的内容构造成纹理对象的。常规手段就是手动获取YUV数据的内存地址，然后利用OpenGL提供的glTexImage2D方法，把内存中的数据上传到显存构建的纹理对象上。而iOS的CoreVideo这个framework提供的加速方法可以把纹理和CVPixelBuffer关联起来。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>CVOpenGLESTextureCacheCreateTextureFromImage
</code></pre></div>
<p>所以我们需要把一个纹理ID和一个CVPixelBuffer通过上述这个方法关联起来，然后把这个纹理ID作为目标（实际是这个纹理ID绑定的FBO）进行绘制，就可以在CVPixelBuffer中获取到数据了，最后把CVPixelBuffer送给VideoToolbox就可以了。</p>
<p>接下来我们看这个编码器输出的类型，从图里可以看出这是一个CMSampleBuffer类型的对象，如果你还有印象的话，<a href="https://time.geekbang.org/column/article/556012">第14节课</a>Camera回调给我们的视频帧也是CMSampleBuffer类型的对象，但是它们所包含的内容完全不一样，Camera预览返回的CMSampleBuffer里存储的数据是一个CVPixelBuffer，而经过VideoToolbox编码输出的CMSampleBuffer里存储的数据是一个CMBlockBuffer的引用，如图所示。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/68/d7/68ef3859c1c27e56fb5ab319c6051fd7.png?wh=1660x1040" title="图片来自苹果官网" /></p>
<p>图片展示了CMSampleBuffer的构成方式，左边代表了压缩数据（编码器输出的格式）的构成，右边代表了非压缩格式（摄像头采集到的数据或者解码器解码出来的数据）的构成。而CMBlockBuffer就是编码之后数据存放的对象，我们可以调用CMBlockBufferGetDataPointer方法来获取出内存中的指针，然后可以使用对应内存中的数据去写文件或者发送到网络。</p>
<h4 id="_5">初始化与构建编码器</h4>
<p>弄清楚了编码器的输入和输出，下面我们就来看一下如何构建出编码器。</p>
<p>初始化方法签名如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>- (void)initEncode:(int)width height:(int)height fps:(int)fps
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>        maxBitRate:(int)maxBitRate avgBitRate:(int)avgBitRate;
</code></pre></div>
<p>这个初始化方法的职责就是构建编码器，实现主要分为两部分，一是构建编码器会话，另外一个就是给编码器设置参数。还记得之前我们常说的一句关于iOS多媒体API的规则吗？<strong>使用任何API之前都要配置对应的Session。</strong></p>
<p>使用麦克风和Speaker之前，需要配置的是AudioSession，使用Camera之前需要配置的是AVCaptureSession，而这里需要配置的就是<strong>VTCompressionSession。</strong>这个会话就代表了我们要使用编码器，使用解码能力的时候需要配置VTDecompressionSessionRef。那如何定制一个我们需要的编码器会话呢？</p>
<p>首先调用VTCompressionSessionCreate方法，把我们要编码的视频的宽、高、编码器类型（kCMVideoCodecType_H264）、回调函数以及回调函数上下文传递进去，构造出一个编码器会话。这个函数的返回值是一个OSStatus类型，如果构造成功则返回的是0，否则就要给出初始化编码器会话失败的提示。构造成功之后要给这个会话设置参数，设置参数的代码如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>VTSessionSetProperty(EncodingSession, kVTCompressionPropertyKey_RealTime, kCFBooleanTrue);
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>VTSessionSetProperty(EncodingSession, kVTCompressionPropertyKey_ProfileLevel, kVTProfileLevel_H264_High_AutoLevel);
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>VTSessionSetProperty(EncodingSession, kVTCompressionPropertyKey_AllowFrameReordering, kCFBooleanFalse);
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>VTSessionSetProperty(EncodingSession, kVTCompressionPropertyKey_MaxKeyFrameInterval, (__bridge CFTypeRef)(@(fps)));
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>VTSessionSetProperty(EncodingSession, kVTCompressionPropertyKey_ExpectedFrameRate, (__bridge CFTypeRef)(@(fps)));
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>VTSessionSetProperty(EncodingSession, kVTCompressionPropertyKey_DataRateLimits, (__bridge CFArrayRef)@[@(maxBitRate / 8), @1.0]);
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>VTSessionSetProperty(EncodingSession, kVTCompressionPropertyKey_AverageBitRate, (__bridge CFTypeRef)@(avgBitRate));
</code></pre></div>
<p>代码里的第一个参数设置的是需要实时编码；第二个参数设置的是H264的Profile，使用的是High的AutoLevel规格；第三个参数的设置代表不要B帧；第四个参数是设置关键帧的间隔，也就是gop size；第五个参数是设置帧率；第六个参数和第七个参数共同来控制编码器输出的码率。设置完这些参数之后，调用VTCompressionSessionPrepareToEncodeFrames方法，告诉编码器可以开始编码了。</p>
<h4 id="_6">编码视频帧</h4>
<p>接下来，我们看encode的方法，函数的输入参数是一个CVPixelBuffer， 然后还需要构造出当前编码视频帧的时间戳和时长，最后把这三个参数传递给编码方法，给这一帧视频编码。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>int64_t currentTimeMills = CFAbsoluteTimeGetCurrent() * 1000;
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>if(-1 == encodingTimeMills){
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    encodingTimeMills = currentTimeMills;
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>}
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>int64_t encodingDuration = currentTimeMills - encodingTimeMills;
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>CMTime pts = CMTimeMake(encodingDuration, 1000.); // timestamp is in ms.
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>CMTime dur = CMTimeMake(1, m_fps);
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>VTEncodeInfoFlags flags;
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>OSStatus statusCode = VTCompressionSessionEncodeFrame(EncodingSession, imageBuffer, pts, dur, NULL, NULL, &amp;flags);
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>if (statusCode != noErr) {
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>    error = @&quot;H264: VTCompressionSessionEncodeFrame failed &quot;;
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>    return;
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>}
</code></pre></div>
<p>在创建编码器会话的时候，我们指定了一个回调函数，这个回调函数是在编码器编码成功一帧之后，把编码的这一帧数据封装到CMSampleBuffer结构中回调这个函数，而我们需要做的就是在这个回调函数里拿出编码之后的H264数据。回调函数原型如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>void didCompressH264(void *outputCallbackRefCon, void *sourceFrameRefCon,
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>        OSStatus status, VTEncodeInfoFlags infoFlags, CMSampleBufferRef sampleBuffer)
</code></pre></div>
<p>在这个回调函数里，我们需要处理编码之后的数据。首先判断status，如果编码成功就返回0（实际上头文件中定义了一个枚举类型是noErr）；如果不成功不作处理。成功了的话，首先判断一下编码成功后的当前帧是否是关键帧，判断关键帧的方法如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>CFArrayRef array = CMSampleBufferGetSampleAttachmentsArray(sampleBuffer, true);
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>CFDictionaryRef dic = (CFDictionaryRef)CFArrayGetValueAtIndex(array, 0);
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>BOOL keyframe = !CFDictionaryContainsKey(dic, kCMSampleAttachmentKey_NotSync);
</code></pre></div>
<p>为什么要判断关键帧呢？</p>
<p>因为VideoToolbox编码器在每一个关键帧前面都会输出sps和pps信息，所以如果这一帧是关键帧，就取出对应的sps和pps信息。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/68/d7/68ef3859c1c27e56fb5ab319c6051fd7.png?wh=1660x1040" title="图片来自苹果官网" /></p>
<p>那怎么取出对应的sps和pps信息呢？图里提到CMSampleBuffer里面有一个成员是CMVideoFormatDesc，而sps和pps信息就在这个对视频格式的描述里面。取出sps的代码如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>CMFormatDescriptionRef format = CMSampleBufferGetFormatDescription(sampleBuffer);
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>size_t sparameterSetSize, sparameterSetCount;
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>const uint8_t *sparameterSet;
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>size_t paramSetIndex = 0;//代表sps
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>OSStatus statusCode = CMVideoFormatDescriptionGetH264
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>ParameterSetAtIndex(format, paramSetIndex, &amp;sparameterSet, &amp;sparameterSetSize,
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>        &amp;sparameterSetCount, 0 );
</code></pre></div>
<p>取出pps的代码如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>size_t pparameterSetSize, pparameterSetCount;
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>const uint8_t *pparameterSet;
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>      size_t paramSetIndex = 1;//代表pps
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>OSStatus statusCode = CMVideoFormatDescriptionGetH264
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>ParameterSetAtIndex(format, paramSetIndex, &amp;pparameterSet, &amp;pparameterSetSize,
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>      &amp;pparameterSetCount, 0 );
</code></pre></div>
<p>这样我们就成功地取出了sps和pps的信息了，接着再把这一帧（有可能是关键帧也有可能是非关键帧）的实际内容提取出来进行处理。首先，取出这一帧的时间戳，代码如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>CMTime pts = CMSampleBufferGetPresentationTimeStamp(buffer);
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>double presentationTimeMills = CMTimeGetSeconds(pts)*1000;
</code></pre></div>
<p>然后可以拿出具体的压缩后的数据，代码如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>CMBlockBufferRef data = CMSampleBufferGetDataBuffer(buffer);
</code></pre></div>
<p>取出真正的压缩后的数据CMBlockBuffer，就可以访问这块内存，拿出具体的数据了，然后再根据是否是关键帧，决定要不要在前面加入sps和pps，写成Annexb格式的H264码流。</p>
<h4 id="_7">释放编码器</h4>
<p>最后是释放编码器，首先调用VTCompressionSessionCompleteFrames方法，强制编码器完成编码行为，然后调用VTCompressionSessionInvalidate方法，结束编码器会话，最后调用CFRelease方法，释放编码器会话。</p>
<p>到这里，我们已经把VideoToolbox的使用封装到了这个H264HWEncoderImpl类里，并提供出了初始化、编码和销毁的接口，那接下来就把这个类集成到我们的ELImage框架中吧。</p>
<h4 id="elimage">把编码器集成到ELImage框架</h4>
<p>回顾第<a href="https://time.geekbang.org/column/article/556012">14节课</a>的内容，我们已经把Camera连接到了GLImageView上面，用户也可以在屏幕上预览到摄像头采集到的图像了。在这个设计里，Camera是输入节点，它把采集到的YUV数据渲染成为纹理对象，然后传递给GLImageView，GLImageView把纹理对象渲染到UIView上。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/43/2f/43da58864042499a170ba75d96d9352f.png?wh=1694x636" /></p>
<p>而这节课我们要书写的VideoEncoder也是一个输出节点，在Camera的targets里增加这个VideoEncoder的输出节点，然后这个输出节点负责把纹理对象编码成H264码流，并写到磁盘里。怎么构建这个节点并集成入ELImage框架里呢？</p>
<p>首先建立ELImageVideoEncoder实现ELImageInput这个Protocol，代表我们新建立的这个节点是可以被输入纹理对象的，然后书写初始化方法，可以让调用端在创建这个节点的时候把编码参数传递进来，初始化方法定义如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>- (id) initWithFPS: (float) fps maxBitRate:(int)maxBitRate
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>      avgBitRate:(int)avgBitRate encoderWidth:(int)encoderWidth
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>      encoderHeight:(int)encoderHeight;
</code></pre></div>
<p>因为实现了ELImageInput这个Protocol，所以需要重写保存输入纹理和渲染纹理的方法，在这个类里新建一个ELImageTextureFrame指针类型的纹理，来保存输入的纹理对象，然后建立一个EncoderRenderer，把输入纹理对象渲染到编码纹理对象上。但这个渲染过程有两个细节需要注意。</p>
<ul>
<li>要把纹理对象渲染之后送到编码器里，就会涉及OpenGL坐标系转换到计算机坐标系的问题。所以在渲染到目标纹理对象的时候，要把整个图像HFlip一下，也就是把每个坐标的Y顶点0、1互换一下。</li>
</ul>
<p>物体坐标如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>static const GLfloat imageVertices[] = {
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    -1.0f, -1.0f,
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>    1.0f, -1.0f,
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>    -1.0f, 1.0f,
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>    1.0f, 1.0f,
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>};
</code></pre></div>
<p>纹理坐标如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>static const GLfloat hFlipTextureCoordinates[] = {
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    0.0f, 1.0f,
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    1.0f, 1.0f,
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    0.0f, 0.0f,
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    1.0f, 0.0f,
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    };
</code></pre></div>
<ul>
<li>渲染到的目标纹理对象需要交给编码器编码，也就是说我们的目标纹理对象必须和一个CVPixelBuffer关联起来，所以在构建目标纹理对象的时候，一定不能和创建普通的纹理对象一样。其实，把一个纹理对象和一个CVPixelBuffer关联起来的方法，在ELImageVideoCamera这个类里已经使用过了，只不过这里关联的纹理格式会使用iOS特有的BGRA格式。代码如下：</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>CVOpenGLESTextureCacheCreateTextureFromImage (kCFAllocatorDef
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>        ault, coreVideoTextureCache, renderTarget, NULL, GL_TEXTURE_2D,
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>        GL_RGBA, _width, _height, GL_BGRA,GL_UNSIGNED_BYTE, 0,
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>        &amp;renderTexture);
</code></pre></div>
<p>代码里的renderTarget就是一个CVPixelBuffer的引用，和之前的渲染一样，上述代码将源纹理对象渲染到了目标纹理对象，只不过这里的处理就是把图像做一个上下翻转。</p>
<p>再来看最关键的一步，渲染完成之后，实际上渲染的内容就会在这个CVPixelBuffer里，这样我们就可以把这个renderTarget传递给编码器进行编码操作了。当然，在交给编码器之前要先锁定这个CVPixelBuffer，编码器使用完了之后再解锁。书写完这个节点，整个ELImage框架就可以完成预览、录制这两个场景了。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/43/2f/43da58864042499a170ba75d96d9352f.png?wh=1694x636" /></p>
<p>接下来，我们了解一下iOS系统为开发者提供的非常强大的多媒体API库，扩展一下知识面。当然万变不离其宗，这一些高级的API都是基于最底层的VideoToolbox进行封装的，并且提供了单一的接口来完成某些具体的功能。</p>
<h3 id="iosapi">iOS高层次的硬件编解码API</h3>
<p>先来看一下图片，它展示了AVFoundation与VideoToolbox的关系。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/eb/a1/ebd8e8d2ed350f741da406d0ecdd76a1.png?wh=1248x640" title="图片来自苹果官网" /></p>
<p>如图所示，iOS平台提供的AVFoundation底层使用了VideoToolbox，但是它们的关注点不一样。VideoToolbox更关注编码成内存中的CMSampleBuffer结构体，以及解码成主内存（或者理解为显存）里的CVPixelBuffer结构体，而AVFoundation更关注解码直接显示以及编码到文件中。</p>
<p>下面我们来看一下AVFoundation这个层次提供的几个重要的API。</p>
<ul>
<li>AVAssetWriter</li>
</ul>
<p>从名字就可以看出，这是为了写入本地文件提供的API，这个类可以方便地把图像和音频写成一个完整的本地视频文件。它是如何利用VideoToolbox编码视频文件的呢？我们可以参考下面的图片来理解。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/46/d6/46c0bcyy5b8c81f7ffb76aa8703093d6.png?wh=1660x468" title="图片来自苹果官网" /></p>
<p>可以看到，AVAssetWriter是从OpenGL ES中拿到纹理对象，关联到CoreVideo这个framework提供的CVPixelBuffer里，然后使用VideoToolbox编码，最后把编码的H264码流写到H264文件或者封装到一个视频文件中。但如果只是封装成一个MP4文件，其实并不需要这么麻烦，我们可以利用iOS给我们封装好的API很简单地完成这种场景，如下图所示。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/28/98/289c7ecf6f5cb8a0cdf602ff1a9ba098.png?wh=1660x560" title="图片来自苹果官网" /></p>
<p>可以看到，AVAssetWriterInput把编码器的编码和后续的处理和封装的工作组装到了一起，提供了更单一的接口调用，完成的功能也更加清晰，这也是iOS平台提供的多媒体API强大的地方。当然这仅限于本地文件，如果在直播场景中需要把编码后的码流推送到流媒体服务器的话，就不能使用这个API了。</p>
<ul>
<li>AVAssetReader</li>
</ul>
<p>从名字上来看，这是为了读取本地文件而存在的一个类。这个类可以方便地把本地文件中的音频和视频解码出来。下面我们来看一下怎么用VideoToolbox解码视频，然后经过处理，最终再使用VideoToolbox编码成为一个本地的视频文件。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/f6/c9/f6e8c981c209eeefa5ace8f70aa01cc9.png?wh=1660x380" title="图片来自苹果官网" /></p>
<p>虽然前面没有介绍怎么使用VideoToolbox解码H264数据，但是你可以认为它就是编码的一个逆过程，上图中需要我们自己写很多代码来控制多种状态，包括输入、输出等。而在AVFoundation里，针对解码部分，iOS平台直接封装了一个更高级的API，你可以看一下图片左边的内容。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/80/09/802fe3c1323cd8de98a410c42205b509.png?wh=1660x532" title="图片来自苹果官网" /></p>
<p>AVAssetReaderOutput也只支持本地文件的解码，不支持网络媒体文件的输入。同样，在这里也不再展示代码了，你可以参考GPUImage框架里的GPUImageMovie这个类，我们在里面的离线处理操作的场景，详细地对AVAssetReaderInput这个API的使用做出了说明。</p>
<ul>
<li>AVAssetExportSession</li>
</ul>
<p>这个类可以用来拼接视频、合并音频和视频、不做任何处理的转换格式以及压缩视频等多种场景，其实它是对VideoToolbox解码、编码的一个更高层次的封装，如图所示。</p>
<p><img alt="图片" src="https://static001.geekbang.org/resource/image/c5/14/c5e790fd4a55ca5c3b76bc279c184c14.png?wh=1660x472" title="图片来自苹果官网" /></p>
<p>通过图片可以看到，这个类不允许我们进行中间的处理操作，显然它是一个更高层次的封装，只允许我们设置一些预设和提供输入输出文件路径等，所以相比使用VideoToolbox，或者使用AVAssetReader和AVAssetWriter来实现，AVAssetExportSession提供的功能更单一，接口也更简单。</p>
<p>在我们工作中，在不同的场景下选用不同的技术实现是非常重要的，这不单单会影响开发的效率，也会直接影响产品的体验。学习iOS平台的多媒体时，了解这些API对我们的工作有很大帮助。</p>
<h2 id="_8">小结</h2>
<p>最后，我们一起来回顾一下今天的内容。</p>
<p>Android平台推荐使用的硬件编码器是MediaCodec，把这个编码器集成到Android的摄像头预览项目中需要以下几步：</p>
<ul>
<li>创建硬件编码器，并获取出它的输入Surface。</li>
<li>在预览的OpenGL ES线程中将纹理ID渲染到上一步获得的Surface上。</li>
<li>从MediaCodec中拉取H264码流，然后转换成Annexb格式的码流写到文件中。</li>
</ul>
<p>在iOS平台，我们使用VideoToolbox编码视频，其中的重点就是书写一个编码节点集成入ELImage框架中，主要分为以下几步：</p>
<ul>
<li>初始化与构建VideoToolbox编码器。</li>
<li>将纹理ID渲染到关联了CVPixelBuffer的纹理上去。</li>
<li>将CVPixelBuffer送入编码器进行编码，得到编码之后的CMSampleBuffer。</li>
<li>取出CMSampleBuffer中的H264数据，并封装成Annexb格式的码流写入文件。</li>
</ul>
<p>最后我们讲解了iOS的AVFoundation是如何对VideoToolbox进行封装，并实现各种场景的，主要包括AVAssetWriter、AVAssetReader和AVAssetExportSession三个类。</p>
<p>这节课输出的都是H264文件，当使用ffplay观看H264文件的时候，播放的速度是非常快的。这是因为裸的H264流是没有时间戳概念的，它不像音频只要指定好采样率、声道数、表示格式，声音的渲染端，就可以以固定频率来渲染音频数据了。虽然sps和pps中也指明了视频的宽、高以及fps等信息，但是普通的播放器并不支持按照一定频率进行播放。播放这个H264文件的时候也没有声音，不过不要着急，我们完成视频录制器后，会输出一个完整的视频。</p>
<h2 id="_9">思考题</h2>
<p>最后我来考考你，H264的码流分为几种封装格式？MP4文件是哪一种格式？欢迎在评论区写出你的思考，也欢迎你把这节课分享给更多对音视频感兴趣的朋友，我们一起交流、共同进步。下节课再见！</p>
<div><strong>精选留言（2）</strong></div>
<ul>
<li><span>peter</span> 👍（1） 💬（1）<p>请教老师几个问题啊：
Q1：MediaCodec可以做解码操作吗？
Q2：MediaCodec是硬件还是软件？
        我的理解是：MediaCodec并不是硬件，是软件，相当于硬件的接口；
        调用关系是：Java层API ---》MediaCodec---》具体的硬件(应该是一个芯片)
Q3：MediaCode如果是软件的话，属于哪一层？Native层吗？
        从Android系统架构来说，MediaCodec属于哪一层？FrameWork层吗？
Q4：iOS部分，主内存是缓存，此缓存是指CPU的三级缓存吗？
Q5：加锁与解锁是针对内存还是缓存？</p>2022-09-02</li><br/><li><span>我的無力雙臂</span> 👍（0） 💬（1）<p>请教下为啥不讲讲h265呢</p>2022-09-02</li><br/>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../17-%20%E5%A6%82%E4%BD%95%E7%94%A8%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A0%81%E5%99%A8%E6%9D%A5%E7%BC%96%E7%A0%81%20H264%20%EF%BC%9F/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 17  如何用软件编码器来编码 H264 ？">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                17  如何用软件编码器来编码 H264 ？
              </div>
            </div>
          </a>
        
        
          
          <a href="../19-%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%EF%BC%9A%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90%E4%B8%8E%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="md-footer__link md-footer__link--next" aria-label="下一页: 19 视频录制项目实战：场景分析与架构设计">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                19 视频录制项目实战：场景分析与架构设计
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2025-Present zkep
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "toc.follow", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "navigation.footer", "navigation.tracking", "navigation.instant", "navigation.instant.progress", "navigation.indexes", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="../../../javascript/extra.js"></script>
      
        <script src="../../../javascript/giscus.js"></script>
      
    
  </body>
</html>