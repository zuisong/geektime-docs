<!--geek time docs ğŸš€, MIT license-->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="æå®¢æ—¶é—´åœ¨çº¿æ–‡æ¡£">
      
      
        <meta name="author" content="zkep">
      
      
      
        <link rel="prev" href="../21-%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%9B%86%E6%88%90React%20Native%EF%BC%9F/">
      
      
        <link rel="next" href="../23-%E7%83%AD%E6%9B%B4%E6%96%B0%EF%BC%9A%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%83%AD%E6%9B%B4%E6%96%B0%E5%B9%B3%E5%8F%B0%EF%BC%9F/">
      
      
      <link rel="icon" href="../../../None">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>22 è‡ªå®šä¹‰ç»„ä»¶ï¼šå¦‚ä½•æ»¡è¶³ä¸šåŠ¡çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Ÿ - Geek Time Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            


          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Geek Time Docs" class="md-header__button md-logo" aria-label="Geek Time Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Geek Time Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              22 è‡ªå®šä¹‰ç»„ä»¶ï¼šå¦‚ä½•æ»¡è¶³ä¸šåŠ¡çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Ÿ
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/uaxe/geektime-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    uaxe/geektime-docs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../AI-%E5%A4%A7%E6%95%B0%E6%8D%AE/" class="md-tabs__link">
          
  
    
  
  AI-å¤§æ•°æ®

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E4%BA%A7%E5%93%81-%E8%BF%90%E8%90%A5/" class="md-tabs__link">
          
  
    
  
  äº§å“-è¿è¥

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  å‰ç«¯-ç§»åŠ¨

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%90%8E%E7%AB%AF-%E6%9E%B6%E6%9E%84/" class="md-tabs__link">
          
  
    
  
  åç«¯-æ¶æ„

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%AE%A1%E7%90%86-%E6%88%90%E9%95%BF/" class="md-tabs__link">
          
  
    
  
  ç®¡ç†-æˆé•¿

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="md-tabs__link">
          
  
    
  
  è®¡ç®—æœºåŸºç¡€

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%BF%90%E7%BB%B4-%E6%B5%8B%E8%AF%95/" class="md-tabs__link">
          
  
    
  
  è¿ç»´-æµ‹è¯•

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Geek Time Docs" class="md-nav__button md-logo" aria-label="Geek Time Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Geek Time Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uaxe/geektime-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    uaxe/geektime-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../AI-%E5%A4%A7%E6%95%B0%E6%8D%AE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AI-å¤§æ•°æ®
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E4%BA%A7%E5%93%81-%E8%BF%90%E8%90%A5/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    äº§å“-è¿è¥
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    å‰ç«¯-ç§»åŠ¨
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            å‰ç«¯-ç§»åŠ¨
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Android%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/Android%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Androidå¼€å‘é«˜æ‰‹è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Flutteræ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../JavaScript%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/JavaScript%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    JavaScriptæ ¸å¿ƒåŸç†è§£æ
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../JavaScript%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%AF%BE/JavaScript%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    JavaScriptè¿›é˜¶å®æˆ˜è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../React%20Hooks%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/React%20Hooks%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    React Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" checked>
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    React Native æ–°æ¶æ„å®æˆ˜è¯¾
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            React Native æ–°æ¶æ„å®æˆ˜è¯¾
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20Native%20%E6%96%B0%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React Native æ–°æ¶æ„å®æˆ˜è¯¾
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BC%80%E7%AF%87%E8%AF%8D-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%80%89%E6%8B%A9React%20Native%E5%81%9A%E4%BD%A0%E7%9A%84%E8%B7%A8%E7%AB%AF%E6%96%B9%E6%A1%88%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å¼€ç¯‡è¯ ä¸ºä»€ä¹ˆè¦é€‰æ‹©React Nativeåšä½ çš„è·¨ç«¯æ–¹æ¡ˆï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%8A%A0%E9%A4%90-%E9%9B%86%E4%B8%AD%E7%AD%94%E7%96%91%EF%BC%9A%E8%AF%A6%E8%A7%A3Android%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    åŠ é¤ é›†ä¸­ç­”ç–‘ï¼šè¯¦è§£Androidç¯å¢ƒæ­å»º
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%8A%A0%E9%A4%90-%E9%9B%86%E4%B8%AD%E7%AD%94%E7%96%91%EF%BC%9A%E8%AF%A6%E8%A7%A3iOS%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    åŠ é¤ é›†ä¸­ç­”ç–‘ï¼šè¯¦è§£iOSç¯å¢ƒæ­å»º
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-%E5%AD%A6%E4%B9%A0React%20Native%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1%E5%93%AA%E4%BA%9B%E7%9F%A5%E8%AF%86%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 å­¦ä¹ React Nativeï¼Œä½ éœ€è¦æŒæ¡å“ªäº›çŸ¥è¯†ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-Component%EF%BC%9A%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%9D%E8%B7%AF%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 Componentï¼šæ­å»ºé™æ€é¡µé¢çš„æ­£ç¡®æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-Style%EF%BC%9A%E5%85%B3%E4%BA%8E%E6%A0%B7%E5%BC%8F%E4%BD%A0%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84%E4%B8%89%E4%BB%B6%E4%BA%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 Styleï¼šå…³äºæ ·å¼ä½ éœ€è¦çŸ¥é“çš„ä¸‰ä»¶äº‹
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-State%EF%BC%9A%E5%A6%82%E4%BD%95%E8%AE%A9%E9%A1%B5%E9%9D%A2%E2%80%9C%E5%8A%A8%E2%80%9D%E8%B5%B7%E6%9D%A5%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 Stateï¼šå¦‚ä½•è®©é¡µé¢â€œåŠ¨â€èµ·æ¥ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-Image%EF%BC%9A%E9%80%89%E6%8B%A9%E9%80%82%E5%90%88%E4%BD%A0%E7%9A%84%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E6%96%B9%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 Imageï¼šé€‰æ‹©é€‚åˆä½ çš„å›¾ç‰‡åŠ è½½æ–¹å¼
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-Pressable%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E4%BD%93%E9%AA%8C%E5%A5%BD%E7%9A%84%E7%82%B9%E6%8C%89%E7%BB%84%E4%BB%B6%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 Pressableï¼šå¦‚ä½•å®ç°ä¸€ä¸ªä½“éªŒå¥½çš„ç‚¹æŒ‰ç»„ä»¶ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-TextInput%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E4%BD%93%E9%AA%8C%E5%A5%BD%E7%9A%84%E8%BE%93%E5%85%A5%E6%A1%86%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 TextInputï¼šå¦‚ä½•å®ç°ä¸€ä¸ªä½“éªŒå¥½çš„è¾“å…¥æ¡†ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-List%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E6%97%A0%E9%99%90%E5%88%97%E8%A1%A8%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08 Listï¼šå¦‚ä½•å®ç°é«˜æ€§èƒ½çš„æ— é™åˆ—è¡¨ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-Fast%20Refresh%EF%BC%9A%E6%8F%90%E9%AB%98UI%E8%B0%83%E8%AF%95%E6%95%88%E7%8E%87%E7%A5%9E%E5%99%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09 Fast Refreshï¼šæé«˜UIè°ƒè¯•æ•ˆç‡ç¥å™¨
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-Debug%EF%BC%9A%E8%A7%A3%E5%86%B3BUG%E6%80%9D%E8%B7%AF%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10 Debugï¼šè§£å†³BUGæ€è·¯æœ‰å“ªäº›ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-%E7%BB%84%E4%BB%B6%E5%AE%9E%E6%88%98%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%80%91%E5%B8%83%E6%B5%81%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11 ç»„ä»¶å®æˆ˜ï¼šå¦‚ä½•å®ç°ç€‘å¸ƒæµï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-%E9%A1%B5%E9%9D%A2%E5%AE%9E%E6%88%98%EF%BC%9A%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%94%B5%E5%95%86%E9%A6%96%E9%A1%B5%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12 é¡µé¢å®æˆ˜ï¼šå¦‚ä½•æ­å»ºä¸€ä¸ªç”µå•†é¦–é¡µï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%9B%B4%E6%92%AD%E5%8A%A0%E9%A4%90-%E4%B8%83%E5%B9%B4%EF%BC%8C%E6%88%91%E7%9A%84%E8%B7%A8%E7%AB%AF%E5%AE%9E%E8%B7%B5%E5%92%8C%E6%8E%A2%E7%B4%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç›´æ’­åŠ é¤ ä¸ƒå¹´ï¼Œæˆ‘çš„è·¨ç«¯å®è·µå’Œæ¢ç´¢
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-%E7%94%9F%E6%80%81%EF%BC%9AReact%20Native%20Awesome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13 ç”Ÿæ€ï¼šReact Native Awesome
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-Reanimated%EF%BC%9A%E5%A6%82%E4%BD%95%E8%AE%A9%E5%8A%A8%E7%94%BB%E5%8F%98%E5%BE%97%E6%9B%B4%E6%B5%81%E7%95%85%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14 Reanimatedï¼šå¦‚ä½•è®©åŠ¨ç”»å˜å¾—æ›´æµç•…ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-Gesture%EF%BC%88%E4%B8%8A%EF%BC%89%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%8B%96%E6%8B%BD%E5%8A%A8%E6%95%88%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15 Gestureï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å®ç°ä¸€ä¸ªæ‹–æ‹½åŠ¨æ•ˆï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-Gesture%EF%BC%88%E4%B8%AD%EF%BC%89%EF%BC%9A%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%8D%95%E8%A7%86%E5%9B%BE%E5%A4%9A%E6%89%8B%E5%8A%BF%E7%9A%84%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16 Gestureï¼ˆä¸­ï¼‰ï¼šå¦‚ä½•è§£å†³å•è§†å›¾å¤šæ‰‹åŠ¿çš„å†²çªé—®é¢˜ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-Gesture%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%A4%9A%E8%A7%86%E5%9B%BE%E5%A4%9A%E6%89%8B%E5%8A%BF%E7%9A%84%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17 Gestureï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•è§£å†³å¤šè§†å›¾å¤šæ‰‹åŠ¿çš„å†²çªé—®é¢˜ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../18-Navigation%EF%BC%9A%E9%A1%B5%E9%9D%A2%E4%B9%8B%E9%97%B4%E6%80%8E%E4%B9%88%E8%B7%B3%E8%BD%AC%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18 Navigationï¼šé¡µé¢ä¹‹é—´æ€ä¹ˆè·³è½¬ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../19-Redux%EF%BC%9A%E5%A4%A7%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E7%8A%B6%E6%80%81%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19 Reduxï¼šå¤§å‹åº”ç”¨åº”è¯¥å¦‚ä½•ç®¡ç†çŠ¶æ€ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20-Sentry%EF%BC%9A%E7%BA%BF%E4%B8%8A%E9%94%99%E8%AF%AF%E4%B8%8E%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20 Sentryï¼šçº¿ä¸Šé”™è¯¯ä¸æ€§èƒ½ç›‘æ§æ€ä¹ˆå¤„ç†ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../21-%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%9B%86%E6%88%90React%20Native%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21 æ··åˆåº”ç”¨ï¼šå¦‚ä½•ä»é›¶å¼€å§‹é›†æˆReact Nativeï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    22 è‡ªå®šä¹‰ç»„ä»¶ï¼šå¦‚ä½•æ»¡è¶³ä¸šåŠ¡çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Ÿ
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    22 è‡ªå®šä¹‰ç»„ä»¶ï¼šå¦‚ä½•æ»¡è¶³ä¸šåŠ¡çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Ÿ
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      æ–°æ¶æ„ä»‹ç»
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#android" class="md-nav__link">
    <span class="md-ellipsis">
      Android
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      ç»„ä»¶ä¼ è¾“æ•°æ®ç±»å‹
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#react-native" class="md-nav__link">
    <span class="md-ellipsis">
      React Native ä¸åŸç”Ÿçš„é€šä¿¡æ–¹å¼
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#turbomodule" class="md-nav__link">
    <span class="md-ellipsis">
      TurboModuleï¼šæ•°æ®å­˜å–
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TurboModuleï¼šæ•°æ®å­˜å–">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#javascript" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android_1" class="md-nav__link">
    <span class="md-ellipsis">
      Android
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios_1" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fabric" class="md-nav__link">
    <span class="md-ellipsis">
      Fabricï¼šè§†é¢‘æ’­æ”¾
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fabricï¼šè§†é¢‘æ’­æ”¾">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#javascipt" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScipt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android_2" class="md-nav__link">
    <span class="md-ellipsis">
      Android
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios_2" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ€»ç»“
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      ä½œä¸š
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../23-%E7%83%AD%E6%9B%B4%E6%96%B0%EF%BC%9A%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%83%AD%E6%9B%B4%E6%96%B0%E5%B9%B3%E5%8F%B0%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23 çƒ­æ›´æ–°ï¼šå¦‚ä½•æ­å»ºä¸€ä¸ªçƒ­æ›´æ–°å¹³å°ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../24-%E6%8B%86%E5%8C%85%EF%BC%9AMetro%E6%8B%86%E5%8C%85%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24 æ‹†åŒ…ï¼šMetroæ‹†åŒ…çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../25-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%EF%BC%9A%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E5%90%88%E9%80%82%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25 æ€§èƒ½ä¼˜åŒ–ï¼šå¦‚ä½•è®¾è®¡ä¸€ä¸ªåˆé€‚çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../26-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BC%98%E5%8C%96%EF%BC%9A%E5%A6%82%E4%BD%95%E6%8A%8A%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87%E5%88%B0%E6%9E%81%E8%87%B4%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    26 å®¢æˆ·ç«¯ä¼˜åŒ–ï¼šå¦‚ä½•æŠŠæ€§èƒ½æå‡åˆ°æè‡´ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%98%B6%E6%AE%B5%E6%B5%8B%E8%AF%95-React%20Native%E7%9A%84%E8%BF%99%E4%BA%9B%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%EF%BC%8C%E4%BD%A0%E9%83%BD%E6%8E%8C%E6%8F%A1%E4%BA%86%E5%90%97%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    é˜¶æ®µæµ‹è¯• React Nativeçš„è¿™äº›æ ¸å¿ƒçŸ¥è¯†ï¼Œä½ éƒ½æŒæ¡äº†å—ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B-%E6%96%B0%E6%9E%B6%E6%9E%84%E6%8E%A2%E7%B4%A2%E4%B9%8B%E6%97%85%EF%BC%8C%E9%A9%AC%E4%B8%8A%E5%BC%80%E5%A7%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    æ€»ç»“ä¸å±•æœ› æ–°æ¶æ„æ¢ç´¢ä¹‹æ—…ï¼Œé©¬ä¸Šå¼€å§‹
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../27-%E8%B7%A8%E7%AB%AF%E7%9A%84%E6%9C%BA%E9%81%87%EF%BC%9A%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%81Flutter%E5%92%8CReact%20Native%E5%8E%9F%E7%90%86%E5%AF%B9%E6%AF%94/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    27 è·¨ç«¯çš„æœºé‡ï¼šå°ç¨‹åºã€Flutterå’ŒReact NativeåŸç†å¯¹æ¯”
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../28-%E8%BF%BD%E6%9C%AC%E6%BA%AF%E6%BA%90%EF%BC%9A%E4%BB%8E%E7%AC%AC%E4%B8%80%E7%89%88React%20Native%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%BC%9A%E8%AF%BB%E6%87%82%E6%BA%90%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    28 è¿½æœ¬æº¯æºï¼šä»ç¬¬ä¸€ç‰ˆReact Nativeå¼€å§‹å­¦ä¼šè¯»æ‡‚æºç 
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../29-%E5%BC%84%E6%B8%85%E7%8E%B0%E7%8A%B6%EF%BC%9A%E6%96%B0%E6%9E%B6%E6%9E%84%E9%A2%84%E8%A7%88%E7%89%88%E7%A9%B6%E7%AB%9F%E9%95%BF%E4%BB%80%E4%B9%88%E6%A0%B7%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    29 å¼„æ¸…ç°çŠ¶ï¼šæ–°æ¶æ„é¢„è§ˆç‰ˆç©¶ç«Ÿé•¿ä»€ä¹ˆæ ·ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../30-JavaScript%E5%BC%95%E6%93%8E%EF%BC%9A%E5%8F%8C%E5%90%91%E9%80%9A%E8%AE%AF%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    30 JavaScriptå¼•æ“ï¼šåŒå‘é€šè®¯åº•å±‚åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../31-%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%9ARN%E5%BA%95%E5%B1%82%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E9%9A%9C%E4%BA%A4%E4%BA%92%E4%BD%93%E9%AA%8C%E7%9A%84%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    31 å¤šçº¿ç¨‹ï¼šRNåº•å±‚æ˜¯å¦‚ä½•ä¿éšœäº¤äº’ä½“éªŒçš„ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../32-Fabric%EF%BC%9A%E6%96%B0%E6%B8%B2%E6%9F%93%E5%99%A8%E7%9A%84%E6%BC%94%E8%BF%9B%E4%B9%8B%E8%B7%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    32 Fabricï¼šæ–°æ¸²æŸ“å™¨çš„æ¼”è¿›ä¹‹è·¯
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../33-AI%E5%89%8D%E6%B2%BF%EF%BC%9AChatGPT%E8%B5%84%E6%96%99%E7%B2%BE%E9%80%89%E9%9B%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    33 AIå‰æ²¿ï¼šChatGPTèµ„æ–™ç²¾é€‰é›†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../34-%E5%8D%87%E7%BA%A7%E6%94%B6%E7%9B%8A%EF%BC%9A%E8%BF%99%E4%B8%A4%E5%B9%B4React%20Native%E9%83%BD%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E5%8D%87%E7%BA%A7%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    34 å‡çº§æ”¶ç›Šï¼šè¿™ä¸¤å¹´React Nativeéƒ½åšäº†å“ªäº›å‡çº§ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../35-%E8%87%AA%E5%8A%A8%E5%8C%96%EF%BC%9A%E5%8D%87%E7%BA%A70.72%E6%96%B0%E6%9E%B6%E6%9E%84%E7%9A%84%E6%AD%A5%E9%AA%A4%E5%92%8C%E5%85%B3%E9%94%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    35 è‡ªåŠ¨åŒ–ï¼šå‡çº§0.72æ–°æ¶æ„çš„æ­¥éª¤å’Œå…³é”®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../36-%E5%8D%87%E6%96%B0%E4%B8%8D%E5%8D%87%E6%97%A7%EF%BC%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E5%A6%82%E4%BD%95%E5%8D%87%E7%BA%A7%E5%88%B0%E6%96%B0%E6%9E%B6%E6%9E%84%EF%BC%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    36 å‡æ–°ä¸å‡æ—§ï¼šè‡ªå®šä¹‰ç»„ä»¶å¦‚ä½•å‡çº§åˆ°æ–°æ¶æ„ï¼Ÿ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Serverless%E5%85%A5%E9%97%A8%E8%AF%BE/Serverless%E5%85%A5%E9%97%A8%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Serverlesså…¥é—¨è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Vue%203%20%E4%BC%81%E4%B8%9A%E7%BA%A7%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E8%AF%BE/Vue%203%20%E4%BC%81%E4%B8%9A%E7%BA%A7%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Vue 3 ä¼ä¸šçº§é¡¹ç›®å®æˆ˜è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../WebAssembly%E5%85%A5%E9%97%A8%E8%AF%BE/WebAssembly%E5%85%A5%E9%97%A8%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    WebAssemblyå…¥é—¨è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../iOS%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/iOS%E5%BC%80%E5%8F%91%E9%AB%98%E6%89%8B%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    iOSå¼€å‘é«˜æ‰‹è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E4%BB%8E0%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/%E4%BB%8E0%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ä»0æ‰“é€ éŸ³è§†é¢‘ç›´æ’­ç³»ç»Ÿ
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98%E8%AF%BE/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å‰ç«¯å…¨é“¾è·¯ä¼˜åŒ–å®æˆ˜è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%9B%BE%E8%A7%A3%20Google%20V8/%E5%9B%BE%E8%A7%A3%20Google%20V8/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å›¾è§£ Google V8
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%BF%AB%E6%89%8B%20%C2%B7%20%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/%E5%BF%AB%E6%89%8B%20%C2%B7%20%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å¿«æ‰‹ Â· ç§»åŠ¨ç«¯éŸ³è§†é¢‘å¼€å‘å®æˆ˜
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E5%BF%AB%E6%89%8B%20%C2%B7%20%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE/%E5%BF%AB%E6%89%8B%20%C2%B7%20%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    å¿«æ‰‹ Â· éŸ³è§†é¢‘æŠ€æœ¯å…¥é—¨è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æå®šéŸ³é¢‘æŠ€æœ¯
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF/%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æ”»å…‹è§†é¢‘æŠ€æœ¯
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%9C%B1%E6%B6%9B%20%C2%B7%20Kotlin%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/%E6%9C%B1%E6%B6%9B%20%C2%B7%20Kotlin%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æœ±æ¶› Â· Kotlinç¼–ç¨‹ç¬¬ä¸€è¯¾
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    æµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µ
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E7%8E%A9%E8%BD%ACVue%203%E5%85%A8%E5%AE%B6%E6%A1%B6/%E7%8E%A9%E8%BD%ACVue%203%E5%85%A8%E5%AE%B6%E6%A1%B6/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ç©è½¬Vue 3å…¨å®¶æ¡¶
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E7%8E%B0%E4%BB%A3React%20Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/%E7%8E%B0%E4%BB%A3React%20Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ç°ä»£React Webå¼€å‘å®æˆ˜
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E8%AF%B4%E9%80%8F%E4%BD%8E%E4%BB%A3%E7%A0%81/%E8%AF%B4%E9%80%8F%E4%BD%8E%E4%BB%A3%E7%A0%81/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    è¯´é€ä½ä»£ç 
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E8%B7%9F%E6%9C%88%E5%BD%B1%E5%AD%A6%E5%8F%AF%E8%A7%86%E5%8C%96/%E8%B7%9F%E6%9C%88%E5%BD%B1%E5%AD%A6%E5%8F%AF%E8%A7%86%E5%8C%96/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    è·Ÿæœˆå½±å­¦å¯è§†åŒ–
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    é‡å­¦å‰ç«¯
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E5%90%8E%E7%AB%AF-%E6%9E%B6%E6%9E%84/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    åç«¯-æ¶æ„
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E7%AE%A1%E7%90%86-%E6%88%90%E9%95%BF/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    ç®¡ç†-æˆé•¿
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    è®¡ç®—æœºåŸºç¡€
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E8%BF%90%E7%BB%B4-%E6%B5%8B%E8%AF%95/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    è¿ç»´-æµ‹è¯•
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      æ–°æ¶æ„ä»‹ç»
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#android" class="md-nav__link">
    <span class="md-ellipsis">
      Android
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      ç»„ä»¶ä¼ è¾“æ•°æ®ç±»å‹
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#react-native" class="md-nav__link">
    <span class="md-ellipsis">
      React Native ä¸åŸç”Ÿçš„é€šä¿¡æ–¹å¼
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#turbomodule" class="md-nav__link">
    <span class="md-ellipsis">
      TurboModuleï¼šæ•°æ®å­˜å–
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TurboModuleï¼šæ•°æ®å­˜å–">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#javascript" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android_1" class="md-nav__link">
    <span class="md-ellipsis">
      Android
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios_1" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fabric" class="md-nav__link">
    <span class="md-ellipsis">
      Fabricï¼šè§†é¢‘æ’­æ”¾
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fabricï¼šè§†é¢‘æ’­æ”¾">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#javascipt" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScipt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android_2" class="md-nav__link">
    <span class="md-ellipsis">
      Android
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ios_2" class="md-nav__link">
    <span class="md-ellipsis">
      iOS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ€»ç»“
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      ä½œä¸š
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/uaxe/geektime-docs/å‰ç«¯-ç§»åŠ¨/React Native æ–°æ¶æ„å®æˆ˜è¯¾/22-è‡ªå®šä¹‰ç»„ä»¶ï¼šå¦‚ä½•æ»¡è¶³ä¸šåŠ¡çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Ÿ.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>22 è‡ªå®šä¹‰ç»„ä»¶ï¼šå¦‚ä½•æ»¡è¶³ä¸šåŠ¡çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Ÿ</h1>

<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä¼—æ–‡ï¼Œè¿™ä¸€è®²è¿˜æ˜¯ç”±æˆ‘å’Œæƒ å§æ¥è®²è§£ã€‚</p>
<p>ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬è®²äº†å¦‚ä½•æ„å»ºæ··åˆåº”ç”¨ã€‚å½“ç¯å¢ƒé…ç½®ã€è½½ä½“é¡µã€è°ƒè¯•æ‰“åŒ…éƒ½ OK åï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹å¤æ‚ä¸šåŠ¡çš„å¼€å‘äº†ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œé™¤äº†è´Ÿè´£ React Native æ¡†æ¶æœ¬èº«çš„ç»´æŠ¤è¿­ä»£å¤–ï¼Œå¦ä¸€ä¸ªé‡è¦çš„å·¥ä½œå°±æ˜¯é…åˆå‰ç«¯ä¸šåŠ¡ï¼Œå¼€å‘å¯¹åº”çš„ Native ç»„ä»¶ã€‚</p>
<p>é‚£ä¹ˆä»€ä¹ˆæ—¶å€™ç”¨è¿™äº›è‡ªå®šä¹‰çš„ Native ç»„ä»¶å‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚ï¼Œæœ‰æ—¶å€™ App éœ€è¦è®¿é—®å¹³å° APIï¼Œä½† React Native å¯èƒ½è¿˜æ²¡æœ‰ç›¸åº”çš„æ¨¡å—åŒ…è£…ï¼›æˆ–è€…ä½ éœ€è¦å¤ç”¨å…¬å¸å†…çš„ä¸€äº›ç”¨ Java/OC å†™çš„é€šç”¨ç»„ä»¶ï¼Œè€Œä¸æ˜¯ç”¨ JavaScript é‡æ–°å®ç°ä¸€éï¼›åˆæˆ–è€…ä½ éœ€è¦å®ç°æŸäº›é«˜æ€§èƒ½çš„ã€å¤šçº¿ç¨‹çš„ä»£ç ï¼Œè­¬å¦‚å›¾ç‰‡å¤„ç†ã€æ•°æ®åº“ï¼Œæˆ–è€…å„ç§é«˜çº§æ‰©å±•ç­‰ã€‚</p>
<p>å½“ç„¶ï¼Œä½ å¯ä»¥é€šè¿‡å®˜æ–¹æ–‡æ¡£ï¼ˆ <a href="https://reactnative.cn/docs/native-modules-android">Android</a>/ <a href="https://reactnative.cn/docs/native-modules-ios">iOS</a>ï¼‰ï¼Œå¿«é€Ÿè®¿é—®ä½ çš„åŸç”Ÿæ¨¡å—ã€‚ä½†å®˜æ–¹æ–‡æ¡£æä¾›çš„ä¸»è¦æ˜¯ç®€å•çš„ Demo å’Œæ­¥éª¤ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œä½ å¯èƒ½è¿˜éœ€è¦è‡ªå®šä¹‰ç»„ä»¶çš„æ–¹æ–¹é¢é¢ï¼ŒåŒ…æ‹¬æ–°æ¶æ„å®šä¹‰ç»„ä»¶çš„å…¨æµç¨‹ï¼Œä»¥åŠå®é™…ä¸šåŠ¡ä¸­çš„è¸©å‘æŒ‡å—ç­‰ã€‚</p>
<p>ä»Šå¤©è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä¼šå…ˆå¸¦ä½ è¡¥é½ç»„ä»¶çš„ç›¸å…³åŸºç¡€çŸ¥è¯†ï¼ŒåŒ…æ‹¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€ç»„ä»¶ä¼ è¾“æ•°æ®ç±»å‹ï¼Œå¹¶ä»¥æ–°æ¶æ„çš„TurboModule å’Œ Fabric ä¸ºæ¡ˆä¾‹ï¼Œå¸¦ä½ äº†è§£è‡ªå®šä¹‰ç»„ä»¶çš„æ–¹æ–¹é¢é¢ã€‚ä½ ä¹Ÿèƒ½å€Ÿæ­¤å¯¹React Nativeæ–°æ¶æ„å»ºç«‹èµ·åˆæ­¥è®¤è¯†ã€‚æ¥ä¸‹æ¥è®©æˆ‘ä»¬å…ˆäº†è§£ä¸‹æœŸå¾…å·²ä¹…çš„ React Native æ–°æ¶æ„ã€‚</p>
<h2 id="_1">æ–°æ¶æ„ä»‹ç»</h2>
<p>æˆ‘ä»¬ç°åœ¨å…ˆé€šè¿‡ä¸‹é¢è¿™å¼ å›¾ç®€å•å¯¹æ¯”ä¸‹æ–°è€æ¶æ„ï¼š</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/3e/31/3eb92714433185cd0a095yy2e1a36331.jpg?wh=1920x932" /></p>
<p>æ–°æ¶æ„å˜æ›´ç‚¹ä¸»è¦åœ¨ä¸‹é¢è¿™å‡ ä¸ªæ–¹é¢ï¼š</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/4d/8d/4df0702732be0a4922444d575980828d.png?wh=1894x1216" /></p>
<p>å‰é¢ä¹Ÿè¯´äº†ï¼Œæˆ‘ä»¬ä¸€è®²å°†ä»¥ TurboModule å’Œ Fabric ä¸ºæ¡ˆä¾‹å¯¹è‡ªå®šä¹‰ç»„ä»¶è¿›è¡Œè®²è§£ã€‚æ‰€ä»¥ä½ ç°åœ¨éœ€è¦å¯¹æ–°æ¶æ„æœ‰ä¸€ä¸ªåˆæ­¥çš„è®¤è¯†ï¼Œç‰¹åˆ«æ˜¯è¦æ³¨æ„ï¼ŒTurboModule å’Œ Fabric å¯¹æ¯”æ—§ç‰ˆçš„ Native Module å’Œ UIManager æœ‰å“ªäº›å·®å¼‚å’Œä¼˜åŠ¿ã€‚</p>
<p>å¦‚æœä½ è¿˜æƒ³äº†è§£æ–°æ¶æ„çš„æ›´å¤šä¿¡æ¯ï¼Œä½ å¯ä»¥å‚è€ƒ <a href="https://reactnative.dev/docs/new-architecture-intro">å®˜æ–¹æ–‡æ¡£</a>ã€‚è¿™é‡ŒåŒ…æ‹¬äº†æ–°æ¶æ„ä»‹ç»ã€å¦‚ä½•åœ¨ Androidã€iOS ä¸Šå¼€å¯æ–°æ¶æ„ã€å¦‚ä½•åœ¨ Androidã€iOS ä¸Šå¼€å¯ä½¿ç”¨ TurboModule å’Œ Fabricç­‰ã€‚ä½ ä¹Ÿå¯ä»¥æ ¹æ®å®˜æ–¹æ–‡æ¡£è¯•ç€ç¼–è¯‘è¿è¡Œæ–°æ¶æ„ã€‚</p>
<p>è€Œä¸”ï¼Œ <a href="https://github.com/software-mansion/react-native-screens">react-native-screens</a>ã€ <a href="https://github.com/software-mansion/react-native-gesture-handler">react-native-gesture-handler</a> ç­‰çŸ¥å React Native åº“çš„æ–°ç‰ˆéƒ½å·²é€‚é…äº†æ–°æ¶æ„ï¼Œæ„Ÿå…´è¶£çš„è¯ï¼Œä½ å¯ä»¥å»äº†è§£ä¸‹ã€‚</p>
<p>å¥½çš„ï¼Œç°åœ¨æˆ‘ä»¬è¿›å…¥è¿™ä¸€è®²çš„æ­£é¢˜ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<h2 id="_2">ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2>
<p>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼ŒæŒ‡çš„æ˜¯åœ¨ç»„ä»¶åˆ›å»ºã€æ›´æ–°ã€é”€æ¯çš„è¿‡ç¨‹ä¸­ä¼´éšçš„å„ç§å„æ ·çš„å‡½æ•°æ‰§è¡Œã€‚è¿™äº›åœ¨ç»„ä»¶ç‰¹å®šçš„æ—¶æœŸè¢«è§¦å‘çš„å‡½æ•°ï¼Œç»Ÿç§°ä¸ºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>è®©ç»„ä»¶æ‹¥æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´å¥½åœ°ç®¡ç†ç»„ä»¶çš„çŠ¶æ€ã€å†…å­˜ï¼Œè·Ÿéšè½½ä½“é¡µçš„ç”Ÿå‘½å‘¨æœŸåšç›¸åº”çš„å¤„ç†ã€‚</p>
<h3 id="android">Android</h3>
<p>åœ¨Androidç«¯ï¼Œä¸€ä¸ª Module ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>æ„é€  -&gt; åˆå§‹åŒ– -&gt; onHostResume() -&gt; onHostPause() -&gt; onHostDestroy()
</code></pre></div>
<p>è¿™å‡ ä¸ªç”Ÿå‘½å‘¨æœŸçš„æ„æ€æ˜¯ï¼š</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/1b/1b/1bdfff7c48055490ce06ab49eff5f01b.png?wh=1824x1110" /></p>
<p>å¦‚æœä½ ä¸ç†Ÿæ‚‰ Android Activity/Fragment ç”Ÿå‘½å‘¨æœŸï¼Œé‚£ä½ å¯ä»¥çœ‹ä¸‹ <a href="https://www.jianshu.com/p/1b3f829810a1">è¿™ç¯‡æ–‡ç« </a> åŠ æ·±ä¸‹ç†è§£ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•è®© Native Module å…·å¤‡ç”Ÿå‘½å‘¨æœŸå‘¢ï¼Ÿ</p>
<p>React Native ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¥å£ï¼šcom.facebook.react.bridge.LifecycleEventListenerã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ç»„ä»¶ä¸­æ·»åŠ è¿™ä¸ªæ¥å£çš„æ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œï¼Œå°±å¯ä»¥è®©ç»„ä»¶å…·å¤‡ç”Ÿå‘½å‘¨æœŸäº†ã€‚è¿™é‡Œè¦æ³¨æ„ï¼Œä¸è¦å¿˜è®°åœ¨ onHostDestroy() ä¸­ç§»é™¤æ³¨å†Œï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>public class TestJavaModule extends ReactContextBaseJavaModule
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a> implements LifecycleEventListener, ReactModuleWithSpec, TurboModule {
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    public TestJavaModule(ReactApplicationContext reactContext) {
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>       super(reactContext.real());
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>       reactContext.addLifecycleEventListener(this);
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    }
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    @Override
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    public String getName() {
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>       return getClass().getSimpleName();
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    }
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    @Override
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    public void onHostResume() {
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    }
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    @Override
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    public void onHostPause() {
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>    }
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>    @Override
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    public void onHostDestroy() {
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>       getReactApplicationContext().removeLifecycleEventListener(this);
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>    }
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>}
</code></pre></div>
<p>å…¶å®ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸåŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚å½“è½½ä½“é¡µè§¦å‘è‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒæ—¶ï¼Œè°ƒç”¨ ReactInstanceManager çš„ onHostXXX() æ–¹æ³•ï¼ŒReactInstanceManager è¿›è€Œè°ƒç”¨ ReactContext çš„å¯¹åº”å›è°ƒã€‚</p>
<p>æ¯”å¦‚è½½ä½“é¡µè°ƒç”¨ onResume() æ—¶ï¼Œæœ€ç»ˆä¼šè°ƒç”¨ ReactContext çš„ onHostResume()ï¼Œå†…éƒ¨ä¼šéå†æ³¨å†Œçš„äº‹ä»¶è¿›è¡Œå›è°ƒï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>public void onHostResume(@Nullable Activity activity) {
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    Iterator iterator = this.mLifecycleEventListeners.iterator();
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    while(iterator.hasNext()) {
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        LifecycleEventListener listener = (LifecycleEventListener) iterator.next();
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        // è§‚å¯Ÿè€…æ¨¡å¼ï¼Œè½½ä½“é¡µæ—¶è°ƒç”¨å·²æ³¨å†Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒ
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        listener.onHostResume();
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    }
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>}
</code></pre></div>
<p>ä»¥ä¸Šå°±æ˜¯ Android ç«¯ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„è®²è§£ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ iOS ç«¯ã€‚</p>
<h3 id="ios">iOS</h3>
<p>iOSä¸­ NativeModules ç»„ä»¶çš„åˆ›å»ºé”€æ¯æ—¶æœºï¼Œä¸bridgeçš„åˆ›å»ºé”€æ¯æ—¶æœºå®Œå…¨ä¸€è‡´ï¼š</p>
<ul>
<li>allocï¼šåˆ›å»ºå½“å‰ç»„ä»¶ï¼›</li>
<li>deallocï¼šé”€æ¯å½“å‰ç»„ä»¶ã€‚</li>
</ul>
<p>åˆ›å»ºä¸€ä¸ªç»„ä»¶TestNativeModuleï¼Œé€šè¿‡RCT_EXPORT_MODULE() å£°æ˜ç»„ä»¶ï¼Œé»˜è®¤ä¼šæ ¹æ®ç±»åå£°æ˜ç»„ä»¶åï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡åœ¨å‚æ•°ä¸­ä¼ å…¥å…¶ä»–å­—ç¬¦ä¸²ä½œä¸ºç»„ä»¶çš„åã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>@implementation TestNativeModule
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>RCT_EXPORT_MODULE()
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>- (instancetype)init{
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Â  self = [super init];
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Â  return self;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>}
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>- (void)dealloc{
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>  NSLog(@&quot;dealloc&quot;);
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>}
</code></pre></div>
<p>è€Œ <strong>TurboModule</strong> ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå´ä¸ NativeModule ä¸åŒã€‚TurboModule é‡‡ç”¨æ‡’åŠ è½½æ¨¡å¼ï¼Œåœ¨ Bridge åˆ›å»ºåé¡µé¢ä¸­ç¬¬ä¸€æ¬¡ import å½“å‰TurboModule ï¼Œä¹Ÿå°±æ˜¯ JavaScript ç«¯é€šè¿‡ <strong>TurboModuleRegistry.getEnforcing</strong> æ–¹æ³•åŠ è½½ç»„ä»¶æ—¶ï¼Œ Native ä¼šåˆ›å»ºå¯¹åº”çš„ TurboModule å¹¶è¿›è¡Œç¼“å­˜ã€‚å¦‚æœ JS ç«¯æ²¡æœ‰åŠ è½½å½“å‰è‡ªå®šä¹‰ç»„ä»¶ï¼Œè¯¥ç»„ä»¶å°±ä¸ä¼šè¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p>JS ç«¯åŠ è½½ç»„ä»¶æ–¹å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>export default (TurboModuleRegistry.getEnforcing&lt;Spec&gt;(
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>   &#39;TestTurboModule&#39;)
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>  : Spec);
</code></pre></div>
<p>è€ŒTurboModule çš„é”€æ¯æ—¶æœºä¸ Bridge çš„é”€æ¯æ—¶æœºä¸€è‡´ã€‚ Bridge è¿›è¡Œé”€æ¯æ—¶ä¼šå‘é€ä¸€ä¸ª RCTBridgeDidInvalidateModulesNotification é€šçŸ¥ï¼ŒTurboModuleManagerä¼šç›‘å¬è¯¥äº‹ä»¶ï¼Œä¾æ¬¡å¯¹æ‰€æœ‰å·²åˆ›å»ºçš„ TurboModule è¿›è¡Œé”€æ¯ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>- (void)bridgeDidInvalidateModules:(NSNotification *)notification
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>{
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>Â  RCTBridge *bridge = notification.userInfo[@&quot;bridge&quot;];
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>Â  if (bridge != _bridge) {
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>Â  Â  return;
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>Â  }
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>Â  [self _invalidateModules];//é”€æ¯æ‰€æœ‰TurboModules
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>}
</code></pre></div>
<p>äº†è§£å®Œäº†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ç»„ä»¶çš„ä¼ è¾“æ•°æ®ç±»å‹ã€‚åœ¨ç»„ä»¶è¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒNative ä¸ JavaScript ä¸å¯é¿å…åœ°éœ€è¦è¿›è¡Œæ•°æ®äº¤äº’ï¼Œå¦‚ JavaScript è°ƒç”¨ç»„ä»¶æ–¹æ³•ä¼ å…¥æ•°æ®ï¼ŒNative å‘ JavaScript å›ä¼ ç»“æœï¼Œè€Œ React Native ä¹Ÿå¸®æˆ‘ä»¬å°è£…å¥½äº†å¯¹åº”çš„æ•°æ®ç±»å‹ã€‚</p>
<h2 id="_3">ç»„ä»¶ä¼ è¾“æ•°æ®ç±»å‹</h2>
<p>åœ¨ Native ä¸ JavaScript é€šä¿¡çš„è¿‡ç¨‹ä¸­ï¼Œç»„ä»¶éœ€è¦è·å–è¾“å…¥å‚æ•°ã€å›ä¼ ç»“æœï¼Œå¯¹æ­¤ React Native ç»™æˆ‘ä»¬åŒ…è£…äº†ç›¸åº”çš„æ•°æ®ç±»å‹ï¼Œæ–¹ä¾¿å¿«é€Ÿæ“ä½œï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªDemoæ¥ç®€å•äº†è§£ä¸‹ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬è®©JavaScriptç«¯è°ƒç”¨ TestModule çš„ testMethod æ–¹æ³•ï¼Œä¼ å…¥å‚æ•° type å’Œ messageï¼Œæ¥æ”¶ native å›ä¼ æ•°æ®ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>NativeModules.TestModule.testMethod({type: 1, message: &quot;fromJS&quot;}, (result)=&gt;{
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    console.info(result);
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>  }
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>);
</code></pre></div>
<p>ç„¶åæˆ‘ä»¬æ¥çœ‹TestModule åœ¨ Androidã€iOS ä¾§çš„å®ç°ã€‚å…ˆæ¥çœ‹ Android ç«¯æ˜¯æ€ä¹ˆåšçš„ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨å®ç° TestModule ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸‹ Android ç«¯çš„ç»„ä»¶ä¼ è¾“æ•°æ®ç±»å‹ï¼š</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/61/87/615f0162574e42c30557a1356472ee87.png?wh=744x924" /></p>
<p>è¿™é‡Œä½ è¦æ³¨æ„ï¼Œæ•°å­—ç±»å‹æœ‰ç‚¹ç‰¹æ®Šã€‚å› ä¸º JavaScript ä¸æ”¯æŒ long 64 ä½é•¿ç±»å‹ï¼Œåªæ”¯æŒ int (32)å’Œdoubleï¼Œæ‰€ä»¥å¯¹äºé•¿æ•°å­—ï¼ŒJavaScriptç«¯ç»Ÿä¸€ç”¨ double è¡¨ç¤ºã€‚é‚£ä¹ˆ Android ç«¯å¦‚ä½•è½¬æ¢æˆè‡ªå·±éœ€è¦çš„æ•°æ®ç±»å‹å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬ä»¥ long ä¸ºä¾‹ï¼Œå¯ä»¥è¿™æ ·å‚è€ƒ <a href="https://github.com/facebook/react-native/issues/12506">å®˜æ–¹issue</a> è¿™æ ·å¤„ç†ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>double value = readableMap.getDouble(key);
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>try {
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    // åˆ¤æ–­æ˜¯å¦ä¸º long çš„èŒƒå›´: è¶…è¿‡äº† int çš„æœ€å¤§å€¼ä¸”ä¸ºæ•´æ•°
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    if (value &gt; Integer.MAX_VALUE &amp;&amp; value % 1 == 0) {
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>        long cv = (long) value;
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>        // è½¬æ¢æˆ long å‹è¿”å›
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    }
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>} catch (Exception e) {
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    // å¼‚å¸¸æ—¶ï¼Œä»ä½¿ç”¨ double
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>}
</code></pre></div>
<p>è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å…ˆå°† JavaScript ä¼ å…¥çš„æ•°å€¼ç»Ÿä¸€ä»¥åŒç²¾åº¦æµ®ç‚¹æ•° double æ¥è·å–ã€‚è·å–å®Œåï¼Œåˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦è¶…å‡ºäº†æ•´æ•°çš„æœ€å¤§å€¼ä¸”ä¸ä¸ºå°æ•°ï¼Œæ¡ä»¶ç¬¦åˆå°±å°†å®ƒè½¬æ¢æˆé•¿æ•´æ•° longï¼Œå¦åˆ™è¿˜æ˜¯ä»¥ double æ¥è¿”å›ã€‚</p>
<p>äº†è§£å®Œ Android ç«¯çš„ç»„ä»¶æ•°æ®ä¼ è¾“ç±»å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥å®ç°ä¸Šæ–‡ä¸­çš„ TestModuleäº†ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>public class TestModule extends ReactContextBaseJavaModule implements ReactModuleWithSpec, TurboModule {
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>   public TestModule(ReactApplicationContext reactContext) {
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>      super(reactContext.real());
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>   }
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>   @Override
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>   public String getName() {
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>      return getClass().getSimpleName();
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>   }
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>   @ReactMethod
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>   public void testMethod(ReadableMap data, Callback callback) {
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>      // è·å– JS çš„è°ƒç”¨è¾“å…¥å‚æ•°
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>      int type = data.getInt(&quot;type&quot;);
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>      String message = data.getString(&quot;message&quot;);
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>      // å›ä¼ æ•°æ®ç»™ JS
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>      WritableMap resultMap = new WritableNativeMap();
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>      map.putInt(&quot;code&quot;, 1);
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>      map.putString(&quot;message&quot;, &quot;success&quot;);
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>      callback.invoke(resultMap);
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>   }
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>}
</code></pre></div>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº† Native ç»„ä»¶ TestModuleï¼Œå†…éƒ¨å®ç°äº† JavaScript éœ€è¦è°ƒç”¨çš„ testMethod æ–¹æ³•ã€‚æ­¤æ–¹æ³•åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼šReadableMap å’Œ Callbackã€‚ReadableMap ä¸º JavaScript ä¼ å…¥å‚æ•°çš„å­—å…¸ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹åº”çš„ key è·å–åˆ° JavaScript çš„å…¥å‚å€¼ï¼Œè€Œ Callback æ˜¯åœ¨ Native å›ä¼ æ•°æ®æ—¶éœ€è¦ä½¿ç”¨çš„ï¼Œåé¢æˆ‘ä»¬è¿˜æœ‰å¯¹é€šä¿¡æ–¹å¼è¿™éƒ¨åˆ†çš„è®²è§£ï¼Œè¿™é‡Œæˆ‘ä»¬åªéœ€è¦äº†è§£ä¸€ä¸‹å°±å¥½ã€‚</p>
<p>å…·ä½“å®ç°ä¸Šï¼Œæˆ‘ä»¬æ˜¯é¦–å…ˆè·å– JavaScript è°ƒç”¨ä¼ å…¥çš„ type å’Œ messageï¼Œç„¶åå†é€šè¿‡ WritableMap å†™å…¥æ•°æ®ï¼Œæœ€åé€šè¿‡ callback å›ä¼ ç»™ JavaScriptã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯ Android ç«¯çš„ React Native è¯»å†™æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ iOS ç«¯ã€‚</p>
<p>iOSç«¯ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåœ¨å®ç°å‰é¢è¿™ä¸ª demo å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆçœ‹ä¸‹ iOS ç«¯æ”¯æŒçš„ä¼ å…¥æ•°æ®ç±»å‹ï¼š</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/af/f8/afbea1f2yyfa12fec0df7248913d97f8.png?wh=772x956" /></p>
<p>é‚£ä¹ˆï¼ŒiOSç«¯ä¸­æ˜¯å¦‚ä½•å®ç°ä¸Šæ–‡ä¸­çš„TestModuleçš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨Moduleä¸­è¿›è¡Œcallbackï¼Œç„¶åé€šè¿‡NSArrayæ¥è¿”å›ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>RCT_EXPORT_METHOD(getValueWithCallback : (RCTResponseSenderBlock)callback){
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>Â  if (!callback) {
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>Â  Â  return;
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>Â  }
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>Â  callback(@[ @&quot;value from callback!&quot; ]);
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>}
</code></pre></div>
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬è¿™ä¸ªç»„ä»¶æ¡ˆä¾‹ï¼Œåªæ˜¯æ¼”ç¤ºäº† Native å¯ä»¥é€šè¿‡ callback å‘ JavaScript å›ä¼ æ•°æ®ã€‚é‚£ä¹ˆé™¤äº† callbackï¼ŒReact Native ä¸åŸç”Ÿè¿˜æœ‰ä»€ä¹ˆé€šä¿¡æ–¹å¼å‘¢ï¼Ÿ</p>
<h2 id="react-native">React Native ä¸åŸç”Ÿçš„é€šä¿¡æ–¹å¼</h2>
<p>æ€»ä½“æ¥è¯´ï¼Œnative å‘ JavaScript ä¼ é€’æ•°æ®çš„æ–¹å¼åˆ†æˆä»¥ä¸‹ä¸‰ç§ï¼š</p>
<ul>
<li>Callbackï¼šç”± JavaScript ä¸»å¯¼è§¦å‘ï¼ŒNative è¿›è¡Œå›ä¼ ï¼Œä¸€æ¬¡è§¦å‘åªèƒ½ä¼ é€’ä¸€æ¬¡ï¼›</li>
<li>Promiseï¼šç”± JavaScript ä¸»å¯¼è§¦å‘ï¼ŒNative è¿›è¡Œå›ä¼ ï¼Œä¸€æ¬¡è§¦å‘åªèƒ½ä¼ é€’ä¸€æ¬¡ã€‚Promise æ˜¯ ES6 çš„æ–°ç‰¹æ€§ï¼Œç±»ä¼¼ RXJava çš„é“¾å¼è°ƒç”¨ã€‚Promise æœ‰ä¸‰ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯pending (è¿›è¡Œæ—¶)ã€resolve (å·²å®Œæˆ)ã€reject (å·²å¤±è´¥)ï¼›</li>
<li>å‘é€äº‹ä»¶ï¼šç”± Native ä¸»å¯¼è§¦å‘ï¼Œå¯ä¼ é€’å¤šæ¬¡ï¼Œç±»ä¼¼ Android çš„å¹¿æ’­å’Œ iOS çš„é€šçŸ¥ä¸­å¿ƒã€‚</li>
</ul>
<p>Callback åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å·²ç»å‡ºç°è¿‡äº†ï¼Œæˆ‘ä»¬é€šè¿‡ callback.invoke(xx) å°±å¯ä»¥å°†æ•°æ®å›ä¼ ç»™ JavaScriptï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œè¿™è¾¹æˆ‘ä»¬å°±ä¸å†èµ˜è¿°äº†ã€‚ç°åœ¨æˆ‘ä»¬ä¸»è¦æ¥çœ‹ä¸‹ Promise å’Œå‘é€äº‹ä»¶çš„ç¤ºä¾‹ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£ React Native å’ŒåŸç”Ÿä¹‹é—´æ˜¯å¦‚ä½•è¿›è¡Œé€šä¿¡çš„ã€‚</p>
<p><strong>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸‹Promise ç¤ºä¾‹</strong>ï¼Œæˆ‘ä»¬ä» JavaScript å¦‚ä½•è§¦å‘ã€Native å¦‚ä½•å›ä¼ æ•°æ®ä¸¤æ–¹é¢æ¥è¿›è¡Œè®²è§£ã€‚</p>
<p>é¦–å…ˆï¼ŒJavaScript ç«¯è°ƒç”¨å®¢æˆ·ç«¯å®šä¹‰çš„ SystemPropsModule çš„ getSystemModel æ¥è·å–æ‰‹æœºçš„è®¾å¤‡ç±»å‹ï¼Œè·å–ç»“æœçš„æ–¹å¼ä½¿ç”¨ Promise æ–¹å¼ ï¼ˆthenâ€¦ catchâ€¦ï¼‰ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>NativeModules.SystemPropsModule.getSystemModel().then(result=&gt; {
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>  console.log(result);
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>}).catch(error=&gt; {
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>   console.log(error);
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>});
</code></pre></div>
<p>ç„¶åï¼ŒNative ç«¯å®šä¹‰ SystemPropsModuleï¼Œå®ç° getSystemModel æ–¹æ³•ï¼Œå†…éƒ¨ä½¿ç”¨ promise è·å–æ‰‹æœºçš„ model æ•°æ®ã€‚ä½¿ç”¨ promise.reolve(xx) ä¸ºæˆåŠŸï¼Œpromise.reject(xx) ä¸ºå¤±è´¥ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>SystemPropsModuleï¼š
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>...
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>@ReactMethod
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>public void getSystemModel(Promise promise) {
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    // å›ä¼ æˆåŠŸï¼Œä½¿ç”¨ resolve
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>    promise.resolve(Build.MODEL);
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>}
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>...
</code></pre></div>
<p><strong>æ¥ä¸‹æ¥çœ‹å‘é€äº‹ä»¶ç¤ºä¾‹</strong>ï¼Œæˆ‘ä»¬ä» JavaScript å¦‚ä½•ç›‘å¬ Native äº‹ä»¶ã€Native å¦‚ä½•å‘é€äº‹ä»¶è¿™ä¸¤æ–¹é¢æ¥è¿›è¡Œè®²è§£ã€‚</p>
<p>é¦–å…ˆï¼ŒJavaScript ç«¯ä½¿ç”¨ EventEmitterManager æ¥æ³¨å†Œ Native çš„äº‹ä»¶ç›‘å¬ã€‚é€šè¿‡ NativeModules è·å– EventEmitterManagerï¼Œéšåä½¿ç”¨å®ƒæ„å»ºå‡º NativeEventEmitterï¼Œæœ€åé€šè¿‡ NativeEventEmitter æ³¨å†Œç›‘å¬ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>componentWillMount(){
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>   // æ‹¿åˆ°åŸç”Ÿæ¨¡å—
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>   var eventEmitterManager = NativeModules.EventEmitterManager;
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>   const nativeEventEmitter = new NativeEventEmitter(eventEmitterManager);
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>   const eventEmitterManagerEvent = EventEmitterManager.EventEmitterManagerEvent;
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>   // ç›‘å¬ Native å‘é€çš„é€šçŸ¥
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>   this.listener = nativeEventEmitter.addListener(eventEmitterManagerEvent, (data) =&gt;
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>       console.log(&quot;Receive native event: &quot; + data);
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>   );
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>}
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>componentWillUnmount(){
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>   // ç§»é™¤ç›‘å¬
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>   this.listener.remove();
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>}
</code></pre></div>
<p>åœ¨ Native ç«¯çš„ä½¿ç”¨åˆ™å¾ˆç®€å•ã€‚æˆ‘ä»¬è·å– RCTDeviceEventEmitter è¿™ä¸ª JSModuleï¼Œä½¿ç”¨ emit æ–¹æ³•å°±å¯ä»¥å‘ JavaScript å‘é€äº‹ä»¶äº†ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>reactContext.getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>  .emit(&quot;msg&quot;, &quot;say hello&quot;);
</code></pre></div>
<p>è‡ªå®šä¹‰ç»„ä»¶ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬å…ˆä»‹ç»åˆ°è¿™é‡Œã€‚æ¥ä¸‹æ¥è¿›å…¥å®æˆ˜é˜¶æ®µï¼Œæˆ‘ä»¬å°†åˆ†åˆ«ä»¥ä¸€ä¸ªæ•°æ®å­˜å– TurboModule å’Œè§†é¢‘æ’­æ”¾ Fabric component çš„æ¡ˆä¾‹ï¼ŒåŠ æ·±ä½ å¯¹è‡ªå®šä¹‰ç»„ä»¶çš„ç†è§£ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹TurboModuleã€‚</p>
<h2 id="turbomodule">TurboModuleï¼šæ•°æ®å­˜å–</h2>
<p>TurboModule é‡‡ç”¨æ‡’åŠ è½½æ¨¡å¼ï¼Œåœ¨è¿è¡Œæ—¶ç¬¬ä¸€æ¬¡ import è¯¥ TurboModule æ—¶ï¼Œ Native ä¼šåˆ›å»ºå¯¹åº”çš„ TurboModule å¹¶è¿›è¡Œç¼“å­˜ã€‚è€Œæ—§ç‰ˆæœ¬çš„ NativeModule éƒ½æ˜¯åœ¨åˆ›å»ºç¯å¢ƒæ—¶ç»Ÿä¸€è¿›è¡Œæ„é€ çš„ï¼Œä¼šå¯¹ React Native çš„å¯åŠ¨æ€§èƒ½æœ‰æ¯”è¾ƒå¤§çš„å½±å“ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä»¥ä¸€ä¸ªå®é™…çš„æ¡ˆä¾‹æ¥å¸¦ä½ äº†è§£ TurboModuleã€‚å½“ä½ éœ€è¦ä½¿ç”¨ native æ•°æ®å­˜å–ç›¸å…³èƒ½åŠ›ï¼Œå¦‚è·¨è¿›ç¨‹å­˜å–ã€åå¥½å­˜å–ã€åŠ å¯†å­˜å–ç­‰ï¼Œè€Œ React Native è‡ªå¸¦çš„æ•°æ®å­˜å‚¨ module æ»¡è¶³ä¸äº†ä½ çš„éœ€æ±‚ï¼Œä½ å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ•°æ®å­˜å‚¨çš„ TurboMoudle æ¥å®ç°ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ JavaScript ä¾§ã€‚</p>
<h3 id="javascript">JavaScript</h3>
<p>åœ¨ Spec ä¸­å®šä¹‰æ–¹æ³•ï¼Œå®šä¹‰å¥½å­˜å’Œå–çš„æ–¹æ³•åï¼Œå†å¯¼å‡º StorageModuleï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>export interface Spec extends TurboModule {
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>+save: (key: string, value: string, callback: (value: Object) =&gt; void) =&gt; void;
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>+get: (key: string, callback: (value: Object) =&gt; void) =&gt; void;
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>}
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>// å¯¼å‡º StorageModule
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>export default (TurboModuleRegistry.getEnforcing&lt;Spec&gt;(
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>&#39;StorageModule&#39;,
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>): Spec);
</code></pre></div>
<p>è°ƒç”¨ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>NativeModules.StorageModule.save(&quot;testKey&quot;, &quot;testValue&quot;, (result)=&gt;{
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    console.info(result);
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>  }
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>);
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>NativeModules.StorageModule.get(&quot;testKey&quot;, (result)=&gt;{
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    console.info(result);
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>  }
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>);
</code></pre></div>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹çœ‹ Android ç«¯å’Œ iOS ç«¯çš„å®ç°ã€‚</p>
<h3 id="android_1">Android</h3>
<p>åœ¨å®ç° StorageModule ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ··åˆå·¥ç¨‹ä¸­ï¼Œå°† React Native æ–°æ¶æ„çš„è¿è¡Œé…ç½®æ­å»ºå¥½ï¼Œè¿™å¥—é…ç½®å¯ä»¥è¿è¡Œ TurboModuleã€Fabricï¼Œåé¢çš„ Fabric æ¡ˆä¾‹ä¹Ÿæ˜¯åŸºäºæ­¤é…ç½®æ¥è¿è¡Œçš„ã€‚</p>
<p>è€Œä¸”ï¼Œä¸Šä¸€è®²åœ¨æˆ‘ä»¬å·²ç»è®²è§£äº†å¦‚ä½•åŸºäº React Native æœ€æ–°ç‰ˆæœ¬ï¼ˆ0.68.0ï¼‰æ­å»ºæ··åˆåº”ç”¨ï¼Œæˆ‘ä»¬å†è¿™ä¸ªåŸºç¡€ä¸Šå¼€å¯æ–°æ¶æ„é…ç½®å°±å¥½äº†ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬è¦åšäº›å‡†å¤‡å·¥ä½œï¼Œä¹Ÿå°±æ˜¯è·å– newarchitecture çš„æ¨¡ç‰ˆä»£ç ã€‚</strong></p>
<p>æˆ‘ä»¬ä»¥ 0.68.0 ç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª React Native å·¥ç¨‹ï¼Œæ¥è·å–æ–°æ¶æ„çš„æ¨¡ç‰ˆä»£ç ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªå·¥ç¨‹åå«åšReactNativeNewArchï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>npx react-native init ReactNativeNewArch --version 0.68.0
</code></pre></div>
<p>åˆ›å»ºå¥½åï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹å·¥ç¨‹ä»£ç ï¼ŒåŒ…å« Java å’Œ C++ï¼š</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/f6/3a/f64e5f3da0730b6a6a8928dc9736ea3a.png?wh=1164x1394" /></p>
<p>è¿™äº›å·¥ç¨‹ä»£ç ä¸»è¦æ˜¯æ–°æ¶æ„çš„ JSIã€Fabricã€TurboModule çš„æ³¨å†Œå’ŒåŠ è½½ä»£ç ï¼Œå†…éƒ¨é€»è¾‘éå¸¸å¤æ‚ï¼Œè¿™ä¸€è®²æˆ‘ä»¬å°±ä¸åšè¿‡å¤šåˆ†æäº†ï¼Œå…ˆä¸“æ³¨äºå®æ“éƒ¨åˆ†ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³åŸºäºè¿™ä¸ª Demo å»è¿è¡Œæ–°æ¶æ„ï¼Œå¯ä»¥åšå¦‚ä¸‹æ“ä½œï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>1. ä¿®æ”¹ android ç›®å½•ä¸‹çš„ gradle.properties:
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a># å¼€å¯æ–°æ¶æ„
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>newArchEnabled=true
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a># é…ç½® java home ä¸º JDK 11
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>2. è¿è¡Œ
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>yarn react-native run-android
</code></pre></div>
<p><strong>ç¬¬äºŒæ­¥ï¼Œæ‹·è´ newarchitecture çš„æ¨¡ç‰ˆä»£ç åˆ°æˆ‘ä»¬ä¹‹å‰çš„æ··åˆå·¥ç¨‹ã€‚</strong></p>
<p>è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°† Java å±‚å’Œ C++ å±‚ä»£ç æ‹·è´åˆ°æ··åˆå·¥ç¨‹ä¸­ï¼Œéœ€è¦æ‹·è´çš„ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Java å±‚ï¼š
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>- MainComponentsRegistry.java
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>- MainApplicationTurboModuleManagerDelegate.java
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>C++ å±‚ï¼š
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>- jni ç›®å½•
</code></pre></div>
<p>æ‹·è´å®Œçš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š</p>
<p><img alt="å›¾ç‰‡" src="https://static001.geekbang.org/resource/image/b5/73/b51022154e4d1831428ced687c224173.png?wh=880x1076" /></p>
<p><strong>ç¬¬ä¸‰æ­¥æ˜¯ä¿®æ”¹æ‹·è´çš„ä»£ç ï¼Œä¸»è¦æ˜¯ä¸‹é¢è¿™å››ç‚¹ã€‚</strong></p>
<p><strong>1.MainApplicationTurboModuleManagerDelegate.javaï¼š</strong></p>
<p>ä¿®æ”¹ so åº“åç§°ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰åç§° geektime_new_archã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>@Override
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>protected synchronized void maybeLoadOtherSoLibraries() {
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>  if (!sIsSoLibraryLoaded) {
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    SoLoader.loadLibrary(&quot;geektime_new_arch&quot;);
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    sIsSoLibraryLoaded = true;
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>  }
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>}
</code></pre></div>
<p><strong>2.jni/Android.mkï¼š</strong> ä¿®æ”¹ Android.mk ä¸­çš„ so åº“åç§°ä¸ºä¸Šé¢çš„ geektime_new_archã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a># You can customize the name of your application .so file here.
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>LOCAL_MODULE := geektime_new_arch
</code></pre></div>
<p><strong>3.jni/MainApplicationTurboModuleManagerDelegate.hï¼š</strong> ä¿®æ”¹ MainApplicationTurboModuleManagerDelegate å¯¹åº”çš„ Java ç±»è·¯å¾„ï¼Œæˆªå›¾ä¸­æ‹·è´å¥½çš„ MainApplicationTurboModuleManagerDelegate.java è·¯å¾„ä¸º com/reactnativenewarch/newarchitecture/modulesã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>static constexpr auto kJavaDescriptor =
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    &quot;Lcom/reactnativenewarch/newarchitecture/modules/MainApplicationTurboModuleManagerDelegate;&quot;;
</code></pre></div>
<p><strong>4.jni/MainComponentsRegistry.hï¼š</strong> ä¿®æ”¹ MainComponentsRegistry å¯¹åº”çš„ Java ç±»è·¯å¾„ï¼Œæˆªå›¾ä¸­æ‹·è´å¥½çš„ MainComponentsRegistry.java è·¯å¾„ä¸º com/reactnativenewarch/newarchitecture/componentsã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>constexpr static auto kJavaDescriptor =
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>    &quot;Lcom/reactnativenewarch/newarchitecture/components/MainComponentsRegistry;&quot;;
</code></pre></div>
<p><strong>åšå®Œåï¼Œæœ€åä¸€æ­¥å°±æ˜¯ä¿®æ”¹ React Native åˆå§‹åŒ–ä»£ç äº†ã€‚</strong></p>
<p>è¿™é‡Œæœ‰ä¸¤å¤„è¦ä¿®æ”¹ã€‚ç¬¬ä¸€å¤„æ˜¯è®¾ç½® ReactPackageTurboModuleManagerDelegateBuilder ä¸ºä¸Šé¢çš„ MainApplicationTurboModuleManagerDelegateï¼ˆTurboModule ç”¨ï¼‰ï¼›ç¬¬äºŒå¤„æ˜¯è®¾ç½® setJSIModulesPackageï¼ˆFabric ç”¨ï¼ŒJSI å®ç°ï¼‰ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>public void initRN() {
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>    ReactInstanceManagerBuilder builder = ReactInstanceManager.builder()
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>        .setApplication((Application) getApplicationContext())
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>        .addPackage(new MainReactPackage())
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>        .setJSMainModulePath(&quot;index.android&quot;)
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>        .setInitialLifecycleState(LifecycleState.BEFORE_CREATE)
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>        .setReactPackageTurboModuleManagerDelegateBuilder(new MainApplicationTurboModuleManagerDelegate.Builder())
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>        .setJSIModulesPackage(getJSIModulePackage());
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>    ReactInstanceManager reactInstanceManager = builder.build();
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>}
</code></pre></div>
<p>å…¶ä¸­ getJSIModulePackage() æˆ‘ç‰¹æ„æ‘˜å‡ºæ¥æ”¾åœ¨äº†ä¸‹é¢ã€‚è¿™æ®µä»£ç å®ç°éœ€è¦ä»æ¨¡ç‰ˆä»£ç çš„ MainApplicationReactNativeHost çš„ getJSIModulePackage æ‹·è´ï¼Œå†…éƒ¨è°ƒç”¨äº†ä¸Šé¢çš„ MainComponentsRegistry è¿›è¡Œæ³¨å†Œï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>static JSIModulePackage getJSIModulePackage() {
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>  return new JSIModulePackage() {
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    @Override
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    public List&lt;JSIModuleSpec&gt; getJSIModules(
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>      final ReactApplicationContext reactApplicationContext,
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>      final JavaScriptContextHolder jsContext) {
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>      final List&lt;JSIModuleSpec&gt; specs = new ArrayList&lt;&gt;();
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>      specs.add(
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>          new JSIModuleSpec() {
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>            @Override
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>            public JSIModuleType getJSIModuleType() {
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>              return JSIModuleType.UIManager;
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>            }
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a>            @Override
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>            public JSIModuleProvider&lt;UIManager&gt; getJSIModuleProvider() {
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>              final ComponentFactory componentFactory = new ComponentFactory();
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>              CoreComponentsRegistry.register(componentFactory);
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>              MainComponentsRegistry.register(componentFactory);
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>              List&lt;ViewManager&gt; viewManagers = new ArrayList&lt;&gt;();
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a>              ViewManagerRegistry viewManagerRegistry = new ViewManagerRegistry(viewManagers);
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a>              return new FabricJSIModuleProvider(
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a>                  reactApplicationContext,
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a>                  componentFactory,
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a>                  new EmptyReactNativeConfig(),
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a>                  viewManagerRegistry);
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a>            }
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a>          });
<a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a>      return specs;
<a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a>    }
<a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a>  };
<a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a>}
</code></pre></div>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬æ–°æ¶æ„çš„è¿è¡Œç¯å¢ƒå°±é…ç½®å¥½äº†ã€‚ç”±äºç›®å‰æ–°æ¶æ„æ–‡ç« éå¸¸å°‘ï¼Œå‡ ä¹æ²¡æœ‰æ··åˆå·¥ç¨‹è¿è¡Œæ–°æ¶æ„çš„æ–¹æ¡ˆï¼Œä¸Šé¢è¿™äº›ä¸»è¦æ˜¯æˆ‘ä»¬ç”¨äº†å¤§é‡çš„æ—¶é—´å»è°ƒç ”å’Œæµ‹è¯•çš„ç»“æœï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p>
<p>å¥½äº†ï¼Œå›åˆ°æ­£é¢˜ã€‚åœ¨æ··åˆå·¥ç¨‹ä¸­ï¼Œæ–°æ¶æ„çš„è¿è¡Œç¯å¢ƒæ­å»ºå¥½åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®€å•å¿«é€Ÿåœ°æ¥å†™ TurboModule å’Œ Fabric äº†ã€‚</p>
<p>æˆ‘ä»¬ç»§ç»­æ¥è¿›è¡Œæ•°æ®å­˜å‚¨çš„ Demo åœ¨ Java å±‚å®šä¹‰å¹¶å®ç° StorageModuleã€‚Android ç«¯æˆ‘ä»¬ä½¿ç”¨ SharedPreferences æ¥å®ç°è½»é‡çº§åå¥½å­˜å–ã€‚è¿™é‡Œè¦æ³¨æ„ï¼Œä½ éœ€è¦ç»§æ‰¿ ReactModuleWithSpecå’ŒTurboModuleï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>// 1. å®šä¹‰ StorageModuleï¼Œç»§æ‰¿ ReactContextBaseJavaModule ç±»
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>// å®ç° ReactModuleWithSpec &amp; TurboModule æ¥å£
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>public class StorageModule extends ReactContextBaseJavaModule
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>    implements ReactModuleWithSpec, TurboModule {
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>    // native å­˜å‚¨çš„ sp æ–‡ä»¶åç§°
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>    private static final String SP_NAME = &quot;rn_storage&quot;;
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>    // è¿”å›ç»™ JS çš„ç»“æœç 
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>    private static final int CODE_SUCCESS = 1;
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>    private static final int CODE_ERROR = 2;
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>    public StorageModule(ReactApplicationContextWrapper reactContext) {
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>       super(reactContext);
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>    }
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>    // è¿”å› module åç§°ï¼Œä¸€èˆ¬ä»¥ç±»åä½œä¸º module åç§°
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>    @Override
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>    public String getName() {
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>       return StorageModule.class.getSimpleName();
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a>    }
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a>
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a>    // å®šä¹‰ä¾› JS è°ƒç”¨çš„å­˜å‚¨æ•°æ®æ–¹æ³•ï¼ŒisBlockingSynchronousMethod è¡¨ç¤ºæ˜¯å¦åŒæ­¥æ‰§è¡Œ
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a>    @ReactMethod(isBlockingSynchronousMethod = true)
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a>    public void save(String key, String value, Callback callback) {
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a>       WritableMap result = new WritableNativeMap();
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a>       // å¦‚æœ js ä¼ å…¥çš„ key ä¸ºç©ºï¼Œåˆ™å›ä¼ å¤±è´¥ç å’Œä¿¡æ¯
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a>       if (TextUtils.isEmpty(key)) {
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>           result.putInt(&quot;code&quot;, CODE_ERROR);
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a>           result.putString(&quot;msg&quot;, &quot;key is empty or null&quot;);
<a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a>           callback.invoke(result);
<a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a>           return;
<a id="__codelineno-25-31" name="__codelineno-25-31" href="#__codelineno-25-31"></a>       }
<a id="__codelineno-25-32" name="__codelineno-25-32" href="#__codelineno-25-32"></a>       // è°ƒç”¨ native çš„ sp è¿›è¡Œæ•°æ®å­˜å‚¨
<a id="__codelineno-25-33" name="__codelineno-25-33" href="#__codelineno-25-33"></a>       SharedPreferences sp = getReactApplicationContext().getSharedPreferences(SP_NAME, Context.MODE_PRIVATE);
<a id="__codelineno-25-34" name="__codelineno-25-34" href="#__codelineno-25-34"></a>       sp.edit().putString(key, value).apply();
<a id="__codelineno-25-35" name="__codelineno-25-35" href="#__codelineno-25-35"></a>       result.putInt(&quot;code&quot;, CODE_SUCCESS);
<a id="__codelineno-25-36" name="__codelineno-25-36" href="#__codelineno-25-36"></a>       result.putString(&quot;msg&quot;, &quot;save success&quot;);
<a id="__codelineno-25-37" name="__codelineno-25-37" href="#__codelineno-25-37"></a>       // å›ä¼  js å‘ŠçŸ¥å­˜å‚¨æˆåŠŸ
<a id="__codelineno-25-38" name="__codelineno-25-38" href="#__codelineno-25-38"></a>       callback.invoke(result);
<a id="__codelineno-25-39" name="__codelineno-25-39" href="#__codelineno-25-39"></a>   }
<a id="__codelineno-25-40" name="__codelineno-25-40" href="#__codelineno-25-40"></a>
<a id="__codelineno-25-41" name="__codelineno-25-41" href="#__codelineno-25-41"></a>    // å®šä¹‰ä¾› JS è°ƒç”¨çš„è·å–æ•°æ®æ–¹æ³•ï¼ŒisBlockingSynchronousMethod è¡¨ç¤ºæ˜¯å¦åŒæ­¥æ‰§è¡Œ
<a id="__codelineno-25-42" name="__codelineno-25-42" href="#__codelineno-25-42"></a>   @ReactMethod(isBlockingSynchronousMethod = true)
<a id="__codelineno-25-43" name="__codelineno-25-43" href="#__codelineno-25-43"></a>   public void get(String key, Callback callback) {
<a id="__codelineno-25-44" name="__codelineno-25-44" href="#__codelineno-25-44"></a>      // å¦‚æœ js ä¼ å…¥çš„ key ä¸ºç©ºï¼Œåˆ™å›ä¼ å¤±è´¥ç å’Œä¿¡æ¯
<a id="__codelineno-25-45" name="__codelineno-25-45" href="#__codelineno-25-45"></a>      WritableMap result = new WritableNativeMap();
<a id="__codelineno-25-46" name="__codelineno-25-46" href="#__codelineno-25-46"></a>      if (TextUtils.isEmpty(key)) {
<a id="__codelineno-25-47" name="__codelineno-25-47" href="#__codelineno-25-47"></a>         result.putInt(&quot;code&quot;, CODE_ERROR);
<a id="__codelineno-25-48" name="__codelineno-25-48" href="#__codelineno-25-48"></a>         result.putString(&quot;msg&quot;, &quot;key is empty or null&quot;);
<a id="__codelineno-25-49" name="__codelineno-25-49" href="#__codelineno-25-49"></a>         callback.invoke(result);
<a id="__codelineno-25-50" name="__codelineno-25-50" href="#__codelineno-25-50"></a>         return;
<a id="__codelineno-25-51" name="__codelineno-25-51" href="#__codelineno-25-51"></a>      }
<a id="__codelineno-25-52" name="__codelineno-25-52" href="#__codelineno-25-52"></a>      // è°ƒç”¨ native çš„ sp è·å– key å¯¹åº”çš„ value å€¼
<a id="__codelineno-25-53" name="__codelineno-25-53" href="#__codelineno-25-53"></a>      SharedPreferences sp = getReactApplicationContext().getSharedPreferences(SP_NAME, Context.MODE_PRIVATE);
<a id="__codelineno-25-54" name="__codelineno-25-54" href="#__codelineno-25-54"></a>      String value = sp.getString(key, &quot;&quot;);
<a id="__codelineno-25-55" name="__codelineno-25-55" href="#__codelineno-25-55"></a>      result.putInt(&quot;code&quot;, CODE_SUCCESS);
<a id="__codelineno-25-56" name="__codelineno-25-56" href="#__codelineno-25-56"></a>      result.putString(&quot;data&quot;, value);
<a id="__codelineno-25-57" name="__codelineno-25-57" href="#__codelineno-25-57"></a>      // å°†ç»“æœå›ä¼ ç»™ js
<a id="__codelineno-25-58" name="__codelineno-25-58" href="#__codelineno-25-58"></a>      callback.invoke(result);
<a id="__codelineno-25-59" name="__codelineno-25-59" href="#__codelineno-25-59"></a>  }
<a id="__codelineno-25-60" name="__codelineno-25-60" href="#__codelineno-25-60"></a>}
</code></pre></div>
<p>ç„¶åæ˜¯æ³¨å†Œç»„ä»¶ï¼Œæ³¨æ„ Package éœ€è¦ç»§æ‰¿ TurboReactPackageï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>public class MyTurboModulePackage extends TurboReactPackage {
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    @Override
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    public NativeModule getModule(String name, ReactApplicationContext reactContext) {
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>        switch(name) {
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>           case &quot;StorageModule&quot;:
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>              return new StorageModule(reactContext);
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>              break;
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>           default:
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>              return null;
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>        }
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>    }
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>    @Override
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>    public ReactModuleInfoProvider getReactModuleInfoProvider() {
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>      //...
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>    }
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>}
</code></pre></div>
<p>æ¥ä¸‹æ¥æ³¨å†Œåˆ° ReactInstanceManager ï¼ˆä½¿ç”¨ reactInstanceManagerBuilderæ³¨å†Œï¼‰ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>ReactInstanceManagerBuilder builder = ReactInstanceManager.builder()
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>   .addPackage(new MyTurboModulePackage());
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>... // å…¶ä»– RN åˆå§‹åŒ–é…ç½®
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>ReactInstanceManager reactInstanceManager = builder.build();
</code></pre></div>
<p>ç„¶åæˆ‘ä»¬åˆ©ç”¨æ–°æ¶æ„æä¾›çš„ Codegenï¼Œç”Ÿæˆæ–°æ¶æ„éœ€è¦çš„ native ä»£ç ã€‚ä¸è¿‡ï¼Œåœ¨ä½¿ç”¨ codegen ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­åº”ç”¨ç›¸å…³çš„æ’ä»¶ï¼š</p>
<p>(1) åœ¨å·¥ç¨‹æ ¹ç›®å½•å®‰è£… react-native-gradle-pluginã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>yarn add react-native-gradle-plugin
</code></pre></div>
<p>(2) åœ¨å·¥ç¨‹æ ¹ç›®è·¯çš„ settings.gradle ä¸­é…ç½® react-native-gradle-pluginï¼Œä½¿ç”¨å¤åˆæ„å»ºå¼•å…¥ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>include &#39;:app&#39;
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>rootProject.name = &quot;GeekTimeRNAndroid&quot;
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>includeBuild(&#39;./node_modules/react-native-gradle-plugin&#39;)
</code></pre></div>
<p>(3) åœ¨ app/build.gradle ä¸­åº”ç”¨æ’ä»¶ã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>apply plugin: &quot;com.facebook.react&quot;
</code></pre></div>
<p>è¿™æ ·åšåï¼Œå·¥ç¨‹çš„ gradle ä»»åŠ¡ä¸­å°±ä¼šå‡ºç° generateCodegenArtifactsFromSchema taskã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>é…ç½®å¥½åï¼Œæˆ‘ä»¬ä»¥åå°±å¯ä»¥ä½¿ç”¨ codegen èƒ½åŠ›äº†ï¼Œç„¶åæ‰§è¡Œ generateCodegenArtifactsFromSchemaï¼Œæœ€åè¿è¡ŒAppå°±å¯ä»¥äº†ã€‚
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>../gradlew generateCodegenArtifactsFromSchema
</code></pre></div>
<p>Androidç«¯çš„å°±æ˜¯è¿™æ ·ï¼Œç°åœ¨æˆ‘ä»¬çœ‹iOSç«¯éœ€è¦æ€ä¹ˆåšã€‚</p>
<h3 id="ios_1">iOS</h3>
<p>åœ¨iOSç«¯ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªç±»å¹¶éµå¾ªä¸€ä¸ªåè®® spec ï¼Œåè®®ä¸­åŒ…å«æ³¨å†Œçš„APIå£°æ˜ã€‚è€Œä¸”ï¼Œè¯¥åè®®éœ€è¦éµå¾ª RCTBridgeModule åè®®å’Œ RCTTurboModule åè®®ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªJSIã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>//å®šä¹‰ä¸€ä¸ªSpecåè®®
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>@protocol DataStorageTurboModuleSpec &lt;RCTBridgeModule, RCTTurboModule&gt;
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>- (NSString *)getString:(NSString *)string;
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>@end
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>//JSIå®ç°
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>namespace facebook {
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>namespace react {
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>class JSI_EXPORT DataStorageTurboModuleSpecJSI : public ObjCTurboModule {
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>Â   public:
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>Â    DataStorageTurboModuleSpecJSI(const ObjCTurboModule::InitParams &amp;params);
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>  };
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>} // namespace react
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>} // namespace facebook
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a>//å®šä¹‰ä¸€äº›æ–¹æ³•
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a>namespace facebook {
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>Â  namespace react {
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>Â  Â Â static facebook::jsi::Value __hostFunction_DataStorageTurboModuleSpecJSI_getString(
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a>Â  Â  facebook::jsi::Runtime &amp;rt,
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a>Â  Â  TurboModule &amp;turboModule,
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a>Â  Â  const facebook::jsi::Value *args,
<a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a>Â  Â  size_t count){
<a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a>Â    return static_cast&lt;ObjCTurboModule &amp;&gt;(turboModule)
<a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a>Â  Â  Â  .invokeObjCMethod(rt, VoidKind, &quot;getString&quot;, @selector(getString:), args, count);
<a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a>  }
<a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a>Â Â  DataStorageTurboModuleSpecJSI::NativeSampleTurboModuleSpecJSI(const ObjCTurboModule::InitParams &amp;params)
<a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a>Â  Â  : ObjCTurboModule(params)
<a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a>Â  {
<a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a>    //MethodMetadata ç¬¬ä¸€ä¸ªå‚æ•°ä¸º0ä»£è¡¨è¯¥æ–¹æ³•æœ‰ä¸€ä¸ªå‚æ•°
<a id="__codelineno-32-31" name="__codelineno-32-31" href="#__codelineno-32-31"></a>Â  Â  methodMap_[&quot;getString&quot;] = MethodMetadata{1, __hostFunction_DataStorageTurboModuleSpecJSI_getString};
<a id="__codelineno-32-32" name="__codelineno-32-32" href="#__codelineno-32-32"></a>Â  }
<a id="__codelineno-32-33" name="__codelineno-32-33" href="#__codelineno-32-33"></a>}
<a id="__codelineno-32-34" name="__codelineno-32-34" href="#__codelineno-32-34"></a>}
<a id="__codelineno-32-35" name="__codelineno-32-35" href="#__codelineno-32-35"></a>
<a id="__codelineno-32-36" name="__codelineno-32-36" href="#__codelineno-32-36"></a>//TurboModuleéµå¾ªSpecåè®®
<a id="__codelineno-32-37" name="__codelineno-32-37" href="#__codelineno-32-37"></a>@interface DataStorageTurboModule : NSObject &lt;DataStorageTurboModuleSpec&gt;
<a id="__codelineno-32-38" name="__codelineno-32-38" href="#__codelineno-32-38"></a>
<a id="__codelineno-32-39" name="__codelineno-32-39" href="#__codelineno-32-39"></a>@end
</code></pre></div>
<p>ä¹‹åï¼Œæˆ‘ä»¬è¦åœ¨è¯¥ç±»ä¸­æ³¨å†Œç»„ä»¶åå’ŒAPIï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>//DataStorageTurboModule.mm
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>@implementation DataStorageTurboModule
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>RCT_EXPORT_MODULE()
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>- (std::shared_ptr&lt;facebook::react::TurboModule&gt;)getTurboModule:
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>Â  Â  (const facebook::react::ObjCTurboModule::InitParams &amp;)params{
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>  //æŒ‡å®šJSI
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>Â  return std::make_shared&lt;DataStorageTurboModuleSpecJSI&gt;(params);
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>}
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>RCT_EXPORT_METHOD(getString:(NSString *)string){
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>  NSLog(@&quot;&quot;);
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>}
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>@end
</code></pre></div>
<p>ä»¥ä¸Šä¾¿æ˜¯è‡ªå®šä¹‰ä¸€ä¸ª TurboModuleçš„æµç¨‹ã€‚å…¶å®å®šä¹‰ TurboModule å¹¶ä¸å¤æ‚ï¼Œè€Œä¸” Facebook ä¹Ÿæä¾›äº†ä»£ç ç”Ÿæˆå·¥å…· codegenï¼Œæ¯”è¾ƒå¤æ‚çš„æ˜¯åœ¨æ··åˆå·¥ç¨‹ä¸­æ­å»ºæ–°æ¶æ„çš„è¿è¡Œç¯å¢ƒã€‚å‰é¢æˆ‘ä»¬èŠ±äº†ä¸å°‘å†…å®¹è®²è¿°å¦‚ä½•åœ¨å®¢æˆ·ç«¯å¼€å¯æ–°æ¶æ„ï¼Œæ¥ä¸‹æ¥çš„ Fabric ç»„ä»¶ä»‹ç»ä¹Ÿå°†åœ¨æ–°æ¶æ„ç¯å¢ƒåŸºç¡€ä¸Šè¿›è¡Œè®²è§£ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­æ¥çœ‹Fabric è‡ªå®šä¹‰ç»„ä»¶ã€‚</p>
<h2 id="fabric">Fabricï¼šè§†é¢‘æ’­æ”¾</h2>
<p>Fabric å¯¹æ ‡æ—§æ¡†æ¶çš„ UIManagerã€‚FabricUIManager å¯ä»¥å’Œ C++ å±‚ç›´æ¥è¿›è¡Œé€šè®¯ï¼Œè§£é™¤äº†åŸæœ‰çš„ UIManager ä¾èµ–å•ä¸ª bridge çš„é—®é¢˜ã€‚æœ‰äº† JSI åï¼Œä»¥å‰æ‰¹é‡ä¾èµ– bridge çš„ UI æ“ä½œï¼Œéƒ½å¯ä»¥åŒæ­¥æ‰§è¡Œåˆ° C++ å±‚ï¼Œæ€§èƒ½å¾—åˆ°å¤§å¹…æå‡ï¼Œç‰¹åˆ«æ˜¯åœ¨åˆ—è¡¨å¿«é€Ÿæ»‘åŠ¨ã€å¤æ‚åŠ¨ç”»äº¤äº’æ–¹é¢æå‡æ›´åŠ æ˜æ˜¾ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ªè§†é¢‘æ’­æ”¾ç»„ä»¶ä¸ºä¾‹ï¼Œè®²è®²å¦‚ä½•å®šä¹‰ Fabric ç»„ä»¶ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ JavaScript ç«¯çš„å®ç°ã€‚</p>
<h3 id="javascipt">JavaScipt</h3>
<p>JavaScriptéœ€è¦å®šä¹‰å±æ€§ä»¥åŠ APIï¼Œå¹¶ export ç»„ä»¶ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>type NativeProps = $ReadOnly&lt;{|
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>  ...ViewProps,
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>  url?: string
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>|}&gt;; // å®šä¹‰è§†é¢‘æ’­æ”¾çš„å±æ€§ï¼Œurl ä¸ºè§†é¢‘åœ°å€
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>export type VideoViewType = HostComponent&lt;NativeProps&gt;;
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>// å®šä¹‰è§†é¢‘æ’­æ”¾çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬å¼€å§‹æ’­æ”¾ã€åœæ­¢æ’­æ”¾ã€æš‚åœæ’­æ”¾
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>interface NativeCommands {
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>  +callNativeMethodToPlayVideo: (
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>  ) =&gt; void;
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>  +callNativeMethodToStopVideo: (
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>  ) =&gt; void;
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>  +callNativeMethodToPauseVideo: (
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>  ) =&gt; void;
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a>}
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>//å¯¼å‡ºå¤–éƒ¨è°ƒç”¨çš„å‘½ä»¤ï¼ŒåŒ…æ‹¬å¼€å§‹æ’­æ”¾ã€åœæ­¢æ’­æ”¾ã€æš‚åœæ’­æ”¾
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a>export const Commands: NativeCommands = codegenNativeCommands&lt;NativeCommands&gt;({
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>  supportedCommands: [&#39;callNativeMethodToPlayVideo&#39;],
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a>  supportedCommands: [&#39;callNativeMethodToStopVideo&#39;],
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a>  supportedCommands: [&#39;callNativeMethodToPauseVideo&#39;],
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a>});
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a>
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a>// å¯¼å‡ºåŒ…è£…å¥½çš„ç»„ä»¶ï¼Œå…¶ä¸­ VideoView ä¸ºå¼•å…¥ Native çš„ç»„ä»¶
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a>export default (codegenNativeComponent&lt;NativeProps&gt;(
<a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a>  &#39;VideoView&#39;,
<a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a>): VideoViewType);
</code></pre></div>
<p>JavaScript ç«¯ä½¿ç”¨è¯¥ç»„ä»¶ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>// å¯¼å…¥ ViewView ç»„ä»¶å’Œå·¥å…·
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>import VideoView, {
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>  Commands as VideoViewCommands,
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>} from &#39;./VideoNativeComponent&#39;;
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>// å¤–éƒ¨è°ƒç”¨æ­¤æ–¹æ³•å³å¯è°ƒç”¨ ViewView è§†é¢‘æ’­æ”¾èƒ½åŠ›
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>export default function MyView(props: {}): React.Node {
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>  return (
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>     &lt;View&gt;
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>         &lt;VideoView url={&quot;url&quot;} style={{flex: 1}} /&gt;
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>         &lt;Button title=&quot;play&quot; onPress={()=&gt;{
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a>             VideoViewCommands.callNativeMethodToPlayVideo();
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a>           }
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a>         }
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a>     &lt;/View&gt;
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>  )
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a>}
</code></pre></div>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹çœ‹ Android ç«¯å’Œ iOS ç«¯çš„å®ç°ã€‚</p>
<h3 id="android_2">Android</h3>
<p>ç”±äºåœ¨å‰é¢ TurboModule çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å·²ç»è®²è§£äº†å¦‚ä½•åœ¨æ··åˆå·¥ç¨‹ä¸­å¼€å¯æ–°æ¶æ„è¿è¡Œæ¨¡å¼ï¼Œæˆ‘ä¹ˆè¿™é‡Œå°±ä¸å†é‡å¤äº†ã€‚å‰é¢çš„æ–¹æ³•åŒæ ·é€‚ç”¨äº Fabricï¼Œæˆ‘ä»¬åªéœ€è¦æ­å»ºä¸€æ¬¡å°±å¥½äº†ã€‚æ‰€ä»¥ç°åœ¨è¦åœ¨ Android ç«¯å®ç° Fabric ç»„ä»¶ä¹Ÿéå¸¸ç®€å•ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å…·ä½“å®ç°ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼Œå®šä¹‰è§†é¢‘æ’­æ”¾æ¥å£ã€‚</strong></p>
<p>è¿™é‡Œæˆ‘ä»¬è¦å®šä¹‰ VideoViewManagerInterfaceï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªæ–¹æ³•ï¼šæ’­æ”¾è§†é¢‘ã€åœæ­¢æ’­æ”¾ã€æš‚åœæ’­æ”¾ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>public interface VideoViewManagerInterface&lt;T extends View&gt; {
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>   void playVideo(T view, String url);
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>   void stopVideo(T view);
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>   void pauseVideo(T view);
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>}
</code></pre></div>
<p><strong>ç¬¬äºŒæ­¥ï¼Œå®šä¹‰è§†é¢‘æ’­æ”¾ Viewã€‚</strong></p>
<p>è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬è¦å®ç°è§†é¢‘æ’­æ”¾çš„ Viewã€‚åœ¨ View ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®ç°è§†é¢‘çš„æ’­æ”¾ã€åœæ­¢å’Œæš‚åœåŠŸèƒ½ã€‚ä½†æ’­æ”¾èƒ½åŠ›çš„å®ç°å¹¶ä¸æ˜¯æˆ‘ä»¬è®²è§£çš„é‡ç‚¹ï¼Œæˆ‘ä»¬è¿™ä¸€è®²ä¾§é‡äºæ–°æ¶æ„ä¸­ Frabic ç»„ä»¶çš„å®ç°æµç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™è¾¹ä½¿ç”¨ä¼ªä»£ç ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>public class MyVideoView extends View {
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>   // ...
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>   public void playVideo(String url) {
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>       // æ’­æ”¾è§†é¢‘å®ç°
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>   }
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>   public void stopVideo() {
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>      // åœæ­¢è§†é¢‘æ’­æ”¾å®ç°
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>   }
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>   public void pauseVideo() {
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a>      // æš‚åœè§†é¢‘æ’­æ”¾å®ç°
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a>   }
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a>}
</code></pre></div>
<p><strong>ç¬¬ä¸‰æ­¥ï¼Œå®šä¹‰ ViewManagerã€‚</strong></p>
<p>åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬è¦å®ç°æš´éœ²ç»™ React Native è°ƒç”¨çš„èƒ½åŠ›ï¼ŒåŒ…æ‹¬è§†é¢‘æ’­æ”¾ã€åœæ­¢ï¼Œä»¥åŠæš‚åœï¼Œå†…éƒ¨ä¼šè½¬å‘åˆ°ä¸Šé¢æˆ‘ä»¬å®šä¹‰çš„è§†é¢‘æ’­æ”¾ View çš„å®ç°ä¸­ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>@ReactModule(name = VideoViewManager.REACT_CLASS)
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>public class VideoViewManager: ViewGroupManager&lt;VideoView&gt;(), VideoViewManagerInterface&lt;VideoView&gt; {
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>     private static final String REACT_CLASS = &quot;VideoView&quot;;
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>     public VideoViewManager() {
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>     }
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>     override
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a>     public String getName() {
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a>        return REACT_CLASS;
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>     }
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>     override
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a>     public VideoView createViewInstance(ThemedReactContext reactContext) {
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a>        return new MyVideoView(reactContext);
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a>     }
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a>     @ReactProp(name = &quot;url&quot;)
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a>     override
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a>     public void playVideo(VideoView view, String url) {
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a>        view.playVideo(url);
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a>     }
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a>     override
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a>     public void stopVideo(VideoView view) {
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a>        view.stopVideo();
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a>     }
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a>
<a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a>     override
<a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a>     public void pauseVideo(VideoView view) {
<a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a>        view.pauseVideo();
<a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a>     }
<a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a>}
</code></pre></div>
<p><strong>æœ€åä¸€æ­¥å°±æ˜¯æ³¨å†Œ ViewManagerã€‚</strong> æˆ‘ä»¬åœ¨ ReactInstanceManager çš„ JSIModulesPackage ä¸­æ³¨å†Œ VideoViewManagerï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>List&lt;ViewManager&gt; viewManagers = new ArrayList&lt;&gt;();
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>viewManagers.add(new VideoViewManager())
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>ViewManagerRegistry viewManagerRegistry = new ViewManagerRegistry(viewManagers);
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>return new FabricJSIModuleProvider(
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>    reactApplicationContext,
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>    componentFactory,
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>    new EmptyReactNativeConfig(),
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>    viewManagerRegistry);
</code></pre></div>
<p>ç„¶åæˆ‘ä»¬åˆ©ç”¨æ–°æ¶æ„æä¾›çš„ Codegenï¼Œè°ƒç”¨ gradlew generateCodegenArtifactsFromSchema ç”Ÿæˆä»£ç  Native ä»£ç ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>../gradlew generateCodegenArtifactsFromSchema
</code></pre></div>
<p>æœ€åï¼Œè¿è¡Œå³å¯ã€‚Android ç«¯çš„å®ç°å°±æ˜¯è¿™æ ·ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹ä¸‹ iOS ç«¯ã€‚</p>
<h3 id="ios_2">iOS</h3>
<p>åœ¨iOSç«¯æ±‡æ€»ï¼Œé¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªç»§æ‰¿äºRCTViewComponentView çš„ä¸€ä¸ªç±»ä½œä¸ºè§†é¢‘ç»„ä»¶ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>@interface VideoComponentView : RCTViewComponentView
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>//å£°æ˜æ’­æ”¾å™¨ç»„ä»¶çš„ä¸€äº›æ–¹æ³•
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>//æ’­æ”¾è§†é¢‘
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>- (void)playVideo;
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>//åœæ­¢è§†é¢‘
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>- (void)stopVideo;
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>//æš‚åœè§†é¢‘
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>- (void)pauseVideo;
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>@end
</code></pre></div>
<p>ä¹‹åï¼Œè¯¥ç±»éœ€è¦éµå¾ªä¸€ä¸ªåè®®ï¼Œåè®®ä¸­éœ€è¦å£°æ˜æ‰§è¡ŒCommandçš„æ–¹æ³•åï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>@protocol VideoComponentViewProtocol &lt;NSObject&gt;
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>- (void)callNativeMethodToPlayVideo;
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>- (void)callNativeMethodToStopyVideo;
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>- (void)callNativeMethodToPauseVideo;
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>@end
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>RCT_EXTERN inline void VideoComponentCommand(
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>        id&lt;VideoComponentViewProtocol&gt; componentView,
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>Â        NSString const *commandName,
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a>Â        NSArray const *args)
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a>    if([commandName isEqualToString:@&quot;callNativeMethodToPlayVideo&quot;]){
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a>        [componentView callNativeMethodToPlayVideo];
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a>        return;
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a>    }
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a>    if(![commandName isEqualToString:@&quot;callNativeMethodToStopVideo&quot;]){
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a>        [componentView callNativeMethodToStopVideo];
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a>        return;
<a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a>    }
<a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a>
<a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a>    if(![commandName isEqualToString:@&quot;callNativeMethodToPauseVideo&quot;]){
<a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a>        [componentView callNativeMethodToPauseVideo];
<a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a>        return;
<a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a>    }
<a id="__codelineno-42-26" name="__codelineno-42-26" href="#__codelineno-42-26"></a>    return;
<a id="__codelineno-42-27" name="__codelineno-42-27" href="#__codelineno-42-27"></a>)
</code></pre></div>
<p>æ¥ä¸‹æ¥ï¼ŒComponentViewéœ€è¦éµå¾ªè¯¥Protocolåè®®ï¼Œå¹¶åœ¨æ‰§è¡Œcommonæ—¶è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®¾ç½®ç»„ä»¶çš„å±æ€§ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>using namespace facebook::react;
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>@interface VideoComponentView() &lt;VideoComponentViewProtocol&gt;
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>@end
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>@implementation VideoComponentView{
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>  VideoPlayer *_videoPlayer;
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a>}
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a>#pragma mark - Native Commands
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a>- (void)handleCommand:(const NSString *)commandName args:(const NSArray *)args{
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a>Â  VideoComponentCommand(self, commandName, args);
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a>}
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a>
<a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a>- (void)callNativeMethodToPlayVideo{
<a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a>Â  //å®ç°è§†é¢‘æ’­æ”¾åŠŸèƒ½
<a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a>  [_videoPlayer startPlay];
<a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a>}
<a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a>
<a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a>- (void)callNativeMethodToStopVideo{
<a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a>  //å®ç°è§†é¢‘åœæ­¢åŠŸèƒ½
<a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a>  [_videoPlayer stopPlay];
<a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a>}
<a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a>
<a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a>- (void)callNativeMethodToPauseVideo{
<a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a>  //å®ç°è§†é¢‘æš‚åœåŠŸèƒ½
<a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a>  [_videoPlayer pausePlay];
<a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a>}
<a id="__codelineno-43-29" name="__codelineno-43-29" href="#__codelineno-43-29"></a>
<a id="__codelineno-43-30" name="__codelineno-43-30" href="#__codelineno-43-30"></a>#pragma mark - Props
<a id="__codelineno-43-31" name="__codelineno-43-31" href="#__codelineno-43-31"></a>//éµå¾ªdescriptoråè®®
<a id="__codelineno-43-32" name="__codelineno-43-32" href="#__codelineno-43-32"></a>+ (ComponentDescriptorProvider)componentDescriptorProvider{
<a id="__codelineno-43-33" name="__codelineno-43-33" href="#__codelineno-43-33"></a>Â  return concreteComponentDescriptorProvider&lt;VideoComponentDescriptor&gt;();
<a id="__codelineno-43-34" name="__codelineno-43-34" href="#__codelineno-43-34"></a>}
<a id="__codelineno-43-35" name="__codelineno-43-35" href="#__codelineno-43-35"></a>
<a id="__codelineno-43-36" name="__codelineno-43-36" href="#__codelineno-43-36"></a>- (instancetype)initWithFrame:(CGRect)frame{
<a id="__codelineno-43-37" name="__codelineno-43-37" href="#__codelineno-43-37"></a>Â  if (self = [super initWithFrame:frame]) {
<a id="__codelineno-43-38" name="__codelineno-43-38" href="#__codelineno-43-38"></a>Â  Â  static const auto defaultProps = std::make_shared&lt;const ComponentViewProps&gt;();
<a id="__codelineno-43-39" name="__codelineno-43-39" href="#__codelineno-43-39"></a>Â  Â  _props = defaultProps;
<a id="__codelineno-43-40" name="__codelineno-43-40" href="#__codelineno-43-40"></a>
<a id="__codelineno-43-41" name="__codelineno-43-41" href="#__codelineno-43-41"></a>Â  Â  _videoPlayer = [[VideoPlayer alloc] init];
<a id="__codelineno-43-42" name="__codelineno-43-42" href="#__codelineno-43-42"></a>Â  Â  self.contentView = _videoPlayer;
<a id="__codelineno-43-43" name="__codelineno-43-43" href="#__codelineno-43-43"></a>Â  }
<a id="__codelineno-43-44" name="__codelineno-43-44" href="#__codelineno-43-44"></a>Â  return self;
<a id="__codelineno-43-45" name="__codelineno-43-45" href="#__codelineno-43-45"></a>}
<a id="__codelineno-43-46" name="__codelineno-43-46" href="#__codelineno-43-46"></a>
<a id="__codelineno-43-47" name="__codelineno-43-47" href="#__codelineno-43-47"></a>- (void)updateProps:(Props::Shared const &amp;)props oldProps:(Props::Shared const &amp;)oldProps{
<a id="__codelineno-43-48" name="__codelineno-43-48" href="#__codelineno-43-48"></a>Â  [super updateProps:props oldProps:oldProps];
<a id="__codelineno-43-49" name="__codelineno-43-49" href="#__codelineno-43-49"></a>}
<a id="__codelineno-43-50" name="__codelineno-43-50" href="#__codelineno-43-50"></a>
<a id="__codelineno-43-51" name="__codelineno-43-51" href="#__codelineno-43-51"></a>- (void)onChange:(UIView *)sender{
<a id="__codelineno-43-52" name="__codelineno-43-52" href="#__codelineno-43-52"></a>Â  // No-op
<a id="__codelineno-43-53" name="__codelineno-43-53" href="#__codelineno-43-53"></a>Â  //Â  std::dynamic_pointer_cast&lt;const ViewEventEmitter&gt;(_eventEmitter)
<a id="__codelineno-43-54" name="__codelineno-43-54" href="#__codelineno-43-54"></a>Â  //Â  Â  Â  -&gt;onChange(ViewEventEmitter::OnChange{.value = static_cast&lt;bool&gt;(sender.on)});
<a id="__codelineno-43-55" name="__codelineno-43-55" href="#__codelineno-43-55"></a>}
<a id="__codelineno-43-56" name="__codelineno-43-56" href="#__codelineno-43-56"></a>
<a id="__codelineno-43-57" name="__codelineno-43-57" href="#__codelineno-43-57"></a>@end
<a id="__codelineno-43-58" name="__codelineno-43-58" href="#__codelineno-43-58"></a>
<a id="__codelineno-43-59" name="__codelineno-43-59" href="#__codelineno-43-59"></a>Class&lt;RCTComponentViewProtocol&gt; VideoViewCls(void){
<a id="__codelineno-43-60" name="__codelineno-43-60" href="#__codelineno-43-60"></a>Â  return VideoComponentView.class;
<a id="__codelineno-43-61" name="__codelineno-43-61" href="#__codelineno-43-61"></a>}
</code></pre></div>
<p>æ¥ç€ï¼Œæ³¨å†Œå±æ€§éµå¾ªVideoComponentDescriptorï¼Œå¹¶ä¸”éœ€è¦æŒ‡å®šè¯¥ç»„ä»¶çš„åå­—ï¼š</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>namespace facebook {
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>namespace react {
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>using VideoComponentDescriptor = ConcreteComponentDescriptor&lt;VideoViewShadowNode&gt;;
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>} // namespace react
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>} // namespace facebook
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>namespace facebook {
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>namespace react {
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>    extern const char VideoViewComponentName[];
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>    using VideoViewShadowNode = ConcreteViewShadowNode&lt;
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>Â  Â       VideoViewComponentName,//ç»„ä»¶å
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>Â  Â       VideoViewProps&gt;;//æ³¨å†Œå±æ€§
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a>} // namespace react
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a>} // namespace facebook
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a>
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a>namespace facebook {
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a>namespace react {
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a>extern const char VideoViewComponentName[] = &quot;VideoView&quot;;//ç»„ä»¶å
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a>} // namespace react
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a>} // namespace facebook
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a>namespace facebook {
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a>namespace react {
<a id="__codelineno-44-24" name="__codelineno-44-24" href="#__codelineno-44-24"></a>//å±æ€§å®šä¹‰
<a id="__codelineno-44-25" name="__codelineno-44-25" href="#__codelineno-44-25"></a>class VideoViewProps final : public ViewProps {
<a id="__codelineno-44-26" name="__codelineno-44-26" href="#__codelineno-44-26"></a>Â public:
<a id="__codelineno-44-27" name="__codelineno-44-27" href="#__codelineno-44-27"></a>Â  VideoViewProps() = default;
<a id="__codelineno-44-28" name="__codelineno-44-28" href="#__codelineno-44-28"></a>Â  VideoViewProps(const PropsParserContext&amp; context, const VideoViewProps &amp;sourceProps, const RawProps &amp;rawProps);
<a id="__codelineno-44-29" name="__codelineno-44-29" href="#__codelineno-44-29"></a>
<a id="__codelineno-44-30" name="__codelineno-44-30" href="#__codelineno-44-30"></a>  #pragma mark - Props
<a id="__codelineno-44-31" name="__codelineno-44-31" href="#__codelineno-44-31"></a>  std::string url{&quot;&quot;};//è§†é¢‘url
<a id="__codelineno-44-32" name="__codelineno-44-32" href="#__codelineno-44-32"></a>};
<a id="__codelineno-44-33" name="__codelineno-44-33" href="#__codelineno-44-33"></a>} // namespace react
<a id="__codelineno-44-34" name="__codelineno-44-34" href="#__codelineno-44-34"></a>} // namespace facebook
</code></pre></div>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±åˆ›å»ºå¥½äº†ä¸€ä¸ª React Native çš„ Fabric ç»„ä»¶ã€å®šä¹‰å±æ€§ä»¥åŠ API çš„æ–¹æ³•ã€‚</p>
<p>ä»¥ä¸Šä¾¿æ˜¯å¦‚ä½•ä½¿ç”¨ Fabric è‡ªå®šä¹‰è§†é¢‘æ’­æ”¾ç»„ä»¶ï¼Œåœ¨æ··åˆå·¥ç¨‹ä¸­æ­å»ºå¥½æ–°æ¶æ„çš„è¿è¡Œç¯å¢ƒåï¼Œåªéœ€è¦éµå®ˆ Fabric çš„ç»„ä»¶å®šä¹‰æ–¹å¼ï¼Œè¿›è¡Œæ¥å£å®šä¹‰ã€åŠŸèƒ½å®ç°å’Œç»„ä»¶æ³¨å†Œå³å¯ã€‚å…³äºä¸€äº›å¤æ‚çš„ Fabric ç»„ä»¶ï¼Œå¯ä»¥æŸ¥çœ‹ <a href="https://github.com/software-mansion/react-native-gesture-handler/tree/main/FabricExample">https://github.com/software-mansion/react-native-gesture-handler/tree/main/FabricExample</a>ï¼Œ <a href="https://github.com/software-mansion/react-native-reanimated/tree/main/FabricExample">https://github.com/software-mansion/react-native-reanimated/tree/main/FabricExample</a>ï¼Œç›®å‰ react-native-gesture-handlerã€react-native-reanimated éƒ½å·²ç»é€‚é…äº†æ–°æ¶æ„ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»å­¦ä¹ ä¸‹ã€‚</p>
<h2 id="_4">æ€»ç»“</h2>
<p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ç³»ç»Ÿè®²è§£äº†ä¸ªæ€§åŒ–ç»„ä»¶çš„ä½¿ç”¨åœºæ™¯ã€ç”Ÿå‘½å‘¨æœŸã€ä¼ è¾“ç±»å‹ï¼Œä»¥åŠé€šä¿¡æ–¹å¼ï¼Œå¹¶é€šè¿‡ä¸¤ä¸ªå®é™…æ¡ˆä¾‹è®²è§£äº†å¦‚ä½•åœ¨æ–°æ¶æ„ä¸‹å®šåˆ¶ä¸ªæ€§åŒ–çš„ TurboModules ä¸ Fabricã€‚è€Œä¸”ï¼Œæˆ‘ä»¬ä¹Ÿç®€å•ä»‹ç»äº†ä¸€ä¸‹React Nativeæ–°æ¶æ„ï¼Œä½ å¯ä»¥é€šè¿‡å®˜æ–¹æ–‡æ¡£è¿›è¡Œæ–°æ¶æ„çš„ä½“éªŒã€‚</p>
<p>è¿™ä¸€è®²æ˜¯æˆ‘ä»¬ Native ç›¸å…³çš„ä¸‰è®²ä¸­èŠ±çš„æ—¶é—´æœ€é•¿çš„ï¼Œä¹Ÿæ˜¯æœ€â€œä¼¤è‚â€çš„ï¼Œæˆ‘ä»¬å‰å‰åååŠ è°ƒç ”èŠ±äº†ä¸¤ä¸ªæœˆçš„æ—¶é—´ã€‚ä½†æˆ‘ä»¬ç›¸ä¿¡ï¼Œæ–°æ¶æ„åœ¨æœªæ¥ä¼šæœ‰å¾ˆå¥½çš„å‘å±•ï¼Œè¿™æ˜¯å¯ä»¥é¢„è§çš„ã€‚å› ä¸ºå®ƒè§£å†³äº† React Native å‡ ä¸ªæœ€ç—›çš„ç‚¹ï¼ŒåŒ…æ‹¬å¯åŠ¨é€Ÿåº¦ã€è¿è¡Œæ—¶æ€§èƒ½ç­‰ã€‚å¦‚æœæ–°æ¶æ„è¿˜èƒ½åœ¨æ˜“ç”¨æ€§ä¸Šç»§ç»­ä¼˜åŒ–ï¼Œå°†ä¼šå¤§å¤§æ‹“å±• React Native çš„ç”¨æˆ·ç¾¤ä½“ã€‚</p>
<p>å› ä¸ºç›®å‰æ–°æ¶æ„è¿˜å¤„äºæœªå‘å¸ƒçš„çŠ¶æ€ï¼Œç½‘ä¸Šç›¸å…³çš„æ–‡ç« å¤§éƒ½æ˜¯å¯¹å®˜æ–¹çº¯ React Native æ¨¡å¼ Demo å’Œä»‹ç»ï¼Œå°‘æ•°å‡ ç¯‡ä¼šæ·±æŒ–åŸç†ï¼Œä½†è®²æ··åˆæ¨¡å¼çš„æ–°æ¶æ„è¿è¡Œæ–‡ç« å‡ ä¹æ²¡æœ‰ã€‚æˆ‘ä»¬è¿™ä¸€è®²ä¸­å¯¹ TurboModule å’Œ Fabric çš„è®²è§£ï¼Œæ›´ä¾§é‡äºå¦‚ä½•åœ¨æ··åˆå·¥ç¨‹ä¸­å¼€å¯å¹¶è¿è¡Œã€‚å¦‚æœæœ‰å¯¹ TurboModuleã€Fabricã€JSI çš„åŸç†æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œåé¢æœ‰æœºä¼šæˆ‘ä»¬å†æ¥åˆ†äº«ã€‚</p>
<h2 id="_5">ä½œä¸š</h2>
<ol>
<li>è®¾è®¡ä¸€ä¸ªæ‰“å° Native æ—¥å¿—çš„ TurboModuleï¼Œä»¥åŠä¸€ä¸ª Native åŠ è½½è¿›åº¦æ¡çš„ Fabric ç»„ä»¶ã€‚</li>
</ol>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æƒ³æ³•å’Œç»éªŒï¼Œå’Œæˆ‘ä»¬å¤šå¤šäº¤æµã€‚æˆ‘ä»¬ä¸‹ä¸€è®²è§ã€‚</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../21-%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%9B%86%E6%88%90React%20Native%EF%BC%9F/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 21 æ··åˆåº”ç”¨ï¼šå¦‚ä½•ä»é›¶å¼€å§‹é›†æˆReact Nativeï¼Ÿ">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                21 æ··åˆåº”ç”¨ï¼šå¦‚ä½•ä»é›¶å¼€å§‹é›†æˆReact Nativeï¼Ÿ
              </div>
            </div>
          </a>
        
        
          
          <a href="../23-%E7%83%AD%E6%9B%B4%E6%96%B0%EF%BC%9A%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%83%AD%E6%9B%B4%E6%96%B0%E5%B9%B3%E5%8F%B0%EF%BC%9F/" class="md-footer__link md-footer__link--next" aria-label="Next: 23 çƒ­æ›´æ–°ï¼šå¦‚ä½•æ­å»ºä¸€ä¸ªçƒ­æ›´æ–°å¹³å°ï¼Ÿ">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                23 çƒ­æ›´æ–°ï¼šå¦‚ä½•æ­å»ºä¸€ä¸ªçƒ­æ›´æ–°å¹³å°ï¼Ÿ
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Â© 2025-Present zkep
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "content.tooltips", "toc.follow", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "navigation.footer", "navigation.tracking", "navigation.instant", "navigation.instant.progress", "navigation.indexes", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="../../../javascript/extra.js"></script>
      
        <script src="../../../javascript/giscus.js"></script>
      
    
  </body>
</html>