ä½ å¥½ï¼Œæˆ‘æ˜¯è’‹å®ä¼Ÿã€‚

æœ‰åŒå­¦åå°ç•™è¨€è¯´ï¼šâ€œæˆ‘æŠŠå…¬å¸åº”ç”¨å‡çº§åˆ°äº† 0.71.8 ç‰ˆæœ¬ï¼Œå¼€å¯æ–°æ¶æ„åï¼Œä¸€äº›ç»„ä»¶éƒ½ä¹±äº†ï¼ŒæŠ˜è…¾äº†ä¸‰å¤©æœ€ç»ˆæ— å¥ˆé€€å›åˆ°è€æ¶æ„äº†ã€‚â€

è¿™ä¸ªé—®é¢˜è¿˜æŒºå…¸å‹çš„ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠåˆ°åº•åº”è¯¥æ€ä¹ˆå‡çº§ï¼Ÿåˆ†äº«ä¸€äº›ç»éªŒã€‚

åœ¨ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘æŠŠæˆ‘ä»¬çš„æ•™å­¦é¡¹ç›® React-Native-Classroom é¡¹ç›®ï¼Œä» 0.68 å‡çº§åˆ°äº† 0.72 çš„æ–°æ¶æ„ï¼Œè¿ç§»è¿‡ç¨‹ååˆ†é¡ºåˆ©ã€‚è¿™æ˜¯å› ä¸º React-Native-Classroom é¡¹ç›®æ²¡æœ‰ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—æˆ–ç»„ä»¶ï¼Œå®ƒä½¿ç”¨çš„éƒ½æ˜¯å®˜æ–¹çš„æˆ–æˆç†Ÿçš„ç¤¾åŒºæ–¹æ¡ˆï¼Œè¿™äº›æ–¹æ¡ˆéƒ½å¯¹æ–°è€æ¶æ„è¿›è¡Œäº†å…¼å®¹ã€‚æ‰€ä»¥ï¼Œæ— éœ€é¢å¤–çš„ Native ä»£ç å‡çº§å·¥ä½œã€‚

ä½†æ˜¯ï¼Œæ–°æ—§æ¶æ„çš„è‡ªå®šä¹‰æ¨¡å—æˆ–ç»„ä»¶ç ”å‘æ–¹å¼å®Œå…¨ä¸åŒã€‚åŸæ¥é‚£äº›è‡ªå·±ç»´æŠ¤çš„è‡ªå®šä¹‰æ¨¡å—æˆ–ç»„ä»¶ï¼Œè¦å®Œå…¨å‡çº§æˆ Turbo Modules å’Œ Fabric Components æ˜¯éœ€è¦å¤§é‡çš„æ”¹é€ å·¥ä½œçš„ã€‚

å¯¹äºä¸šåŠ¡è€Œè¨€ï¼Œç ”å‘æ•ˆç‡æ˜¯ç¬¬ä¸€ä½çš„ã€‚é‚£å¦‚ä½•å‡çº§æ–°æ¶æ„ï¼Œæ‰èƒ½é™ä½å‡çº§æˆæœ¬å‘¢ï¼Ÿ

å…ˆè¯´ç»“è®ºï¼š**å‡çº§æ–°æ¶æ„æ—¶ä¸åŠ¨æ—§çš„ä¸šåŠ¡ä»£ç ï¼Œæ˜¯ä¸€ä¸ªå¥½ç­–ç•¥ã€‚**

## **è€ä»£ç æ˜¯å¦å…¼å®¹ï¼Ÿ**

é‚£é¦–å…ˆï¼Œæˆ‘ä»¬å°±æ¥æµ‹è¯•ï¼Œè€ä»£ç ä¸åšä»»ä½•ä¿®æ”¹ï¼Œèƒ½å¦ç›´æ¥åœ¨æ–°æ¶æ„ä¸Šè¿è¡Œï¼Ÿ

æˆ‘å‚è€ƒäº†å®˜æ–¹æ–‡æ¡£ä¸­çš„è€æ¶æ„éƒ¨åˆ†ï¼Œåˆ†åˆ«åˆ›å»ºäº†ä¸€ä¸ªè€æ¨¡å—å’Œä¸€ä¸ªè€ç»„ä»¶ã€‚

è€æ¨¡å—æ˜¯è‡ªå®šä¹‰çš„ç®€åŒ–ç‰ˆå­˜å‚¨æ¨¡å— StorageModuleã€‚å®ƒæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯åˆ©ç”¨é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨é”®å»è¯»å–å­˜å‚¨åœ¨ Native ç«¯çš„å€¼ã€‚å¦‚æœå­˜å‚¨ï¼ˆSET ITEMï¼‰å’Œè¯»å–ï¼ˆGET ITEMï¼‰æˆåŠŸï¼Œé‚£ä¹ˆå°±è¯´æ˜è¿™ç±»è€æ¨¡å—ä»£ç èƒ½åœ¨æ–°æ¶æ„ä¸­ç›´æ¥ä½¿ç”¨ã€‚

å…¶ JS çš„éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š

```plain
import {NativeModules} from 'react-native';

const StorageTest = () => {

 const handleSetItem = async () => {
   await NativeModules.StorageModule.setItem('testKey', 'Hello, World!');
 };

 const handleGetItem = async () => {
   const result = await NativeModules.StorageModule.getItem('testKey');
   console.log('Received value: ', result);
 };
  
 return <jsx.../>
};
```

è€ç»„ä»¶æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰è§†å›¾ CustomViewï¼Œå®ƒåªæœ‰ç®€å•çš„è®¾ç½®èƒŒæ™¯é¢œè‰²çš„åŠŸèƒ½ã€‚å¦‚æœé¢œè‰²è®¾ç½®æˆåŠŸï¼Œé‚£ä¹ˆå°±è¯´æ˜è¿™ç±»è€ç»„ä»¶ä»£ç åœ¨æ–°æ¶æ„ä¸­èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ã€‚

å…¶ JS éƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹ï¼š

```plain
import {requireNativeComponent} from 'react-native';

const CustomView = requireNativeComponent('CustomView');

const App: () => JSX.Element = () => {
 return (
   <CustomView
    style={{width: 100,height: 100 }}
    color="red"
   />
 );
};
export default App;
```

è¿™äº›åŸæœ¬è¿è¡Œåœ¨è€æ¶æ„ä¸Šçš„ä»£ç ï¼Œåœ¨å¼€å¯æ–°æ¶æ„åï¼Œè¿è¡Œçš„ç»“æœæˆªå›¾å¦‚ä¸‹ï¼š

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/09/d2/09dc5e6d2aa09150a890d1b1a7e819d2.png?wh=1244x898)

å¯ä»¥çœ‹åˆ°ï¼Œè€çš„è‡ªå®šä¹‰æ¨¡å— StorageModule æ­£å¸¸è¿è¡Œã€‚å®ƒèƒ½å¤Ÿä» Native ä¾§æ­£ç¡®åœ°å­˜å‚¨å’Œè¯»å– â€œHello, World!â€ è¿™æ®µæ–‡å­—ã€‚

ç„¶è€Œï¼Œè€çš„è‡ªå®šä¹‰ç»„ä»¶æŠ¥é”™äº†ã€‚æŠ¥é”™å†…å®¹ä»¥æ–‡å­—å½¢å¼æ˜¾ç¤ºåœ¨ç•Œé¢ä¸Šï¼Œæç¤ºæˆ‘ CustomView è€ç»„ä»¶ä¸å…¼å®¹ Fabricï¼Œæ— æ³•åœ¨æ–°æ¶æ„ä¸­è¿è¡Œã€‚

ä»ä¸Šè¿°ç®€å•çš„æ¼”ç¤ºä¸­ï¼Œå¯ä»¥æ¨æµ‹å®˜æ–¹é»˜è®¤å¯¹è€æ¶æ„çš„è‡ªå®šä¹‰æ¨¡å—ä»£ç åšäº†å…¼å®¹ï¼Œä½†å¹¶æœªå¯¹è€æ¶æ„çš„è‡ªå®šä¹‰ç»„ä»¶ä»£ç è¿›è¡Œç›´æ¥çš„å…¼å®¹ã€‚

## **è€ç»„ä»¶å…¼å®¹æ–¹æ¡ˆ**

ä¸ºäº†å…¼å®¹è€æ¶æ„çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œå®˜æ–¹æä¾›äº†ä¸€ç§æ‰‹åŠ¨å¼€å¯å…¼å®¹æ¨¡å¼çš„æ–¹æ¡ˆâ€”â€”[New Renderer Interop Layer](https://github.com/reactwg/react-native-new-architecture/discussions/135)ã€‚

æ˜¾ç„¶ï¼Œå¦‚æœå†å²ä»£ç ä¼—å¤šï¼Œåº•å±‚æ¶æ„å‡çº§éœ€è¦å¤§è§„æ¨¡æ”¹åŠ¨ä¸šåŠ¡ç ”å‘ä»£ç ï¼Œè¿™å¯¹ä¸šåŠ¡æ¥è¯´æ— ç–‘æ˜¯ä¸€ä¸ªå·¨å¤§çš„è´Ÿæ‹…ã€‚åœ¨ Facebook å†…éƒ¨ï¼Œè®¸å¤šä¸šåŠ¡éƒ½ä½¿ç”¨ React Nativeï¼Œå› æ­¤åŸºå»ºå’Œä¸šåŠ¡ç ”å‘å›¢é˜Ÿè‚¯å®šä¹Ÿç»è¿‡äº†å‡ è½®è®¨è®ºã€‚å…¼å®¹æ–¹æ¡ˆæ˜¾ç„¶èƒ½å¤Ÿé™ä½ä¸šåŠ¡å›¢é˜Ÿçš„å‡çº§æˆæœ¬ã€‚

æ‰€è°“çš„ New Renderer Interop Layer å°±æ˜¯é€šä¿—ç†è§£çš„ç»„ä»¶å…¼å®¹å±‚ï¼Œå®ƒèµ·æºäº Facebook å†…éƒ¨ï¼Œåœ¨å†…éƒ¨ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œäº 0.72 ç‰ˆæœ¬è¿›è¡Œäº†å¼€æºã€‚

å¼€å¯ç»„ä»¶å…¼å®¹å±‚çš„æ–¹æ³•æœ‰ä¸‰æ­¥ã€‚

é¦–å…ˆï¼Œåœ¨æ ¹ç›®å½•åˆ›å»º react-native.config.js æ–‡ä»¶ã€‚

```plain
$ touch react-native.config.js
```

ç„¶åï¼Œåˆ†åˆ«åˆ—ä¸¾ iOS å’Œ Android éœ€è¦å…¼å®¹çš„ç»„ä»¶ï¼Œå°†è¿™äº›ç»„ä»¶å¡«å†™åœ¨ `unstable_reactLegacyComponentNames` å­—æ®µä¸­ã€‚åœ¨æˆ‘çš„ä»£ç ä¸­ï¼Œæ—§æ¶æ„çš„ç»„ä»¶åå­—æ˜¯ CustomViewã€‚å› æ­¤ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```plain
module.exports = {
 project: {
  android: {
   // list of components that needs to be wrapped by the interop layer
   unstable_reactLegacyComponentNames: ['CustomView'],
  },
  ios: {
   // list of components that needs to be wrapped by the interop layer
   unstable_reactLegacyComponentNames: ['CustomView'],
  },
 },
};
```

æœ€åä¸€æ­¥ï¼Œé‡æ–°æ„å»ºå’Œå¯åŠ¨ Appã€‚

```plain
$ yarn android
// or
$ yarn ios
```

å®Œæˆä¸Šè¿°ä¸‰æ­¥åï¼Œåœ¨é‡æ–°å¯åŠ¨çš„ App ä¸­ï¼Œä½ å°±èƒ½çœ‹åˆ°æ—§æ¶æ„è‡ªå®šä¹‰ç»„ä»¶ CustomView èƒ½å¤Ÿæ­£å¸¸å±•ç¤º color=â€œredâ€ çš„çº¢è‰²äº†ã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/29/9f/29e2fe1aff9114004ef4f2a7f0fa229f.png?wh=1210x888)

ä½†æ˜¯ï¼Œè¿™ä¸ªå…¼å®¹æ–¹æ¡ˆå¹¶ä¸å®Œç¾ã€‚

å› ä¸ºï¼Œå®˜æ–¹å¹¶ä¸æ‰“ç®— 100% æ”¯æŒæ‰€æœ‰çš„æ—§ç»„ä»¶ä»£ç ã€‚å®˜æ–¹ç»™å‡ºçš„ç†ç”±æ˜¯ï¼Œå®Œå…¨å…¼å®¹å¯èƒ½ä¼šé˜»ç¢æ–°æ¶æ„æ€§èƒ½çš„æœ€å¤§åŒ–å±•ç°ã€‚å› æ­¤ï¼Œå®˜æ–¹å¸Œæœ›ç¤¾åŒºçš„æ‰€æœ‰è€æ¶æ„çš„è‡ªå®šä¹‰ç»„ä»¶éƒ½èƒ½è¿ç§»åˆ°æ–°æ¶æ„ã€‚

å®é™…ä¸Šï¼Œç»å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½èƒ½å¾—åˆ°å…¼å®¹ï¼ŒåŒ…æ‹¬ï¼š

- Props
- Events
- Native View Commandsï¼ˆå³ä½¿ç”¨ UIManager.dispatchViewManagerï¼‰
- Native Methodsï¼ˆå¦‚ setNativeProps å’Œ measure* å‡½æ•°ï¼‰
- å‘ JS å¯¼å‡ºçš„å¸¸é‡

å·²çŸ¥ä¸èƒ½å…¼å®¹çš„åŒ…æ‹¬ï¼š

- Concurrent Featuresï¼ˆå¦‚ startTransitionï¼‰

ä»ç°æœ‰çš„å…¼å®¹æ–¹æ¡ˆæ¥çœ‹ï¼Œç»„ä»¶ä¸­å¸¸ç”¨çš„åŠŸèƒ½å…¼å®¹å±‚éƒ½å·²ç»æ”¯æŒï¼Œè€Œ Concurrent Features åœ¨è€æ¶æ„ä¸­å°±ä¸æ”¯æŒï¼Œè¿ç§»åä»ç„¶ä¸æ”¯æŒä¹Ÿæ˜¯å¯ä»¥ç†è§£çš„ã€‚

ç”±æ­¤å¯è§ï¼Œç»å¤§éƒ¨åˆ†è€æ¶æ„çš„ç»„ä»¶ä»£ç éƒ½å¯ä»¥é€šè¿‡å…¼å®¹å±‚æ¥é€‚é…æ–°æ¶æ„ã€‚

## **å®Œå…¨è¿ç§»åˆ°æ–°æ¶æ„**

ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬ç»§ç»­åœ¨æ–°æ¶æ„ä¸Šè¿è¡Œè€ä»£ç ï¼Œå°±æ— æ³•äº«å—åˆ°æ–°æ¶æ„å¸¦æ¥çš„æ€§èƒ½æå‡ã€‚åœ¨[ç¬¬34è®²](https://time.geekbang.org/column/article/663928)ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ï¼Œæ–°æ¶æ„çš„ç»„ä»¶æ¸²æŸ“åœ¨ Android ä¸Šå¯ä»¥æé«˜ 0%ï½8% çš„æ€§èƒ½ï¼Œåœ¨ iOS ä¸Šåˆ™å¯ä»¥æå‡ 13%ï½39% çš„æ€§èƒ½ã€‚

å› æ­¤ï¼Œå¯¹äºæœ‰æ—¶é—´å’Œèµ„æºè¿›è¡Œä»£ç è¿ç§»çš„å›¢é˜Ÿï¼Œæˆ–è€…æ­£åœ¨å¼€å‘æ–°ç»„ä»¶çš„å›¢é˜Ÿï¼Œæˆ‘ä»ç„¶**å»ºè®®é‡‡ç”¨æ–°æ¶æ„çš„å¼€å‘æ–¹æ¡ˆã€‚**

åœ¨[ç¬¬ 22 è®²](https://time.geekbang.org/column/article/519819)ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»è¿‡æ–°æ¶æ„çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œä½†é‚£æ—¶å€™è¿˜æ²¡æœ‰ CodeGen è‡ªåŠ¨åŒ–å‡çº§å·¥å…·ï¼Œæ‰€æœ‰çš„ Turbo Modules å’Œ Fabric Component éƒ½æ˜¯æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºçš„ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ CodeGen å·¥å…·å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åŒ–ç”Ÿæˆå¾ˆå¤šæ¨¡æ¿ä»£ç ã€‚

åœ¨æ­¤ï¼Œæˆ‘å°†ä»¥åœ¨ Android ä¸Šå¼€å‘ CustomView ç»„ä»¶ä¸ºä¾‹ï¼Œæ¥ä»‹ç» Fabric è‡ªå®šä¹‰ç»„ä»¶çš„ç ”å‘æµç¨‹ã€‚è¿™ä¸ªè‡ªå®šä¹‰ç»„ä»¶åªæœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£å°±æ˜¯æ”¹å˜å…¶èƒŒæ™¯é¢œè‰²ã€‚æˆ‘åœ¨ [GitHub](https://github.com/jiangleo/react-native-classroom/tree/main) ä¸Šå‘å¸ƒäº†è¿™ä¸ªç»„ä»¶å®Œæ•´çš„æ–°æ¶æ„ä»£ç å’Œè€æ¶æ„ä»£ç ã€‚

**æ•´ä½“å¼€å‘æµç¨‹åŒ…å«ä¸‰ä¸ªæ­¥éª¤ï¼š**

1. å®šä¹‰ç»„ä»¶ï¼ˆJSï¼‰ï¼šä½ éœ€è¦æŠŠå¯¹ç»„ä»¶çš„è®¾è®¡æ€æƒ³ç¼–å†™æˆ TypeScript çš„ Interfaceï¼Œå¹¶å°†å…¶å®šä¹‰æˆä¸€ä¸ª npm åŒ…ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚
2. å®ç°ç»„ä»¶ï¼ˆNativeï¼‰ï¼šåˆ©ç”¨ CodeGen è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå°† TypeScript çš„ Interface ç”Ÿæˆä¸º Native çš„ Interfaceï¼Œå¹¶é€šè¿‡ä¸€äº›æ¨¡æ¿ä»£ç å°† JS å’Œ Native è¿æ¥èµ·æ¥ã€‚
3. ä½¿ç”¨ç»„ä»¶ï¼ˆJSï¼‰ï¼šåœ¨ JS ä¸­ä½¿ç”¨ç”± Native å®ç°çš„ä»£ç ã€‚

åœ¨å¼€å§‹å¼€å‘ä¹‹å‰ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªç”¨äºå¼€å‘ CustomView çš„æ–‡ä»¶å¤¹ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘ç›´æ¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªåä¸º RTNCustomView çš„æ–‡ä»¶å¤¹ã€‚æ–‡ä»¶å¤¹çš„åç§°ä»¥ RTN å¼€å¤´æ˜¯ä¸ºäº†æé«˜å…¶è¾¨è¯†åº¦ï¼Œå› ä¸º RTN æ˜¯ React Native çš„ç¼©å†™ã€‚

è¿™ä¸ªæ–‡ä»¶å¤¹åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

```plain
.
â”œâ”€â”€ RTNCustomView
â”œâ”€â”€ android
â”œâ”€â”€ ios
â””â”€â”€ js
```

å…¶ä¸­ï¼Œandroid å’Œ ios æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾è¯¥ç»„ä»¶çš„å®¢æˆ·ç«¯ä»£ç ï¼Œè€Œ js æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ JS/TS ä»£ç ã€‚

### **å®šä¹‰ç»„ä»¶**

å®šä¹‰ç»„ä»¶çš„æ­¥éª¤ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š

1. RTNCustomViewNativeComponent.tsxï¼šè¿™æ˜¯è‡ªå®šä¹‰ç»„ä»¶çš„ TypeScript Interfaceã€‚
2. package.jsonï¼šè¿™æ˜¯è‡ªå®šä¹‰ç»„ä»¶ npm åŒ…çš„é…ç½®æ–‡ä»¶ã€‚

é¦–å…ˆï¼Œåœ¨ js ç›®å½•ä¸­ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸º RTNCustomViewNativeComponent.tsx çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ä»¥ NativeComponent ç»“å°¾ï¼Œè¿™æ˜¯å®˜æ–¹çº¦å®šçš„è§„åˆ™ï¼Œå› ä¸ºåç»­ CodeGen éœ€è¦æ ¹æ® NativeComponent ç»“å°¾çš„æ ‡è¯†æ‰¾åˆ° TypeScript çš„è§„èŒƒæ–‡ä»¶ï¼Œç„¶åè¿›è¡Œä»£ç ç”Ÿæˆï¼ˆcode generateï¼‰ã€‚

RTNCustomViewNativeComponent.tsx æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š

```plain
import type {ViewProps, HostComponent} from 'react-native';
import codegenNativeComponent from 'react-native/Libraries/Utilities/codegenNativeComponent';

export interface NativeProps extends ViewProps {
 background?: string;
}

export default codegenNativeComponent<NativeProps>(
 'RTNCustomView',
) as HostComponent<NativeProps>;
```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çº¦å®šè¿™ä¸ªç»„ä»¶åªèƒ½æ¥å—ä¸€ä¸ªè‡ªå®šä¹‰å‚æ•° backgroundï¼Œè¿™ä¸ªå‚æ•°çš„ç±»å‹æ˜¯ stringã€‚

æ­¤å¤–ï¼Œåœ¨ RTNCustomView ç›®å½•ä¸‹ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸º package.json çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š

```plain
{
  "name": "rtn-custom-view",
  "version": "0.0.1",
  "description": "Showcase a Fabric Native Component with a custom background view",
  "react-native": "js/index",
  "source": "js/index",
  "devDependencies": {},
  "peerDependencies": {
   "react": "*",
   "react-native": "*"
  },
  "codegenConfig": {
   "name": "RTNCustomViewSpecs",
   "type": "components",
   "jsSrcsDir": "js"
  }
 }
```

åœ¨è¿™é‡Œï¼Œéœ€è¦ç‰¹åˆ«å…³æ³¨çš„æ˜¯ codegenConfig çš„é…ç½®ï¼ŒåŒ…æ‹¬åŒ…å nameã€ç±»å‹ type ä»¥åŠè§„èŒƒçš„ç›®å½• jsSrcsDirã€‚

**æœ‰ä¸€äº›çº¦å®šä¿—æˆçš„è§„åˆ™ï¼š**åŒ…åå¿…é¡»ä»¥ Specs ç»“å°¾ï¼›ç»„ä»¶ç±»å‹åº”å¡«å†™ componentï¼Œæ¨¡å—ç±»å‹åº”å¡«å†™ modulesï¼Œè¿™é‡Œå¡«å†™çš„æ˜¯ componentï¼›è§„èŒƒçš„ç›®å½•å°±æ˜¯æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ js ç›®å½•ã€‚

### **å®ç°ç»„ä»¶**

Native è¿™éƒ¨åˆ†çš„å†…å®¹ç›¸å¯¹è¾ƒå¤šï¼Œä»¥ Android ä¸ºä¾‹ï¼ŒåŒ…æ‹¬äº”ä¸ªéƒ¨åˆ†ï¼š

1. build.gradleï¼šè¿™æ˜¯ Android æ¨¡å—çš„æ„å»ºé…ç½®ã€‚
2. CodeGenï¼šè¿™æ˜¯ç”¨äºç”Ÿæˆé“¾æ¥ JS/Java/C++ çš„æ¨¡æ¿ä»£ç ã€‚
3. CustomView.javaï¼šè¿™æ˜¯æ–°çš„åŸç”Ÿç»„ä»¶ã€‚
4. CustomViewManager.javaï¼šè¿™æ˜¯åŸç”Ÿç»„ä»¶çš„ç®¡ç†å™¨ã€‚
5. CustomViewPackage.javaï¼šè¿™ä¸ªéƒ¨åˆ†è´Ÿè´£å°†åŸç”Ÿç»„ä»¶æš´éœ²ç»™ React Nativeã€‚

æ•´ä¸ªç»“æ„å¦‚ä¸‹ï¼š

```plain
RTNCenteredText
â”œâ”€â”€ android
â”‚  â”œâ”€â”€ build.gradle
â”‚  â””â”€â”€ src/main/java/com/rtncenteredtext
â”‚            â”œâ”€â”€ CustomView.java
â”‚            â”œâ”€â”€ CustomViewManager.java
â”‚            â””â”€â”€ CustomViewPackage.java
â”œâ”€â”€ ios
â”œâ”€â”€ js
â””â”€â”€ package.json
```

æ•´ä¸ªæµç¨‹å¼€å§‹äºé…ç½® Android çš„æ„å»ºè„šæœ¬ï¼Œç„¶åä½¿ç”¨ CodeGen è‡ªåŠ¨åŒ–å·¥å…·ç”Ÿæˆèƒ¶æ°´ä»£ç ï¼ŒæŠŠ JS/Java/C++ è¿æ¥èµ·æ¥ï¼Œæ¥ç€å®šä¹‰æ–°çš„ Java è‡ªå®šä¹‰åŸç”Ÿç»„ä»¶ï¼Œå†åˆ›å»ºä¸€ä¸ªç®¡ç†è¿™ä¸ªç»„ä»¶çš„ç±»ï¼Œæœ€ååœ¨ React Native ç»„ä»¶åˆ—è¡¨ä¸­æ³¨å†Œè¿™ä¸ªç»„ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿè¢« JavaScript ä»£ç è®¿é—®ã€‚

ä¸‹é¢æˆ‘ä»¬è¯¦ç»†è®²è§£ä¸‹æµç¨‹ã€‚

**ç¬¬ä¸€æ­¥ï¼šé…ç½® build.gradle**

build.gradle æ˜¯ Android æ„å»ºç³»ç»Ÿç”¨æ¥å®šä¹‰æ„å»ºè§„åˆ™çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œç»å¤§éƒ¨åˆ†éƒ½æ˜¯æ¨¡æ¿ä»£ç ï¼Œä½ åªéœ€è¦å¤åˆ¶å’Œç²˜è´´å°±å¯ä»¥äº†ï¼Œéœ€è¦ä¿®æ”¹çš„åªæ˜¯è‡ªå®šä¹‰ç»„ä»¶çš„åå­—ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ `namespace "com.rtncustomview"`ã€‚å®Œæ•´çš„é…ç½®å¦‚ä¸‹ï¼š

```plain
buildscript {
  ext.safeExtGet = {prop, fallback ->
    rootProject.ext.has(prop) ? rootProject.ext.get(prop) : fallback
  }
  repositories {
    google()
    gradlePluginPortal()
  }
  dependencies {
    classpath("com.android.tools.build:gradle:7.3.1")
  }
}

apply plugin: 'com.android.library'
apply plugin: 'com.facebook.react'

android {
  compileSdkVersion safeExtGet('compileSdkVersion', 33)
  namespace "com.rtncustomview"

  defaultConfig {
    minSdkVersion safeExtGet('minSdkVersion', 21)
    targetSdkVersion safeExtGet('targetSdkVersion', 33)
    buildConfigField("boolean", "IS_NEW_ARCHITECTURE_ENABLED", "true")
  }
}

repositories {
  mavenCentral()
  google()
}

dependencies {
  implementation 'com.facebook.react:react-native'
}
```

**ç¬¬äºŒæ­¥ï¼šè¿è¡Œ** **CodeGen**

CodeGen æ˜¯ä¸€ä¸ªè‡ªåŠ¨ä»£ç ç”Ÿæˆå·¥å…·ï¼Œå®ƒå¯ä»¥æ ¹æ®ä¹‹å‰åˆ›å»ºçš„ RTNCustomViewNativeComponent.tsx è§„èŒƒæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆè¿æ¥ JSã€Java å’Œ C++ çš„æ¨¡æ¿ä»£ç ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥åœ¨ JS ä¸­æ–¹ä¾¿åœ°è°ƒç”¨åŸç”Ÿæ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†æ‰‹åŠ¨ç¼–å†™è¿™äº›æ¨¡æ¿ä»£ç çš„ç¹çå·¥ä½œã€‚

åœ¨è¿è¡Œ CodeGen ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå°† RTNCustomView ç»„ä»¶æ·»åŠ åˆ° package.json æ–‡ä»¶ä¸­ï¼Œç„¶åé€šè¿‡ `android` å‘½ä»¤æ¥ç”Ÿæˆæ¨¡æ¿ä»£ç ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š

```plain
// åœ¨ RN é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
yarn add ./RTNCustomView
// CD åˆ°æ ¹ç›®å½•ä¸‹çš„ android
cd android
./gradlew generateCodegenArtifactsFromSchema
```

**ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º** **CustomView.java**

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªæ–°çš„åŸç”Ÿç»„ä»¶ï¼Œåä¸º CustomView.javaã€‚è¿™ä¸ª Java ç±»å°†æ‰©å±•ä¸€ä¸ª Android åŸç”Ÿè§†å›¾ç±»ï¼ˆä¾‹å¦‚ TextViewï¼‰ï¼Œå¹¶å®šä¹‰æ‰€éœ€çš„å±æ€§å’Œè¡Œä¸ºã€‚

åœ¨è¿™ä¸ªç±»ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰ä½ éœ€è¦çš„æ–¹æ³•å’Œå±æ€§ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ JS ä¸­ç›´æ¥è®¿é—®è¿™äº›æ–¹æ³•å’Œå±æ€§ã€‚åŒæ—¶ï¼Œä½ è¿˜éœ€è¦å®šä¹‰ä¸€äº›ç”¨æ¥è®¾ç½®å’Œè·å–è¿™äº›å±æ€§çš„æ–¹æ³•ï¼Œè¿™æ ·ï¼ŒReact Native å°±èƒ½é€šè¿‡è¿™äº›æ–¹æ³•ä¸åŸç”Ÿç»„ä»¶è¿›è¡Œäº¤äº’ã€‚

å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š

```plain
package com.rtncustomview;

import androidx.annotation.Nullable;
import android.content.Context;
import android.graphics.Color;
import android.util.AttributeSet;
import android.view.View;

public class CustomView extends View {
    private int color;

    public CustomView(Context context) {
        super(context);
        this.configureComponent();
    }

    public CustomView(Context context, @Nullable AttributeSet attrs) {
        super(context, attrs);
        this.configureComponent();
    }

    public CustomView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {
        super(context, attrs, defStyleAttr);
        this.configureComponent();
    }

    private void configureComponent() {
        // é»˜è®¤èƒŒæ™¯è‰²ä¸ºçº¢è‰²
        this.color = Color.RED;
        this.setBackgroundColor(this.color);
    }

    public void setBackground(String color) {
        // é¢œè‰²å€¼ç”±React Nativeä¼ å…¥ï¼Œæ ¼å¼ä¸º#RRGGBBï¼Œå¦‚çº¢è‰²ä¸º#FF0000
        this.color = Color.parseColor(color);
        this.setBackgroundColor(this.color);
     }
}    
```

å…¶æ ¸å¿ƒæ˜¯ public void setBackground(String color) æ–¹æ³•ï¼Œå®ƒå¯¹åº”ç€ RTNCustomViewNativeComponent.tsx å®šä¹‰çš„ background å±æ€§ï¼Œå®ƒæ˜¯çœŸæ­£ä½¿ android.view.View è§†å›¾èƒŒæ™¯è‰²è®¾ç½®ç”Ÿæ•ˆçš„ä»£ç ã€‚

**ç¬¬å››æ­¥ï¼šåˆ›å»º** **CustomViewManager.java**

æ¯ä¸ªåŸç”Ÿç»„ä»¶éƒ½éœ€è¦ä¸€ä¸ªç®¡ç†å™¨ç±»ï¼ŒCustomViewManager.java å°±æ˜¯ CustomView.java çš„ç®¡ç†ç±»ã€‚ç®¡ç†å™¨ç±»é€šå¸¸éœ€è¦æ‰©å±• SimpleViewManagerï¼Œå¹¶å®ç°å¿…è¦çš„æ–¹æ³•ï¼Œä¾‹å¦‚ createViewInstance() æ–¹æ³•ç”¨äºåˆ›å»ºåŸç”Ÿç»„ä»¶çš„å®ä¾‹ã€‚

å¯¹äº React Native è‡ªå®šä¹‰ç»„ä»¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ @ReactProp æ³¨è§£æ¥æ ‡è®°å¯ä»¥ä» JS ç«¯è®¾ç½®çš„å±æ€§ï¼Œè¿™æ · React Native å°±å¯ä»¥é€šè¿‡è¿™äº›æ–¹æ³•æ¥æ›´æ–°åŸç”Ÿç»„ä»¶çš„å±æ€§äº†ã€‚

å…¶å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š

```plain
package com.rtncustomview;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import android.graphics.Color;  // è¿™é‡Œæ·»åŠ å¯¼å…¥è¯­å¥

import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.module.annotations.ReactModule;
import com.facebook.react.uimanager.SimpleViewManager;
import com.facebook.react.uimanager.ThemedReactContext;
import com.facebook.react.uimanager.ViewManagerDelegate;
import com.facebook.react.uimanager.annotations.ReactProp;
import com.facebook.react.viewmanagers.RTNCustomViewManagerInterface;
import com.facebook.react.viewmanagers.RTNCustomViewManagerDelegate;

@ReactModule(name = CustomViewManager.NAME)
public class CustomViewManager extends SimpleViewManager<CustomView>
        implements RTNCustomViewManagerInterface<CustomView> {

    private final ViewManagerDelegate<CustomView> mDelegate;

    static final String NAME = "RTNCustomView";

    public CustomViewManager(ReactApplicationContext context) {
        mDelegate = new RTNCustomViewManagerDelegate<>(this);
    }

    @Nullable
    @Override
    protected ViewManagerDelegate<CustomView> getDelegate() {
        return mDelegate;
    }

    @NonNull
    @Override
    public String getName() {
        return CustomViewManager.NAME;
    }

    @NonNull
    @Override
    protected CustomView createViewInstance(@NonNull ThemedReactContext context) {
        return new CustomView(context);
    }

    // Here we are exposing a background color prop.
    @ReactProp(name = "background", customType = "Color")
    public void setBackground(CustomView view, @Nullable String color) {
        if (color != null) {
            view.setBackground(color);
        }
    }
}    
```

**ç¬¬äº”æ­¥ï¼šå‡çº§** **CustomViewPackage.java**

åœ¨åˆ›å»ºäº† CustomViewManager.java ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª CustomViewPackage.java æ¥åŒ…å«æˆ‘ä»¬çš„ ViewManagerã€‚åœ¨ createViewManagers æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ CustomViewManagerã€‚

å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š

```plain
package com.rtncustomview;

import com.facebook.react.ReactPackage;
import com.facebook.react.bridge.NativeModule;
import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.uimanager.ViewManager;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

public class CustomViewPackage implements ReactPackage {
    @Override
    public List<ViewManager> createViewManagers(ReactApplicationContext reactContext) {
        // return a list that contains our CustomViewManager
        List<ViewManager> viewManagers = new ArrayList<>();
        viewManagers.add(new CustomViewManager(reactContext));
        return viewManagers;
    }
    @Override
    public List<NativeModule> createNativeModules(ReactApplicationContext reactContext) {
        // return an empty list because we do not have any native modules to export
        return Collections.emptyList();
    }

}
```

### **ä½¿ç”¨ç»„ä»¶**

åœ¨ç»„ä»¶ä½¿ç”¨æ–¹é¢ï¼Œå›åˆ° JS ä»£ç ä¸­ï¼Œä½¿ç”¨åœ¨å®¢æˆ·ç«¯å®ç°çš„ç»„ä»¶ã€‚

é¦–å…ˆè¿è¡Œ `yarn add ./RTNCustomView` å‘½ä»¤ï¼Œé‡æ–°æ·»åŠ  RTNCustomViewï¼Œè¿™æ ·å¯ä»¥åˆ·æ–°æˆ‘ä»¬å®ç°ç»„ä»¶çš„ä»£ç ã€‚

ç„¶åç¼–å†™ä¸€æ®µæµ‹è¯•ä»£ç ï¼Œä»£ç å¦‚ä¸‹ï¼š

```plain
import React from 'react';
import RTNCustomView from 'rtn-custom-view/js/RTNCustomViewNativeComponent';
import {View, Text, Button} from 'react-native';

const App: () => JSX.Element = () => {
 return (
  <View style={{borderColor: '#0ac', borderWidth: 1, padding: 5}}>
   <Text>New Componentï¼šè‡ªå®šä¹‰è§†å›¾ç»„ä»¶</Text>
   <RTNCustomView
    background="blue"
    style={{
     width: 100,
     height: 100,
    }}
   />
  </View>
 );
};
export default App;
```

**RTNCustomView çš„ä½¿ç”¨æ–¹å¼éå¸¸ç±»ä¼¼äºå…¶ä»–åŸç”Ÿç»„ä»¶ã€‚**ä½ å¯ä»¥å‘å®ƒä¼ é€’å„ç§å±æ€§ï¼Œä¾‹å¦‚ background å’Œ styleã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº† background ä¸º `"blue"`ï¼Œå¹¶ä¸”è®¾ç½®äº†å®ƒçš„å®½åº¦å’Œé«˜åº¦ã€‚

è¿™é‡Œçš„ style å±æ€§è®¾ç½®äº†è§†å›¾çš„å®½åº¦å’Œé«˜åº¦ã€‚è¯·æ³¨æ„ï¼Œå°½ç®¡åœ¨ CustomView.java æ–‡ä»¶ä¸­æˆ‘ä»¬åªæä¾›äº† setBackground æ–¹æ³•ç”¨äºä¿®æ”¹é¢œè‰²ï¼Œä½† React Native çš„è§†å›¾ç®¡ç†å™¨ä¸ºæ‰€æœ‰çš„åŸç”Ÿè§†å›¾ç»„ä»¶é»˜è®¤æä¾›äº†å¯¹ style å±æ€§çš„æ”¯æŒã€‚

å®Œæ•´ä»£ç ï¼Œæˆ‘æ”¾åœ¨ [Github](https://github.com/jiangleo/react-native-classroom/tree/main) ä¸Šäº†ã€‚

æœ€åï¼Œé‡æ–°æ„å»º Android åº”ç”¨ï¼Œä½ å°±èƒ½çœ‹åˆ°ä»£ç ç”Ÿæ•ˆäº†ã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/72/1d/72cd7cecd9ed1e887562508b0a9a271d.png?wh=1210x916)

## **æ€»ç»“**

è¿™èŠ‚è¯¾æˆ‘ä»‹ç»äº†ä¸¤ç§å‡çº§æ–°æ¶æ„çš„ç­–ç•¥ã€‚

ä¸€ç§ç­–ç•¥æ˜¯è€ä»£ç å…¼å®¹æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆéœ€è¦å¼€å¯ç»„ä»¶å…¼å®¹å±‚æ‰èƒ½ä½¿ç”¨ï¼Œè€Œä¸”å¯èƒ½ä¼šæœ‰éƒ¨åˆ†æ€§èƒ½æŸè€—ã€‚å¦ä¸€ç§ç­–ç•¥æ˜¯å®Œå…¨è¿ç§»åˆ°æ–°æ¶æ„çš„æ–¹æ¡ˆï¼Œè¯¾ç¨‹ä¸­æˆ‘ä»¥æ–°å»º Android ç»„ä»¶ä¸ºä¾‹ï¼Œä»‹ç»äº†è¿ç§»æ–°æ¶æ„çš„ç­–ç•¥ã€‚

å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ–°æ¶æ„æ¨¡å¼ä¸‹ï¼Œè‡ªå®šä¹‰ç»„ä»¶çš„åˆ›å»ºæ–¹å¼ä¸è€æ¶æ„æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œæ–°æ¶æ„æ˜¯ä»¥åŒ…ä¸ºå•å…ƒå°†å„ç«¯ç»Ÿä¸€åœ¨ä¸€èµ·æ¥è¿›è¡Œå¼€å‘çš„ï¼Œè€æ¶æ„ä»£ç éƒ½åœ¨è‡ªå·±çš„ JS/Android/iOS ä»“åº“ä¸­ã€‚è¿™æ„å‘³ç€ï¼Œå°†è€ä»£ç æ”¹ä¸ºæ–°æ¶æ„çš„å†™æ³•å¯èƒ½ä¼šæœ‰å·¨å¤§çš„è¿ç§»æˆæœ¬ã€‚

å› æ­¤ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼Œæ–°çš„ç»„ä»¶æˆ–æ¨¡å—ä½¿ç”¨æ–°æ¶æ„ï¼Œè€Œæ—§çš„ä»£ç ä¿æŒä¸å˜ï¼Œä½¿ç”¨å…¼å®¹æ¨¡å¼ã€‚è¿™ç§å‡çº§ç­–ç•¥æˆæœ¬ä¼šä½å¾ˆå¤šã€‚

é‚£ä¹ˆåˆ°è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬çš„åŠ¨æ€æ›´æ–°ä¸“æ ä¹Ÿè¦å’Œå¤§å®¶è¯´å†è§äº†ï¼Œæ„Ÿè°¢ä½ è¿‡å»ä¸€å¹´çš„é™ªä¼´ã€‚å› ä¸ºæœ‰ä½ ï¼Œæ‰€ä»¥ä¸€åŒæˆé•¿ã€‚æˆ‘ä»¬æœ‰ç¼˜ï¼Œå†ä¼šï¼
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ4ï¼‰</strong></div><ul>
<li><span>å¬è¯´æ˜µç§°å¤ªé•¿äº†èº²åœ¨æ ‘åé¢ä¼šè¢«åˆ«äººçœ‹è§çš„</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<p>æˆ‘å°±æ˜¯é‚£ä½æŠ˜è…¾äº†ä¸‰å¤©é€€å›å»çš„åŒå­¦ï¼Œæ²¡æƒ³åˆ°è¢«ç‚¹åäº†ğŸ˜‚ã€‚ç»è¿‡äº†ä¸€å¹´ RN çš„æŠ˜è…¾æˆ‘ä¹Ÿæ€»ç»“äº†ä¸€äº›çœ‹æ³•ï¼Œè¿™ä¸ªæŠ˜è…¾è¿‡ç¨‹ä¼°è®¡ä¹Ÿæ˜¯å¾ˆå¤šåˆå°è·¨æ®µæ–¹æ¡ˆçš„å›¢é˜Ÿè¦èµ°çš„è€è·¯ã€‚é¦–å…ˆä¸èƒ½æŠŠ RN å½“åšå®¢æˆ·ç«¯æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å½“æ—¶è°ƒç ”åä¸‹çš„ç»“è®ºï¼šâ€œè·¨ç«¯æ˜¯æœªæ¥ï¼ŒåŸç”Ÿæ˜¯è¾…åŠ©â€ï¼Œå› ä¸ºé¡¹ç›®åˆæœŸå„éƒ¨é—¨åŒäº‹ä¸€è‡´ä¸è´Ÿè´£çš„è¯´ï¼šæ€ä¹ˆå¿«æ€ä¹ˆæ¥ï¼Œèƒ½ç”¨å°±è¡Œï¼è¿™ç»™äº†æˆ‘ä»¬æ‹¥æŠ±è·¨ç«¯çš„å‹‡æ°”ã€‚å¯å½“åŠ ç­åŠ ç‚¹å¿™å®Œé¡¹ç›®ä¸Šçº¿è·‘èµ·æ¥ç»ˆäºæ¾ä¸€å£æ°”æ—¶å¤§å®¶å£é£å°±å˜äº†ï¼Œå› ä¸ºèƒ½ç”¨å’Œç”¨åˆ°æè‡´æ˜¯ä¸¤ç äº‹ï¼Œå½“å¼€å§‹ç›ˆåˆ©æ—¶è·Ÿç«å“ä¸€å¯¹æ¯”é‚£å¿…é¡»è¦ç”¨åˆ°æè‡´ï¼Œèµ·åˆé‚£äº›ä¸ç—›ä¸ç—’çš„é—®é¢˜åœ¨è¿™ä¸ªé˜¶æ®µå°±å˜æˆäº†æ£˜æ‰‹é—®é¢˜ï¼Œå…œå…œè½¬è½¬æœ€ååˆå›åˆ°äº†åŸç”Ÿï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰å›¢é˜Ÿéƒ½æœ‰åƒå®ä¼Ÿè€å¸ˆè¿™æ ·çš„å›¢é˜Ÿå»åšæ·±åº¦ä¼˜åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬èŠ±äº†å¾ˆå¤šæ—¶é—´å»ä¼˜åŒ–å´æ²¡æŠ˜è…¾å‡ºæ•ˆæœï¼Œå…¬å¸æ²¡æ³•å†å¿å—æˆ‘ä»¬å»ç ”ç©¶è€Œä¸äº§å‡ºäº†ï¼Œç„¶ååªèƒ½ç”¨åŸç”ŸæŠŠå¤§éƒ¨åˆ†æ ¸å¿ƒåŠŸèƒ½é‡å†™äº†ï¼Œåªç•™ä¸‹å°‘é‡è¾¹è¾¹è§’è§’çš„ä¸šåŠ¡ç”¨ RNï¼Œå›è¿‡å¤´ä¸€çœ‹ï¼ŒåŸæœ¬æƒ³å€ŸåŠ©è·¨ç«¯æé«˜ç”Ÿäº§åŠ›ï¼Œç»“æœåè€Œæ˜¯é™ä½äº†ç”Ÿäº§åŠ›ï¼Œå¯ä»¥è¯´æ˜¯ç¾Šè‚‰æ²¡åƒåˆ°å¼„äº†ä¸€èº«éªšï¼ŒåŸå› å¾ˆç®€å•ï¼Œä¸€ä½†è¿‡äº† 0 åˆ° 1 è¿™ä¸ªé˜¶æ®µæ‘†åœ¨é¢å‰åªæœ‰ä¸¤æ¡è·¯ï¼Œè¦ä¹ˆæ·±å…¥ç”šè‡³é­”æ”¹ RNï¼ˆè¿™æ²¡ä¸ªä¸€å¹´åŠè½½é—¨éƒ½æ‘¸ä¸ç€ï¼‰ï¼Œè¦ä¹ˆç”¨åŸç”Ÿå¼€å§‹é‡æ„ï¼ˆåŸç”Ÿå¼€å‘ç»„çš„åŒäº‹è¿˜æ•´å¤©åšä¼˜åŒ–å‘¢ï¼Œçº¯ RN å’‹ä¸ªåšåˆ°æè‡´ï¼‰ï¼Œå¦‚æœæ²¡æœ‰åšè¿™åˆ°é€‰æ‹©é¢˜é‚£ä¹ˆå¤§æ¦‚ç‡æˆ‘çŒœä½ ä»¬å®£å‘Šé¡¹ç›®å¤±è´¥ç”šè‡³åˆ°äº†è£å‘˜çš„è¾¹ç¼˜ï¼Œå¸‚åœºæœºä¼šæ€»æ˜¯ç¨çºµå³é€ï¼Œé¡¹ç›®çš„å¤±è´¥ä¸æŠ€æœ¯é€‰é¡¹ä¸æ— å…³ç³»ï¼Œè¿™ä¸ªé—®é¢˜å€¼å¾—æ·±æ€ã€‚æ€»ç»“ï¼Œå¾—ç»“åˆè‡ªèº«é¡¹ç›®å€ŸåŠ© RN è¾…åŠ©å®Œæˆä¸€äº›å·¥ä½œï¼Œæœ€å¥½ä¸è¦ä¸€æ¢­å“ˆçš„æŠŠé¸¡è›‹å…¨æ”¾ RN çš„ç¯®å­é‡Œï¼Œé™¤éä½ åšçš„æ˜¯éœ€æ±‚æ˜ç¡®å¹¶ä¸”ç”Ÿå‘½å‘¨æœŸå¯é¢„æµ‹çš„é¡¹ç›®ã€‚å¦å¤–ï¼Œè¿™ä¸¤å¤©åœ¨ç ”ç©¶åŸç”Ÿæ‰¿è½½é¡µåŠ è½½ RN è¿‡æ…¢çš„é—®é¢˜ï¼Œå®‰å“ä½ç«¯æœºå¾—ä¸¤ä¸‰ç§’ç™½å±åæ‰èƒ½åŠ è½½å®Œæ¸²æŸ“å‡ºæ¥ï¼Œä¸çŸ¥é“è€å¸ˆèƒ½å¦åŠ ä¸ªé¤è®²ä¸€è®²æ€ä¹ˆä¼˜åŒ–ã€‚</p>2023-08-10</li><br/><li><span>é•¿æ—å•Š</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>è€å¸ˆåé¢èƒ½æ‰©å±•react-nativeæœåŠ¡ç«¯æ¸²æŸ“æ–¹å‘çš„ç›¸å…³å†…å®¹å—ï¼Ÿ</p>2023-11-30</li><br/><li><span>å¤§å¤§å°å°</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>å“ˆå“ˆï¼Œæˆ‘å±…ç„¶æ˜¯ç¬¬ä¸€ä¸ªæ¯•ä¸šçš„ï¼</p>2023-08-08</li><br/><li><span>Geek_64953b</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>å¤§ä½¬ä»58æ¯•ä¸šäº†å˜›</p>2025-01-09</li><br/>
</ul>