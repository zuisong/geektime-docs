ä½ å¥½ï¼Œæˆ‘æ˜¯å¤§åœ£ã€‚ä¸Šä¸€è®²TypeScriptåŠ é¤å­¦å®Œï¼Œä½ æ˜¯ä¸æ˜¯æƒ³èµ¶ç´§å·©å›ºä¸€ä¸‹TypeScriptåœ¨Vueä¸­çš„ä½¿ç”¨å‘¢ï¼Ÿé‚£ä¹ˆä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä»¬å°±é‡ç‚¹æ”»å…‹Vueä¸­ç»„ä»¶åº“çš„å®ç°éš¾ç‚¹ï¼Œæˆ‘ä¼šç”¨7è®²çš„ç¯‡å¹…å¸¦ä½ è¿›å…¥ç»„ä»¶åº“çš„ä¸–ç•Œã€‚

å­¦ä¹ è·¯å¾„å¤§è‡´æ˜¯è¿™æ ·çš„ï¼Œé¦–å…ˆæˆ‘ä¼šç»™ä½ æ‹†è§£ä¸€ä¸‹Element3ç»„ä»¶åº“çš„ä»£ç ï¼Œå…¶æ¬¡å¸¦ä½ å‰–æç»„ä»¶åº“ä¸­ä¸€äº›ç»å…¸çš„ç»„ä»¶ï¼Œæ¯”å¦‚è¡¨å•ã€è¡¨æ ¼ã€å¼¹çª—ç­‰ç»„ä»¶çš„å®ç°ç»†èŠ‚ï¼Œæ•´ä½“ä½¿ç”¨Vite+TypeScript+Sassçš„æŠ€æœ¯æ ˆæ¥å®ç°ã€‚è€Œä¸šåŠ¡ä¸­ç¹å¤šçš„é¡µé¢ä¹Ÿæ˜¯ç”±ä¸€ä¸ªä¸ªç»„ä»¶æ‹¼æ¥è€Œæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆå­¦ä¹ ä¸€ä¸‹ä¸åŒç±»å‹çš„ç»„ä»¶æ˜¯å¦‚ä½•å»è®¾è®¡çš„ï¼Œå€Ÿæ­¤ä¸¾ä¸€åä¸‰ã€‚

## ç¯å¢ƒæ­å»º

ä¸‹é¢æˆ‘ä»¬ç›´å¥”ä¸»é¢˜ï¼Œå¼€å§‹æ­å»ºç¯å¢ƒã€‚è¿™ä¸ªç« èŠ‚çš„ä»£ç æˆ‘å·²ç»æ¨é€åˆ°äº†[Github](https://github.com/course-dasheng/ailemente) ä¸Šï¼Œç”±äºç»„ä»¶åº“æ˜¯æ¨¡ä»¿Elementå®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä¸ºå…¶å–åä¸ºailementeã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€æ­¥æ­¥å®ç°è¿™ä¸ªç»„ä»¶åº“å§ã€‚é¦–å…ˆå’Œå¼€å‘é¡¹ç›®ä¸€æ ·ï¼Œæˆ‘ä»¬è¦åœ¨å‘½ä»¤è¡Œé‡Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºViteé¡¹ç›®ï¼Œæ¨¡æ¿é€‰æ‹©vue-tsï¼Œè¿™æ ·æˆ‘ä»¬å°±æ‹¥æœ‰äº†ä¸€ä¸ªVite+TypeScriptçš„å¼€å‘ç¯å¢ƒã€‚

```bash
npm init vite@latest
```

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/3a/9f/3a7862fc756674a61c2ed85965208b9f.png?wh=1106x444)

å…³äºESLintå’ŒSassçš„ç›¸å…³é…ç½®ï¼Œå…¨å®¶æ¡¶å®æˆ˜ç¯‡æˆ‘ä»¬å·²ç»è¯¦ç»†é…ç½®äº†ï¼Œè¿™é‡Œåªè¡¥å……ä¸€ä¸‹huskyçš„å†…å®¹ã€‚huskyè¿™ä¸ªåº“å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¸®åŠ©æˆ‘ä»¬è®¾ç½®Gitçš„é’©å­å‡½æ•°ï¼Œå¯ä»¥å…è®¸æˆ‘ä»¬åœ¨ä»£ç æäº¤ä¹‹å‰è¿›è¡Œä»£ç è´¨é‡çš„ç›‘æµ‹ã€‚

ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå®‰è£…å’Œåˆå§‹åŒ–äº†huskyï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨ npx husky addå‘½ä»¤æ–°å¢äº†commit-msgé’©å­ï¼Œhuskyä¼šåœ¨æˆ‘ä»¬æ‰§è¡Œgit commitæäº¤ä»£ç çš„æ—¶å€™æ‰§è¡Œ node scripts/verifyCommitå‘½ä»¤æ¥æ ¡éªŒcommitä¿¡æ¯æ ¼å¼ã€‚

```bash
npm install -D husky # å®‰è£…husky
npx husky install    # åˆå§‹åŒ–husky
# æ–°å¢commit msgé’©å­
npx husky add .husky/commit-msg "node scripts/verifyCommit.js" 
```

ç„¶åæˆ‘ä»¬æ¥åˆ°é¡¹ç›®ç›®å½•ä¸‹çš„verifyCommitæ–‡ä»¶ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å…ˆå» .git/COMMIT\_EDITMSGæ–‡ä»¶ä¸­è¯»å–äº†commitæäº¤çš„ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨äº†æ­£åˆ™å»æ ¡éªŒæäº¤ä¿¡æ¯çš„æ ¼å¼ã€‚å¦‚æœcommitçš„ä¿¡æ¯ä¸ç¬¦åˆè¦æ±‚ï¼Œä¼šç›´æ¥æŠ¥é”™å¹¶ä¸”ç»ˆæ­¢ä»£ç çš„æäº¤ã€‚

```typescript


const msg = require('fs')
  .readFileSync('.git/COMMIT_EDITMSG', 'utf-8')
  .trim()
  
const commitRE = /^(revert: )?(feat|fix|docs|dx|style|refactor|perf|test|workflow|build|ci|chore|types|wip|release)(\(.+\))?: .{1,50}/
const mergeRe = /^(Merge pull request|Merge branch)/
if (!commitRE.test(msg)) {
  if(!mergeRe.test(msg)){
    console.log('git commitä¿¡æ¯æ ¡éªŒä¸é€šè¿‡')

    console.error(`git commitçš„ä¿¡æ¯æ ¼å¼ä¸å¯¹, éœ€è¦ä½¿ç”¨ title(scope): descçš„æ ¼å¼
      æ¯”å¦‚ fix: xxbug
      feat(test): add new 
      å…·ä½“æ ¡éªŒé€»è¾‘çœ‹ scripts/verifyCommit.js
    `)
    process.exit(1)
  }

}else{
  console.log('git commitä¿¡æ¯æ ¡éªŒé€šè¿‡')
}

```

è¿™æ ·å°±ç¡®ä¿åœ¨GitHubä¸­çš„æäº¤æ—¥å¿—éƒ½ç¬¦åˆtype(scope): message çš„æ ¼å¼ã€‚ä½ å¯ä»¥çœ‹ä¸‹Vue 3çš„[ä»£ç æäº¤è®°å½•](https://github.com/vuejs/vue-next/commits/master)ï¼Œæ¯ä¸ªæäº¤æ¶‰åŠçš„æ¨¡å—ï¼Œç±»å‹å’Œä¿¡æ¯éƒ½æ¸…æ™°å¯è§ï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬ç®¡ç†ç‰ˆæœ¬æ—¥å¿—ï¼Œæ ¡éªŒæ­£åˆ™çš„é€»è¾‘ã€‚å¦‚ä¸‹å›¾ï¼Œfeatä»£è¡¨æ–°åŠŸèƒ½ï¼Œdocsä»£è¡¨æ–‡æ¡£ï¼Œperfä»£è¡¨æ€§èƒ½ã€‚ä¸‹é¢çš„æäº¤æ—¥å¿—å°±èƒ½å‘Šè¯‰æˆ‘ä»¬è¿™æ¬¡æäº¤çš„æ˜¯ç»„ä»¶ç›¸å…³çš„æ–°åŠŸèƒ½ï¼Œä»£ç ä¸­æ–°å¢äº†Button.vueã€‚

```typescript
feat(component): add Button.vue
```

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/04/f4/04f18eaf3be849e31cd3629a91d4e3f4.png?wh=1920x1020)

commit-msgæ˜¯ä»£ç æ‰§è¡Œæäº¤çš„æ—¶å€™æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä»£ç æ‰§è¡Œä¹‹å‰çš„é’©å­pre-commitå»æ‰§è¡ŒESLintä»£ç æ ¼å¼ã€‚è¿™æ ·æˆ‘ä»¬åœ¨æ‰§è¡Œgit commitçš„åŒæ—¶ï¼Œå°±ä¼šé¦–å…ˆè¿›è¡ŒESLintæ ¡éªŒï¼Œç„¶åæ‰§è¡Œcommitçš„logä¿¡æ¯æ ¼å¼æ£€æŸ¥ï¼Œå…¨éƒ¨é€šè¿‡åä»£ç æ‰èƒ½æäº¤è‡³Gitï¼Œè¿™ä¹Ÿæ˜¯ç°åœ¨ä¸šç•Œé€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå­¦å®Œä½ å°±å¿«å»ä¼˜åŒ–ä¸€ä¸‹æ‰‹é‡Œçš„é¡¹ç›®å§ï¼

```typescript
npx husky add .husky/pre-commit "npm run lint"
```

## å¸ƒå±€ç»„ä»¶

å¥½ï¼Œç°åœ¨ç¯å¢ƒæˆ‘ä»¬å°±æ­å»ºå¥½äº†ï¼Œæ¥ç€çœ‹çœ‹æ€ä¹ˆå¸ƒå±€ç»„ä»¶ã€‚

æˆ‘ä»¬å¯ä»¥å‚è€ƒ[Element3ç»„ä»¶åˆ—è¡¨é¡µé¢](https://e3.shengxinjing.cn/#/component/installation)ï¼Œè¿™é‡Œçš„ç»„ä»¶åˆ†æˆäº†åŸºç¡€ç»„ä»¶ã€è¡¨å•ç»„ä»¶ã€æ•°æ®ç»„ä»¶ã€é€šçŸ¥ç»„ä»¶ã€å¯¼èˆªç»„ä»¶å’Œå…¶ä»–ç»„ä»¶å‡ ä¸ªç±»å‹ï¼Œè¿™äº›ç±»å‹åŸºæœ¬è¦†ç›–äº†ç»„ä»¶åº“çš„é€‚ç”¨åœºæ™¯ï¼Œé¡¹ç›®ä¸­çš„ä¸šåŠ¡ç»„ä»¶ä¹Ÿæ˜¯ç”±è¿™äº›ç±»å‹ç»„ä»¶æ‹¼æ¥è€Œæ¥çš„ã€‚

æˆ‘ä»¬è¿˜å¯ä»¥å‚è€ƒé¡¹ç›®æ¨¡å—çš„è§„èŒƒæ­å»ºç»„ä»¶åº“çš„æ¨¡æ¿ï¼ŒåŒ…æ‹¬Sassã€ESLintç­‰ï¼Œç»„ä»¶åº“ä¼šåœ¨è¿™äº›è§„èŒƒä¹‹ä¸ŠåŠ å…¥å•å…ƒæµ‹è¯•æ¥è¿›ä¸€æ­¥ç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚

**æ¥ä¸‹æ¥æˆ‘ä»¬é€ä¸€è®²è§£ä¸‹å„ä¸ªç»„ä»¶çš„è´Ÿè´£èŒƒå›´ã€‚**

é¦–å…ˆæˆ‘ä»¬éœ€è¦è®¾è®¡åŸºç¡€çš„ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªé¡¹ç›®ä¸­éƒ½ä¼šç”¨åˆ°çš„ç»„ä»¶è§„èŒƒï¼ŒåŒ…æ‹¬å¸ƒå±€ã€è‰²å½©ï¼Œå­—ä½“ã€å›¾æ ‡ç­‰ç­‰ã€‚è¿™äº›ç»„ä»¶åŸºæœ¬æ²¡æœ‰JavaScriptçš„å‚ä¸ï¼Œå®ç°èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œè´Ÿè´£çš„å°±æ˜¯é¡¹ç›®æ•´ä½“çš„å¸ƒå±€å’Œè‰²å½©è®¾è®¡ã€‚

è€Œè¡¨å•ç»„ä»¶åˆ™è´Ÿè´£ç”¨æˆ·çš„è¾“å…¥æ•°æ®ç®¡ç†ï¼ŒåŒ…æ‹¬æˆ‘ä»¬å¸¸è§çš„è¾“å…¥æ¡†ã€æ»‘å—ã€è¯„åˆ†ç­‰ç­‰ï¼Œæ€»ç»“æ¥è¯´ï¼Œ**éœ€è¦ç”¨æˆ·è¾“å…¥çš„åœ°æ–¹å°±æ˜¯è¡¨å•ç»„ä»¶çš„åº”ç”¨åœºæ™¯**ï¼Œå…¶ä¸­å¯¹ç”¨æˆ·çš„è¾“å…¥æ ¡éªŒæ˜¯æ¯”è¾ƒé‡è¦çš„åŠŸèƒ½ç‚¹ã€‚

æ•°æ®ç»„ä»¶è´Ÿè´£æ˜¾ç¤ºåå°çš„æ•°æ®ï¼Œæœ€é‡è¦çš„å°±æ˜¯è¡¨æ ¼å’Œæ ‘å½¢ç»„ä»¶ã€‚

é€šçŸ¥ç»„ä»¶è´Ÿè´£é€šçŸ¥ç”¨æˆ·æ“ä½œçš„çŠ¶æ€ï¼ŒåŒ…æ‹¬è­¦å‘Šå’Œå¼¹çª—ï¼Œå¦‚ä½•ç”¨å‡½æ•°åŠ¨æ€æ¸²æŸ“ç»„ä»¶æ˜¯è­¦å‘Šç»„ä»¶çš„é‡è¦åŠŸèƒ½ç‚¹ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬å°±åŠ¨æ‰‹è®¾è®¡ä¸€ä¸ªåŸºç¡€çš„å¸ƒå±€ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ç›¸å¯¹æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚ä½ å¯ä»¥è®¿é—®[Element3å¸ƒå±€å®¹å™¨é¡µé¢](https://e3.shengxinjing.cn/#/component/container)ï¼Œè¿™é‡Œä¸€å…±æœ‰containerã€headerã€footerã€asideã€mainäº”ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„åˆå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°å¸¸è§çš„é¡µé¢å¸ƒå±€ã€‚

- el-containerç»„ä»¶è´Ÿè´£å¤–å±‚å®¹å™¨ï¼Œå½“å­å…ƒç´ ä¸­åŒ…å«Â &lt;el-header&gt;Â æˆ–Â &lt;el-footer&gt;Â æ—¶ï¼Œå…¨éƒ¨å­å…ƒç´ ä¼šå‚ç›´ä¸Šä¸‹æ’åˆ—ï¼Œå¦åˆ™ä¼šæ°´å¹³å·¦å³æ’åˆ—ã€‚
- el-headerã€el-asideã€el-mainã€el-footer ç»„ä»¶åˆ†åˆ«è´Ÿè´£é¡¶éƒ¨å’Œä¾§è¾¹æ ï¼Œé¡µé¢ä¸»ä½“å’Œåº•éƒ¨å®¹å™¨ç»„ä»¶ã€‚è¿™ä¸ªåŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œåªæ˜¯æ¸²æŸ“é¡µé¢çš„å¸ƒå±€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨src/componentsç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹containerï¼Œæ–°å»ºContainer.vueï¼Œå¸ƒå±€ç»„ä»¶æ²¡æœ‰äº¤äº’é€»è¾‘ï¼Œåªéœ€è¦é€šè¿‡flexå¸ƒå±€å°±å¯ä»¥å®ç°ã€‚

è¿™å‡ ä¸ªç»„ä»¶åªæ˜¯æä¾›äº†ä¸åŒçš„classï¼Œè¿™é‡Œå°±æ¶‰åŠåˆ°CSSçš„è®¾è®¡å†…å®¹ã€‚åœ¨Element3ä¸­æ‰€æœ‰çš„æ ·å¼å‰ç¼€éƒ½æ˜¯elå¼€å¤´ï¼Œæ¯æ¬¡éƒ½é‡å¤ä¹¦å†™ç»´æŠ¤å¤ªå›°éš¾ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾è®¡ä¹‹åˆå°±éœ€è¦æ¶‰åŠSassçš„Mixinæ¥æé«˜ä¹¦å†™CSSçš„ä»£ç æ•ˆç‡ã€‚

æ¥ç€ï¼Œæˆ‘ä»¬åœ¨src/stylesä¸‹é¢æ–°å»ºmixin.scssã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†namespaceå˜é‡ä¸ºelï¼Œä½¿ç”¨Mixinæ³¨å†Œä¸€ä¸ªå¯ä»¥é‡å¤ä½¿ç”¨çš„æ¨¡å—bï¼Œå¯ä»¥é€šè¿‡ä¼ è¿›æ¥çš„blockç”Ÿæˆæ–°çš„å˜é‡$Bï¼Œå¹¶ä¸”å˜é‡ä¼šæ¸²æŸ“åœ¨classä¸Šï¼Œå¹¶ä¸”æ³¨å†Œäº†whenå¯ä»¥æ–°å¢classé€‰æ‹©å™¨ï¼Œå®ç°å¤šä¸ªclassçš„æ ·å¼ã€‚

```scss
// bem

$namespace: 'el';
@mixin b($block) {
  $B: $namespace + '-' + $block !global;
  .#{$B} {
    @content;
  }
}

// æ·»åŠ benåç¼€å•¥çš„
@mixin when($state) {
  @at-root {
    &.#{$state-prefix + $state} {
      @content;
    }
  }
}
```

ä»£ç çœ‹ç€æœ‰äº›æŠ½è±¡ï¼Œä¸è¦æ€¥ï¼Œæˆ‘ä»¬å†åœ¨ container.vueä¸­å†™ä¸Šä¸‹é¢çš„ä»£ç ã€‚ä½¿ç”¨@importå¯¼å…¥mixin.scssåï¼Œå°±å¯ä»¥ç”¨includeè¯­æ³•å»ä½¿ç”¨Mixinæ³¨å†Œçš„ä»£ç å—ã€‚

```xml
<style lang="scss">
@import '../styles/mixin';
@include b(container) {
  display: flex;
  flex-direction: row;
  flex: 1;
  flex-basis: auto;
  box-sizing: border-box;
  min-width: 0;
  @include when(vertical) {
    flex-direction: column;
  }
}

</style>
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨b(container)ç”Ÿæˆ.el-containeræ ·å¼ç±»ï¼Œåœ¨å†…éƒ¨ä½¿ç”¨when(vertical)ç”Ÿæˆ.el-container.is-verticalæ ·å¼ç±»ï¼Œå»ä¿®æ”¹flexçš„å¸ƒå±€æ–¹å‘ã€‚

```scss
.el-container {
Â  display: flex;
Â  flex-direction: row;
Â  flex: 1;
Â  flex-basis: auto;
Â  box-sizing: border-box;
Â  min-width: 0;
}
.el-container.is-vertical {
Â  flex-direction: column;
}
```

containerç»„ä»¶å¦‚æœå†…éƒ¨æ²¡æœ‰headeræˆ–è€…footerç»„ä»¶ï¼Œå°±æ˜¯æ¨ªå‘å¸ƒå±€ï¼Œå¦åˆ™å°±æ˜¯å‚ç›´å¸ƒå±€ã€‚æ ¹æ®ä¸Šé¢çš„CSSä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œåªéœ€è¦æ–°å¢is-verticalè¿™ä¸ªclassï¼Œå°±å¯ä»¥å®ç°å‚ç›´å¸ƒå±€ã€‚

æˆ‘ä»¬åœ¨Container.vueä¸­å†™ä¸‹ä¸‹é¢çš„ä»£ç ï¼Œtemplateä¸­ä½¿ç”¨el-containerå®¹å™¨åŒ…è£¹ï¼Œé€šè¿‡:classæ¥å®ç°æ ·å¼æ§åˆ¶å³å¯ã€‚ç„¶åä½ è‚¯å®šä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä¸ªscriptæ ‡ç­¾ï¼Ÿ

å› ä¸ºå¼€å‘ç»„ä»¶åº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦ç¡®ä¿æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œscript setupä¸­æ²¡æ³•è¿”å›ç»„ä»¶çš„åå­—ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå•ç‹¬çš„æ ‡ç­¾ï¼Œä½¿ç”¨optionsçš„è¯­æ³•è®¾ç½®ç»„ä»¶çš„nameå±æ€§ã€‚

ç„¶ååœ¨&lt;script setup&gt;æ ‡ç­¾ä¸­ï¼Œæ·»åŠ lang="ts"æ¥å£°æ˜è¯­è¨€æ˜¯TypeScriptã€‚Typescriptå®ç°ç»„ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨interfaceå»å®šä¹‰ä¼ é€’çš„å±æ€§ç±»å‹å³å¯ã€‚ä½¿ç”¨defineProps()å®ç°å‚æ•°ç±»å‹æ ¡éªŒåï¼Œæˆ‘ä»¬å†ä½¿ç”¨computedå»åˆ¤æ–­containerçš„æ–¹å‘æ˜¯å¦ä¸ºå‚ç›´ï¼Œæ‰‹åŠ¨æŒ‡å®šdirectionå’Œå­å…ƒç´ ä¸­æœ‰el-headeræˆ–è€…el-footerçš„æ—¶å€™æ˜¯å‚ç›´å¸ƒå±€ï¼Œå…¶ä»–æƒ…å†µæ˜¯æ°´å¹³å¸ƒå±€ã€‚

```xml
<template>
  <section
    class="el-container"
    :class="{ 'is-vertical': isVertical }"
  >
    <slot />
  </section> 
</template>
<script lang="ts">
export default{
  name:'ElContainer'
}
</script>
<script setup lang="ts">

import {useSlots,computed,VNode,Component} from 'vue'

interface Props {
  direction?:string
}
const props = defineProps<Props>()

const slots = useSlots()

const isVertical = computed(() => {
  if (slots && slots.default) {
    return slots.default().some((vn:VNode) => {
      const tag = (vn.type as Component).name
      return tag === 'ElHeader' || tag === 'ElFooter'
    })
  } else {
    return props.direction === 'vertical'
  }
})
</script>
```

è¿™æ ·æˆ‘ä»¬çš„containerç»„ä»¶å°±å®ç°äº†ï¼Œå…¶ä»–å››ä¸ªç»„ä»¶å®ç°èµ·æ¥å¤§åŒå°å¼‚ã€‚æˆ‘ä»¬ä»¥headerç»„ä»¶ä¸¾ä¾‹ï¼Œåœ¨containerç›®å½•ä¸‹æ–°å»ºHeader.vueã€‚

åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œtemplateä¸­æ¸²æŸ“el-headeræ ·å¼ç±»ï¼Œé€šè¿‡definePropså®šä¹‰ä¼ å…¥çš„å±æ€§heightï¼Œå¹¶ä¸”é€šè¿‡withDefaultsè®¾ç½®heightçš„é»˜è®¤å€¼ä¸º60pxï¼Œé€šè¿‡b(header)çš„æ–¹å¼å®ç°æ ·å¼ï¼Œç”¨åˆ°çš„å˜é‡éƒ½åœ¨style/mixinä¸­æ³¨å†Œï¼Œæ–¹ä¾¿å¤šä¸ªç»„ä»¶ä¹‹é—´çš„å˜é‡å…±äº«ã€‚

```xml
<template>
  <header
    class="el-header"
    :style="{ height }"
  >
    <slot />
  </header>
</template>

<script lang="ts">
export default{
  name:'ElHeader'
}
</script>
<script setup lang="ts">
import {withDefaults} from 'vue'

interface Props {
  height?:string
}
withDefaults(defineProps<Props>(),{
  height:"60px"
})

</script>

<style lang="scss">
@import '../styles/mixin';
@include b(header) {
  padding: $--header-padding;
  box-sizing: border-box;
  flex-shrink: 0;
}

</style>
```

## ç»„ä»¶æ³¨å†Œ

asideã€footerå’Œmainç»„ä»¶ä»£ç å’Œheaderç»„ä»¶åŸºæœ¬ä¸€è‡´ï¼Œä½ å¯ä»¥åœ¨[è¿™æ¬¡æäº¤ä¸­](https://github.com/shengxinjing/ailemente/commit/8902877cf3e7361da0c9aa78d6b6f4b0b344d431)çœ‹åˆ°ç»„ä»¶çš„å˜æ›´ã€‚

ç»„ä»¶æ³¨å†Œå®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬åœ¨src/App.vueä¸­ä½¿ç”¨importè¯­æ³•å¯¼å…¥åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œæˆ‘ä»¬çš„ç»„ä»¶åº“æœ€åä¼šæœ‰å¾ˆå¤šç»„ä»¶å¯¹å¤–æš´éœ²ï¼Œç”¨æˆ·æ¯æ¬¡éƒ½importçš„è¯ç¡®å®å¤ªè¾›è‹¦äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨æ’ä»¶æœºåˆ¶å¯¹å¤–æš´éœ²å®‰è£…çš„æ¥å£ï¼Œæˆ‘ä»¬åœ¨containerç›®å½•ä¸‹æ–°å»ºindex.tsã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯¹å¤–æš´éœ²äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„installæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨app.componentæ³¨å†Œè¿™äº”ä¸ªç»„ä»¶ã€‚

```typescript
import {App} from 'vue'
import ElContainer from './Container.vue'
import ElHeader from './Header.vue'
import ElFooter from './Footer.vue'
import ElAside from './Aside.vue'
import ElMain from './Main.vue'

export default {
  install(app:App){
    app.component(ElContainer.name,ElContainer)
    app.component(ElHeader.name,ElHeader)
    app.component(ElFooter.name,ElFooter)
    app.component(ElAside.name,ElAside)
    app.component(ElMain.name,ElMain)
  }
}
```

ç„¶åæˆ‘ä»¬æ¥åˆ°src/main.tsæ–‡ä»¶ä¸­ï¼Œä¸‹é¢çš„ä»£ç ä¸­æˆ‘ä»¬ä½¿ç”¨app.use(ElContainer)çš„æ–¹å¼æ³¨å†Œå…¨éƒ¨å¸ƒå±€ç»„ä»¶ï¼Œè¿™æ ·åœ¨é¡¹ç›®å†…éƒ¨å°±å¯ä»¥å…¨å±€ä½¿ç”¨containã€headerç­‰äº”ä¸ªç»„ä»¶ã€‚å®é™…çš„ç»„ä»¶åº“å¼€å‘è¿‡ç¨‹ä¸­ï¼Œ[æ¯ä¸ªç»„ä»¶éƒ½ä¼šæä¾›ä¸€ä¸ªinstallæ–¹æ³•](https://github.com/hug-sun/element3/blob/master/packages/element3/packages/container/index.js)ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ ¹æ®é¡¹ç›®çš„éœ€æ±‚æŒ‰éœ€åŠ è½½ã€‚

```typescript
import { createApp } from 'vue'
import App from './App.vue'
import ElContainer from './components/container'

const app = createApp(App)
app.use(ElContainer)
  .use(ElButton)
  .mount('#app')

```

## ç»„ä»¶ä½¿ç”¨

åé¢æˆ‘ä¼šæ•™ä½ è®¾è®¡ç»„ä»¶åº“çš„æ–‡æ¡£ç³»ç»Ÿï¼Œè¿™é‡Œæˆ‘ä»¬å°±å…ˆç”¨App.vueæ¥æ¼”ç¤ºä¸€ä¸‹ç»„ä»¶æ•ˆæœã€‚

åœ¨src/App.vueçš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç»„ä»¶åµŒå¥—çš„æ–¹å¼å°±å¯ä»¥å®ç°ä¸‹é¢çš„é¡µé¢å¸ƒå±€ã€‚

```xml
<template>
 <el-container>
  <el-header>Header</el-header>
  <el-main>Main</el-main>
  <el-footer>Footer</el-footer>
</el-container>
  <hr>

<el-container>
  <el-header>Header</el-header>
  <el-container>
    <el-aside width="200px">Aside</el-aside>
    <el-main>Main</el-main>
  </el-container>
</el-container>
  <hr>
<el-container>
  <el-aside width="200px">Aside</el-aside>
  <el-container>
    <el-header>Header</el-header>
    <el-main>Main</el-main>
    <el-footer>Footer</el-footer>
  </el-container>
</el-container>
</template>
<script setup lang="ts">
</script>
<style>

body{
  width:1000px;
  margin:10px auto;
}
.el-header,
.el-footer {
  ..è®¾ç½®é¢å¤–çš„cssæ ·å¼
}
</style>
```

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/50/8d/50fc754a942ae92f0362e1e9d62fb28d.png?wh=1920x1527)

## æ€»ç»“

ä»Šå¤©çš„è¯¾ç¨‹åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ä»Šå¤©å­¦åˆ°çš„å†…å®¹å§ã€‚

é¦–å…ˆæˆ‘ä»¬ä»‹ç»äº†ç»„ä»¶åº“ä¸­çš„ç»„ä»¶åˆ†ç±»ï¼ŒåŸºç¡€ç»„ä»¶ã€è¡¨å•ç»„ä»¶ã€æ•°æ®ç»„ä»¶å’Œé€šçŸ¥ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶ç±»å‹ç»„åˆæ‹¼æ¥ï¼Œå°±å¯ä»¥å¼€å‘å‡ºåŠŸèƒ½ç¹å¤šçš„é¡¹ç›®ã€‚å…¶ä¸­ï¼ŒåŸºç¡€ç»„ä»¶è´Ÿè´£æ•´ä½“å¸ƒå±€å’Œè‰²å½©çš„æ˜¾ç¤ºï¼Œè¡¨å•ç»„ä»¶è´Ÿè´£ç”¨æˆ·çš„è¾“å…¥ï¼Œæ•°æ®ç»„ä»¶è´Ÿè´£æ•°æ®çš„æ˜¾ç¤ºï¼Œé€šçŸ¥ç»„ä»¶ç”¨äºæ•°æ®çš„åé¦ˆã€‚

ç„¶åæˆ‘ä»¬åŸºäºViteå’ŒTypeScriptæ­å»ºäº†ç»„ä»¶åº“çš„ä»£ç ç¯å¢ƒï¼Œä½¿ç”¨huskyå®ç°äº†ä»£ç æäº¤ä¹‹å‰çš„commitä¿¡æ¯å’ŒESLintæ ¼å¼æ ¡éªŒï¼Œç¡®ä¿åªæœ‰åˆæ ¼çš„ä»£ç èƒ½å¤Ÿæäº¤æˆåŠŸã€‚

æœ€åæˆ‘ä»¬ä½¿ç”¨TypeScript+Sasså¼€å‘äº†å¸ƒå±€ç›¸å…³çš„ç»„ä»¶ï¼Œcontainerè´Ÿè´£å®¹å™¨ï¼Œheaderã€footerã€asideå’Œmainè´Ÿè´£æ¸²æŸ“ä¸åŒæ¨¡å—ã€‚

è¿™èŠ‚è¯¾æˆ‘ä»¬å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨Sassæ¥æé«˜ç®¡ç†CSSä»£ç çš„æ•ˆç‡ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨TypeScriptæ¥å¼€å‘ç»„ä»¶ï¼Œç°åœ¨ç›¸ä¿¡ä½ å¯¹Vue 3ä¸­å¦‚ä½•ä½¿ç”¨TypeScriptå·²ç»æœ‰äº†æ›´è¿›ä¸€æ­¥çš„è®¤è¯†ã€‚

## æ€è€ƒé¢˜

æœ€åæˆ‘ä»¬ç•™ä¸ªæ€è€ƒé¢˜ï¼šä½ è´Ÿè´£çš„ä¸šåŠ¡é‡Œæœ‰ä»€ä¹ˆç»„ä»¶é€‚åˆæ”¾åœ¨ç»„ä»¶åº“é‡Œç»´æŠ¤å‘¢ï¼Ÿ

æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ä¸€è®²åˆ†äº«ç»™ä½ çš„åŒäº‹å’Œæœ‹å‹ä»¬ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ï¼
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ15ï¼‰</strong></div><ul>
<li><span>å…³å…³å›</span> ğŸ‘ï¼ˆ16ï¼‰ ğŸ’¬ï¼ˆ5ï¼‰<p>mixin.scss é‡Œå°‘ä¸€ä¸ªå˜é‡ 
$state-prefix: &#39;is-&#39;;</p>2021-12-08</li><br/><li><span>ä»</span> ğŸ‘ï¼ˆ10ï¼‰ ğŸ’¬ï¼ˆ3ï¼‰<p>feat ä»£è¡¨æ–°åŠŸèƒ½ï¼Œdocs ä»£è¡¨æ–‡æ¡£ï¼Œperf ä»£è¡¨æ€§èƒ½    é‚£å‰©ä¸‹çš„è¡¨ç¤ºä»€ä¹ˆï¼Œå“ªé‡Œæœ‰æ³¨é‡Šå—</p>2021-12-09</li><br/><li><span>ä¸€å—å°ç –å¤´</span> ğŸ‘ï¼ˆ8ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>æ„Ÿè§‰ç»„ä»¶ç¯‡çš„å¯èƒ½å­¦èµ·æ¥å¾ˆåƒåŠ›ï¼Œç”šè‡³éƒ½çœ‹ä¸æ‡‚ï¼Œæ˜¯ä¸æ˜¯è¦å…ˆæä¸€ä¸ªvue3çš„é¡¹ç›®å­¦å­¦ï¼Œæ—¢ç„¶vue3éƒ½æ²¡å­¦è¿‡å°±å¼€å§‹å†™ç»„ä»¶å°è£…æ˜¯ä¸æ˜¯æœ‰ç‚¹æ‰¯äº†</p>2021-12-14</li><br/><li><span>ll</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>å¹´åº•äº‹æœ‰ç‚¹å¤šï¼Œä¸€ä¸ªä¸ç•™ç¥è½åå¥½å‡ èŠ‚è¯¾ï¼Œç°åœ¨ä»è¿›é˜¶å¼€å§‹è¿½ã€‚ä»£ç ç…§ç€å†™äº†ä¸€è¾¹ï¼Œå¯¹æ¯”ç€ gtihub çš„ä»£ç åº“ï¼Œç„¶åå†è‡ªå·±å®ç°ä¸€è¾¹ï¼Œè¿™èŠ‚è¯¾å°±ç”¨äº†ä¸¤å¤©ã€‚
è¯´å®è¯æŠ€æœ¯è¿™ç§ä¸œè¥¿ï¼Œäº†è§£æ˜¯ä¸€å›äº‹ï¼Œä¼šç”¨æ˜¯å¦å¤–ä¸€å›äº‹ã€‚
å°±è¿™ä¹ˆä¸ªè¿‡ç¨‹ï¼Œæ—¢ç„¶é€‰æ‹©äº†è¿™æ¡è·¯ï¼Œå¥½å¥½èµ°å°±æ˜¯äº†ã€‚
æ„Ÿæ…¨ä¸‹ï¼Œæ‰“ä¸ªæ—¶é—´æˆ³ï¼Œç»§ç»­èµ¶è·¯</p>2022-01-06</li><br/><li><span>Geek_95cc7a</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>å•Šåœ£ï¼Œä½ åœ¨è®¤çœŸå†™å—ï¼Ÿ
if (props.direction === &#39;vertical&#39;) { return true } else { return false } }</p>2021-12-22</li><br/><li><span>ç™½æ³—å°æ—</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>windows10 ç¯å¢ƒä¸‹ç”¨ npx husky add .husky&#47;commit-msg &quot;node-scripts&#47;verifyCommit.js&quot;ã€‚å†å°†ç”Ÿæˆçš„commit-msg æ–‡ä»¶ä¸­æ”¹å› node scripts&#47;verifyCommit.js </p>2021-12-13</li><br/><li><span>è²è¿ªäºšæ–¯</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ4ï¼‰<p>ä»£ç ä»“åº“æ²¡äº†ï¼Ÿï¼Ÿ</p>2024-06-12</li><br/><li><span>SjmBreadrain</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>è¿˜æœ‰ä»£ç é‡Œå¼•è¿›çš„VNodeä¹ŸæŠ¥æ¨¡å—â€œ&quot;..&#47;..&#47;runtime-core&#47;dist&#47;runtime-core&quot;â€æ²¡æœ‰å¯¼å‡ºçš„æˆå‘˜â€œVNodeâ€ã€‚ è¿™äº›éƒ½æ˜¯ä»vueé‡Œå¼•è¿›çš„ï¼Œæ²¡æ˜ç™½æ˜¯å“ªé‡Œé”™äº†</p>2022-01-20</li><br/><li><span>SjmBreadrain</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>æˆ‘ä¹Ÿæ˜¯ç…§ç€ä¸Šé¢çš„æ­¥éª¤åšçš„ï¼Œåé¢å¼¹å‡ºUncaught SyntaxError: The requested module &#39;&#47;node_modules&#47;.vite&#47;vue.js?v=4c6e32ec&#39; does not provide an export named &#39;widthDefaluts&#39; è¿™æ˜¯ä»€ä¹ˆé”™ï¼ŒæŒ‰ç†æˆ‘æ˜¯ä»vueé‡Œå¼•è¿›çš„ä¸åº”è¯¥æŠ¥è¿™ä¸ªé”™ </p>2022-01-20</li><br/><li><span>JC.å½¦</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<p>æˆ‘å¯¹Vue3è¿˜ä¸æ˜¯å¾ˆäº†è§£ï¼Œç°åœ¨æœ‰ä¸ªç–‘é—®ã€‚

(vn.type as Component).nameï¼Œè¿™åº”è¯¥æ˜¯è·å–ç»„ä»¶åçš„æ“ä½œå§ï¼Ÿ

ä¸ºä»€ä¹ˆè¦åŠ ä¸Šã€Œas Componentã€ï¼Ÿæˆ‘è¯•äº†ä¸€ä¸‹ï¼Œä¸åŠ as Componentä¹Ÿèƒ½è·å–ç»„ä»¶åã€‚

</p>2022-01-12</li><br/><li><span>é£ä¸€æ ·</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>$--header-padding  è¿™ä¸ªå˜é‡åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>2021-12-30</li><br/><li><span>Humiking</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>Internal server error: Preprocessor dependency &quot;sass&quot; not found. Did you install it? å¦‚ä½•å®‰è£…ï¼Œç¯å¢ƒè®¾ç½®èƒ½ä»‹ç»ä¸€ä¸‹ä¹ˆ</p>2021-12-27</li><br/><li><span>Kevin</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>å®šä¹‰çš„ç»„ä»¶æ˜¯  ElContainer è€Œåœ¨templateä½¿ç”¨çš„æ˜¯ el-container æ˜¯æˆ‘é”™è¿‡äº†å•¥ä¹ˆï¼Ÿ </p>2021-12-17</li><br/><li><span>cwang</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>å¤§åœ£è€å¸ˆå¥½ï¼Œå°½ç®¡å¦‚æ­¤æ–‡æ¡£èµ„æºä¸°å¯Œçš„ä»Šå¤©ï¼Œè¿˜æ˜¯æƒ³é—®ä½ è¿™ä¸ªé—®é¢˜ï¼š

æˆ‘ä»¬å®‰è£…eslintï¼Œè¿˜æ˜¯huskyï¼Œéƒ½æ˜¯ä½¿ç”¨npmã€‚ ä½†æ˜¯åˆ°äº†åˆå§‹åŒ–è¿™äº›å®‰è£…åŒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¬å´ç”¨äº†npxæ¥åšè¿™äº›ï¼Œè¯·é—®è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè°¢è°¢ã€‚</p>2021-12-10</li><br/><li><span>bb</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>æœ‰æ²¡æœ‰ä¸€ä¸ªæ ‡å‡†çš„è¯­æ³•æ¨¡å‹ï¼Œæˆ‘ç°åœ¨éƒ½ä¸çŸ¥é“ç”¨é‚£ç§æ–¹å¼äº†ï¼Œä¸€ä¸‹æœ‰&lt;script&gt;ï¼Œ&lt;script setup&gt;ï¼Œsetup()ã€‚ä¸çŸ¥é“ç”¨é‚£ç§</p>2021-12-07</li><br/>
</ul>