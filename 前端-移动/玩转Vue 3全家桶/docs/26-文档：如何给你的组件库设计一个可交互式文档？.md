ä½ å¥½ï¼Œæˆ‘æ˜¯å¤§åœ£ã€‚

åœ¨æˆ‘ä»¬å®ç°äº†ç»„ä»¶åº“æ ¸å¿ƒçš„ç»„ä»¶å†…å®¹ä¹‹åï¼Œæˆ‘ä»¬å°±éœ€è¦æä¾›ä¸€ä¸ªå¯äº¤äº’çš„ç»„ä»¶æ–‡æ¡£ç»™ç”¨æˆ·ä½¿ç”¨å’Œå­¦ä¹ äº†ã€‚è¿™ä¸ªæ–‡æ¡£é¡µé¢ä¸»è¦åŒ…å«ç»„ä»¶çš„æè¿°ï¼Œç»„ä»¶Demoç¤ºä¾‹çš„å±•ç¤ºã€æè¿°å’Œä»£ç ï¼Œå¹¶ä¸”æ¯ä¸ªç»„ä»¶éƒ½åº”è¯¥æœ‰è¯¦ç»†çš„å‚æ•°æ–‡æ¡£ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬ä»ä¸Šè¿°æ–‡æ¡£é¡µåŒ…å«çš„ä¿¡æ¯æ¥æ¢³ç†ä¸€ä¸‹æˆ‘ä»¬çš„éœ€æ±‚ã€‚æˆ‘ä»¬éœ€è¦ç”¨æœ€ç®€æ´çš„è¯­æ³•æ¥å†™é¡µé¢ï¼Œè¿˜éœ€è¦ç”¨æœ€ç®€æ´çš„è¯­æ³•æ¥å±•ç¤º Demo + æºä»£ç  + ç¤ºä¾‹æè¿°ã€‚é‚£ä¹ˆä»è¯­æ³•ä¸Šæ¥è¯´ï¼Œé¦–é€‰å°±æ˜¯ Markdown æ— ç–‘äº†ï¼Œå› ä¸ºå®ƒæ—¢ç®€æ´åˆå¼ºå¤§ã€‚

é‚£åœ¨æˆ‘ä»¬æ­£å¼å¼€å§‹è®¾è®¡æ–‡æ¡£ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹é½ä¸€ä¸‹ã€‚å¦‚æœè¦å±•ç¤º Demo å’Œæºç çš„è¯ï¼Œä¸ºäº†èƒ½æ›´é«˜æ•ˆä¸”ä½æˆæœ¬çš„ç»´æŠ¤ï¼Œæˆ‘ä»¬ä¼šæŠŠä¸€ä¸ªç¤ºä¾‹çš„ Demo + æºç  + ç¤ºä¾‹æè¿°æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå°½é‡å¤šçš„å»å¤ç”¨ï¼Œè¿™æ ·å¯ä»¥å‡å°‘éœ€è¦ç»´æŠ¤çš„ä»£ç ã€‚è€Œåšç¤ºä¾‹å±•ç¤ºçš„è¯ï¼Œæœ¬è´¨ä¸Šå¯ä»¥è¯´æ˜¯è·Ÿ Markdown çš„è½¬è¯‘ä¸€è‡´ï¼Œéƒ½æ˜¯ Markdown -&gt; HTMLï¼Œåªæ˜¯è½¬è¯‘çš„è§„åˆ™æˆ‘ä»¬éœ€è¦æ‹“å±•ä¸€ä¸‹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ­£å¼å¼€å§‹ã€‚

## VuePress

é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½åŸºäºMarkdownæ„å»ºæ–‡æ¡£çš„å·¥å…·ï¼Œæˆ‘æ¨èVuePressã€‚å®ƒæ˜¯Vueå®˜ç½‘å›¢é˜Ÿç»´æŠ¤çš„åœ¨çº¿æŠ€æœ¯æ–‡æ¡£å·¥å…·ï¼Œæ ·å¼å’ŒVueçš„å®˜æ–¹æ–‡æ¡£ä¿æŒä¸€è‡´ã€‚

VuePresså†…ç½®äº†Markdownçš„æ‰©å±•ï¼Œå†™æ–‡æ¡£çš„æ—¶å€™å°±æ˜¯ç”¨Markdownè¯­æ³•è¿›è¡Œæ¸²æŸ“çš„ã€‚æœ€è®©äººçœå¿ƒçš„æ˜¯ï¼Œå®ƒå¯ä»¥ç›´æ¥åœ¨Markdowné‡Œé¢ä½¿ç”¨Vueç»„ä»¶ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨Markdownä¸­å†™ä¸Šä¸€ä¸ªä¸ªçš„ç»„ä»¶åº“çš„ä½¿ç”¨ä»£ç ï¼Œå°±å¯ä»¥ç›´æ¥å±•ç¤ºè¿è¡Œæ•ˆæœäº†ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­æ‰§è¡Œä¸‹é¢çš„ä»£ç å®‰è£…VuePressçš„æœ€æ–°ç‰ˆæœ¬ï¼š

```bash
yarn add -D vuepress@next
```

ç„¶åæˆ‘ä»¬æ–°å»ºdocsç›®å½•ä½œä¸ºæ–‡æ¡£ç›®å½•ï¼Œæ–°å»ºdocs/README.mdæ–‡ä»¶ä½œä¸ºæ–‡æ¡£çš„é¦–é¡µã€‚é™¤äº†Markdownä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨VuePressçš„è¯­æ³•æ‰©å±•å¯¹ç»„ä»¶è¿›è¡Œæ¸²æŸ“ã€‚

```yaml

---
home: true
heroImage: /theme.png
title: ç½‘ç«™å¿«é€Ÿæˆå‹å·¥å…·
tagline: ä¸€å¥—ä¸ºå¼€å‘è€…ã€è®¾è®¡å¸ˆå’Œäº§å“ç»ç†å‡†å¤‡çš„åŸºäº Vue 3 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“
heroText: ç½‘ç«™å¿«é€Ÿæˆå‹å·¥å…·
actions:
  - text: å¿«é€Ÿä¸Šæ‰‹
    link: /install
    type: primary
  - text: é¡¹ç›®ç®€ä»‹
    link: /button
    type: secondary
features:
  - title: ç®€æ´è‡³ä¸Š
    details: ä»¥ Markdown ä¸ºä¸­å¿ƒçš„é¡¹ç›®ç»“æ„ï¼Œä»¥æœ€å°‘çš„é…ç½®å¸®åŠ©ä½ ä¸“æ³¨äºå†™ä½œã€‚
  - title: Vue é©±åŠ¨
    details: äº«å— Vue çš„å¼€å‘ä½“éªŒï¼Œå¯ä»¥åœ¨ Markdown ä¸­ä½¿ç”¨ Vue ç»„ä»¶ï¼Œåˆå¯ä»¥ä½¿ç”¨ Vue æ¥å¼€å‘è‡ªå®šä¹‰ä¸»é¢˜ã€‚
  - title: é«˜æ€§èƒ½
    details: VuePress ä¼šä¸ºæ¯ä¸ªé¡µé¢é¢„æ¸²æŸ“ç”Ÿæˆé™æ€çš„ HTMLï¼ŒåŒæ—¶ï¼Œæ¯ä¸ªé¡µé¢è¢«åŠ è½½çš„æ—¶å€™ï¼Œå°†ä½œä¸º SPA è¿è¡Œã€‚
footer: powdered by vuepress and me
---
# é¢å¤–çš„ä¿¡æ¯



```

æˆ‘ä»¬åœ¨README.mdä¸­è¾“å…¥ä¸Šé¢çš„å†…å®¹ï¼Œé€šè¿‡titleé…ç½®ç½‘ç«™çš„æ ‡é¢˜ã€actionsé…ç½®å¿«æ·é“¾æ¥ã€featuresé…ç½®è¯¦æƒ…ä»‹ç»ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ‹¥æœ‰äº†ä¸‹é¢çš„é¦–é¡µæ ·å¼ï¼š

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/d8/ba/d8cd69f08b0932a670c74c80ef6699ba.png?wh=1920x1785)

ç„¶åæˆ‘ä»¬è¿›å…¥docs/.vuepress/ç›®å½•ä¸‹ï¼Œæ–°å»ºæ–‡ä»¶config.jsï¼Œè¿™æ˜¯è¿™ä¸ªç½‘ç«™çš„é…ç½®é¡µé¢ã€‚ä¸‹é¢çš„ä»£ç æˆ‘ä»¬é…ç½®äº†logoå’Œå¯¼èˆªnavbarï¼Œé¡µé¢é¡¶éƒ¨å³ä¾§å°±ä¼šæœ‰é¦–é¡µå’Œå®‰è£…ä¸¤ä¸ªå¯¼èˆªã€‚

```javascript
module.exports = {
  themeConfig:{
    title:"Element3",
    description:"vuepressæ­å»ºçš„Element3æ–‡æ¡£",
    logo:"/element3.svg",
    navbar:[
      {
        link:"/",
        text:"é¦–é¡µ"
      },{
        link:"/install",
        text:"å®‰è£…"
      },
    ]

  }
}
```

ç„¶åæˆ‘ä»¬åˆ›å»ºdocs/install.mdæ–‡ä»¶ï¼Œç‚¹å‡»é¡¶éƒ¨å¯¼èˆªä¹‹åï¼Œå°±ä¼šæ˜¾ç¤ºinstall.mdçš„ä¿¡æ¯ã€‚æˆ‘ä»¬åœ¨æ–‡ç¨¿ä¸­å°±å¯ä»¥ç›´æ¥å†™ä¸Šä»‹ç»Element3å¦‚ä½•å®‰è£…çš„æ–‡æ¡£äº†ï¼Œä¸‹é¢çš„æ–‡ç¨¿å°±æ˜¯Element3çš„å®‰è£…ä½¿ç”¨è¯´æ˜ã€‚

````markdown
## å®‰è£…
### npm å®‰è£…
æ¨èä½¿ç”¨ npm çš„æ–¹å¼å®‰è£…ï¼Œå®ƒèƒ½æ›´å¥½åœ°å’Œ [webpack](https://webpack.js.org/) æ‰“åŒ…å·¥å…·é…åˆä½¿ç”¨ã€‚
```shell
npm i element3 -S
```
### CDN
ç›®å‰å¯ä»¥é€šè¿‡ [unpkg.com/element3](https://unpkg.com/element3) è·å–åˆ°æœ€æ–°ç‰ˆæœ¬çš„èµ„æºï¼Œåœ¨é¡µé¢ä¸Šå¼•å…¥ js å’Œ css æ–‡ä»¶å³å¯å¼€å§‹ä½¿ç”¨ã€‚
```html
<!-- å¼•å…¥æ ·å¼ -->
<link
  rel="stylesheet"
  href="https://unpkg.com/element3/lib/theme-chalk/index.css"
/>
<!-- å¼•å…¥ç»„ä»¶åº“ -->
<script src="https://unpkg.com/element3"></script>
```
:::tip
æˆ‘ä»¬å»ºè®®ä½¿ç”¨ CDN å¼•å…¥ Element3 çš„ç”¨æˆ·åœ¨é“¾æ¥åœ°å€ä¸Šé”å®šç‰ˆæœ¬ï¼Œä»¥å…å°†æ¥ Element3 å‡çº§æ—¶å—åˆ°éå…¼å®¹æ€§æ›´æ–°çš„å½±å“ã€‚é”å®šç‰ˆæœ¬çš„æ–¹æ³•è¯·æŸ¥çœ‹ [unpkg.com](https://unpkg.com)ã€‚
:::
### Hello world

é€šè¿‡ CDN çš„æ–¹å¼æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨ Element3 å†™å‡ºä¸€ä¸ª Hello world é¡µé¢ã€‚[åœ¨çº¿æ¼”ç¤º](https://codepen.io/imjustaman/pen/abZajYg)

<iframe height="265" style="width: 100%;" scrolling="no" title="Element3 Demo" src="https://codepen.io/imjustaman/embed/abZajYg?height=265&theme-id=light&default-tab=html,result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/imjustaman/pen/abZajYg'>Element3 Demo</a> by ImJustAMan
  (<a href='https://codepen.io/imjustaman'>@imjustaman</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>
å¦‚æœæ˜¯é€šè¿‡ npm å®‰è£…ï¼Œå¹¶å¸Œæœ›é…åˆ webpack ä½¿ç”¨ï¼Œè¯·é˜…è¯»ä¸‹ä¸€èŠ‚ï¼š[å¿«é€Ÿä¸Šæ‰‹](/#/zh-CN/component/quickstart)ã€‚

````

ç„¶åæˆ‘ä»¬åœ¨æµè§ˆå™¨é‡Œç‚¹å‡»å®‰è£…åï¼Œå°±ä¼šçœ‹åˆ°ä¸‹å›¾çš„é¡µé¢æ˜¾ç¤ºã€‚Markdownå·²ç»æˆåŠŸæ¸²æŸ“ä¸ºåœ¨çº¿æ–‡æ¡£äº†ï¼Œå¹¶ä¸”ä»£ç ä¹Ÿè‡ªå¸¦äº†é«˜äº®æ˜¾ç¤ºã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/09/c3/09d16ddc1080b4d8d4b04b934bdyy3c3.png?wh=1920x1655)

ç„¶åæˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªæ–‡æ¡£ç³»ç»Ÿä¸­æ”¯æŒElement3ï¼Œé¦–å…ˆæ‰§è¡Œä¸‹é¢çš„ä»£ç å®‰è£…Element3ï¼š

```bash
npm i element3 -D
```

ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„docs/.vuepressæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ–‡ä»¶clientAppEnhance.jsï¼Œè¿™æ˜¯VuerPressçš„å®¢æˆ·ç«¯æ‰©å±•æ–‡ä»¶ã€‚æˆ‘ä»¬å¯¼å…¥äº†defineClientAppEnhanceæ¥è¿”å›å®¢æˆ·ç«¯çš„æ‰©å±•é…ç½®ã€‚è¿™ä¸ªå‡½æ•°ä¸­ä¼šä¼ é€’Vueçš„å®ä¾‹Appä»¥åŠè·¯ç”±é…ç½®Routerï¼Œæˆ‘ä»¬ä½¿ç”¨app.useæ¥å…¨å±€æ³¨å†ŒElement3ç»„ä»¶ï¼Œå°±å¯ä»¥ç›´æ¥åœ¨Markdownä¸­ä½¿ç”¨Element3çš„ç»„ä»¶äº†ã€‚

```javascript

import { defineClientAppEnhance } from '@vuepress/client'

import element3 from 'element3'

export default defineClientAppEnhance(({ app, router, siteData }) => {
  app.use(element3)
})
```

è¿™æ ·VuePresså°±å†…ç½®äº†Element3ã€‚æˆ‘ä»¬åœ¨docsä¸‹é¢æ–°å»ºbutton.mdæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥åœ¨Markdownä¸­ä½¿ç”¨Element3çš„ç»„ä»¶è¿›è¡Œæ¼”ç¤ºã€‚ä¸‹é¢çš„æ–‡ç¨¿ä¸­æˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº†el-buttonç»„ä»¶æ¼”ç¤ºæ•ˆæœã€‚

````markdown
## Button æŒ‰é’®

å¸¸ç”¨çš„æ“ä½œæŒ‰é’®ã€‚
### åŸºç¡€ç”¨æ³•
åŸºç¡€çš„æŒ‰é’®ç”¨æ³•ã€‚

<el-button type="primary">
æŒ‰é’®
</el-button>

```html
<el-button type="primary">
æŒ‰é’®
</el-button>
```
````

ç„¶åè¿›å…¥docs/.vuepress/config.jsä¸­ï¼Œæ–°å¢ä¾§è¾¹æ sidebarçš„é…ç½®ä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸‹å›¾çš„æ•ˆæœäº†ã€‚

```javascript
    sidebar:[
      {
        text:'å®‰è£…',
        link:'/install'
      },
      {
        text:'æŒ‰é’®',
        link:'/button'
      },
    ]
```

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/d2/6d/d267f5d33cc9652c145d737f8f4dc96d.png?wh=1920x846)

è¿™æ ·æˆ‘ä»¬å°±åŸºäºVuePressæ”¯æŒäº†Element3ç»„ä»¶åº“çš„æ–‡æ¡£åŠŸèƒ½ï¼Œå‰©ä¸‹çš„å°±æ˜¯ç»™æ¯ä¸ªç»„ä»¶å†™å¥½æ–‡æ¡£å³å¯ã€‚

ä½†æ˜¯è¿™æ ·çš„è¯ï¼Œel-buttonçš„æºç å°±å†™äº†ä¸¤æ¬¡ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ›´å¥½åœ°å®šåˆ¶ç»„ä»¶åº“æ–‡æ¡£ï¼Œå°±éœ€è¦è‡ªå·±è§£æMarkdownæ–‡ä»¶ï¼Œåœ¨å†…éƒ¨æ”¯æŒVueç»„ä»¶çš„æ•ˆæœæ˜¾ç¤ºå’Œæºç å±•ç¤ºï¼Œä¹Ÿå°±ç›¸å½“äºå®šåˆ¶äº†ä¸€ä¸ªè‡ªå·±çš„VuePressã€‚

````markdown
:::demo ä½¿ç”¨`type`ã€`plain`ã€`round`å’Œ`circle`å±æ€§æ¥å®šä¹‰ Button çš„æ ·å¼ã€‚

```html
<template>
  <el-row>
    <el-button>é»˜è®¤æŒ‰é’®</el-button>
    <el-button type="primary">ä¸»è¦æŒ‰é’®</el-button>
    <el-button type="success">æˆåŠŸæŒ‰é’®</el-button>
    <el-button type="info">ä¿¡æ¯æŒ‰é’®</el-button>
    <el-button type="warning">è­¦å‘ŠæŒ‰é’®</el-button>
    <el-button type="danger">å±é™©æŒ‰é’®</el-button>
  </el-row>
</template>
```

:::
````

å®ƒèƒ½ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„:::demoè¯­æ³•ï¼Œåœ¨æ ‡è®°å†…éƒ¨ä»£ç çš„åŒæ—¶ï¼Œæ˜¾ç¤ºæ¸²æŸ“æ•ˆæœå’Œæºç ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾Element3å®˜ç½‘çš„æ¸²æŸ“æ•ˆæœã€‚

![å›¾ç‰‡](https://static001.geekbang.org/resource/image/85/c6/85c611ff85c7d69773e41c546f4eb3c6.png?wh=1920x1462)

é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±çœ‹çœ‹å¦‚ä½•å®šåˆ¶ï¼Œå…·ä½“æ“ä½œä¸€ä¸‹ã€‚

## è§£æMarkdown

æˆ‘ä»¬éœ€è¦è‡ªå·±å®ç°ä¸€ä¸ªMarkdown-loaderï¼Œå¯¹Markdownè¯­æ³•è¿›è¡Œæ‰©å±•ã€‚

Element3ä¸­ä½¿ç”¨Markdown-itè¿›è¡ŒMarkdownè¯­æ³•çš„è§£æå’Œæ‰©å±•ã€‚Markdown-itå¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥æŠŠMarkdownè¯­æ³•è§£æä¸ºHTMLæ ‡ç­¾ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯è§£æå‡ºMarkdownä¸­çš„demoè¯­æ³•ï¼Œæ¸²æŸ“å…¶ä¸­çš„Vueç»„ä»¶ï¼Œå¹¶ä¸”åŒæ—¶èƒ½æŠŠæºç ä¹Ÿæ˜¾ç¤ºåœ¨ç»„ä»¶ä¸‹æ–¹ï¼Œè¿™æ ·å°±å®Œæˆäº†æ‰©å±•ä»»åŠ¡ã€‚

Element3ä¸­å¯¹Markdownçš„æ‰©å±•æºç éƒ½å¯ä»¥åœ¨[GitHub](https://github.com/hug-sun/element3/tree/master/packages/md-loader/src)ä¸Šçœ‹åˆ°ã€‚

ä¸‹é¢çš„ä»£ç å°±æ˜¯å…¨éƒ¨è§£æçš„é€»è¾‘ï¼šé¦–å…ˆæˆ‘ä»¬ä½¿ç”¨md.renderæŠŠMarkdownæ¸²æŸ“æˆä¸ºHTMLï¼Œå¹¶ä¸”è·å–å†…éƒ¨demoå­ç»„ä»¶ï¼›åœ¨è·å–äº†demoç»„ä»¶å†…éƒ¨çš„ä»£ç ä¹‹åï¼Œè°ƒç”¨genInlineComponentTextï¼ŒæŠŠç»„ä»¶é€šè¿‡Vueçš„compilerè§£ææˆå¾…æ‰§è¡Œçš„ä»£ç ï¼Œè¿™ä¸€æ­¥å°±æ˜¯æ¨¡æ‹Ÿäº†Vueç»„ä»¶è§£æçš„è¿‡ç¨‹ï¼›ç„¶åä½¿ç”¨scriptæ ‡ç­¾åŒ…è£¹ç¼–è¯‘ä¹‹åçš„Vueç»„ä»¶ï¼›æœ€åå†æŠŠç»„ä»¶çš„æºç æ”¾åœ¨åé¢ï¼Œdemoç»„ä»¶çš„è§£æå°±å®Œæˆäº†ã€‚

```javascript
const { stripScript, stripTemplate, genInlineComponentText } = require('./util')
	const md = require('./config')
	
	module.exports = function (source) {
	  const content = md.render(source)
	
	  const startTag = '<!--element-demo:'
	  const startTagLen = startTag.length
	  const endTag = ':element-demo-->'
	  const endTagLen = endTag.length
	
	  let componenetsString = ''
	  let id = 0 // demo çš„ id
	  const output = [] // è¾“å‡ºçš„å†…å®¹
	  let start = 0 // å­—ç¬¦ä¸²å¼€å§‹ä½ç½®
	
	  let commentStart = content.indexOf(startTag)
	  let commentEnd = content.indexOf(endTag, commentStart + startTagLen)
	  while (commentStart !== -1 && commentEnd !== -1) {
	    output.push(content.slice(start, commentStart))
	
	    const commentContent = content.slice(commentStart + startTagLen, commentEnd)
	    const html = stripTemplate(commentContent)
	    const script = stripScript(commentContent)
	
	    const demoComponentContent = genInlineComponentText(html, script)
	
	    const demoComponentName = `element-demo${id}`
	    output.push(`<template #source><${demoComponentName} /></template>`)
	    componenetsString += `${JSON.stringify(
	      demoComponentName
	    )}: ${demoComponentContent},`
	
	    // é‡æ–°è®¡ç®—ä¸‹ä¸€æ¬¡çš„ä½ç½®
	    id++
	    start = commentEnd + endTagLen
	    commentStart = content.indexOf(startTag, start)
	    commentEnd = content.indexOf(endTag, commentStart + startTagLen)
	  }
	
	  // ä»…å…è®¸åœ¨ demo ä¸å­˜åœ¨æ—¶ï¼Œæ‰å¯ä»¥åœ¨ Markdown ä¸­å†™ script æ ‡ç­¾
	  // todo: ä¼˜åŒ–è¿™æ®µé€»è¾‘
	  let pageScript = ''
	  if (componenetsString) {
	    pageScript = `<script>
	      import hljs from 'highlight.js'
	      import * as Vue from "vue"
	      export default {
	        name: 'component-doc',
	        components: {
	          ${componenetsString}
	        }
	      }
	    </script>`
	  } else if (content.indexOf('<script>') === 0) {
	    // ç¡¬ç¼–ç ï¼Œæœ‰å¾…æ”¹å–„
	    start = content.indexOf('</script>') + '</script>'.length
	    pageScript = content.slice(0, start)
	  }
	
	  output.push(content.slice(start))
	  return `
	    <template>
	      <section class="content element-doc">
	        ${output.join('')}
	      </section>
	    </template>
	    ${pageScript}
	  `
	}
```

ç„¶åæˆ‘ä»¬è¿˜è¦æŠŠæ¸²æŸ“å‡ºæ¥çš„Vueç»„ä»¶æ•´ä½“å°è£…æˆä¸ºdemo-blockç»„ä»¶ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ‰©å±•Markdownçš„renderå‡½æ•°ï¼Œå†…éƒ¨ä½¿ç”¨demo-blockç»„ä»¶ï¼ŒæŠŠMarkdownæ¸²æŸ“çš„ç»“æœæ¸²æŸ“åœ¨æµè§ˆå™¨ä¸Šã€‚

```javascript
const mdContainer = require('markdown-it-container')

module.exports = (md) => {
  md.use(mdContainer, 'demo', {
    validate(params) {
      return params.trim().match(/^demo\s*(.*)$/)
    },
    render(tokens, idx) {
      const m = tokens[idx].info.trim().match(/^demo\s*(.*)$/)
      if (tokens[idx].nesting === 1) {
        const description = m && m.length > 1 ? m[1] : ''
        const content =
          tokens[idx + 1].type === 'fence' ? tokens[idx + 1].content : ''
        return `<demo-block>
        ${description ? `<div>${md.render(description)}</div>` : ''}
        <!--element-demo: ${content}:element-demo-->
        `
      }
      return '</demo-block>'
    }
  })

  md.use(mdContainer, 'tip')
  md.use(mdContainer, 'warning')
}

```

ç„¶åæˆ‘ä»¬å°±å®ç°äº†demo-blockç»„ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ–°å»ºDemoBlock.vueï¼Œåœ¨ä¸‹é¢çš„ä»£ç ä¸­æˆ‘ä»¬é€šè¿‡slotå®ç°äº†ç»„ä»¶çš„æ¸²æŸ“ç»“æœå’Œæºç é«˜äº®çš„æ•ˆæœï¼Œè‡³æ­¤æˆ‘ä»¬å°±æˆåŠŸäº†å®ç°äº†Markdownä¸­æºç æ¼”ç¤ºçš„æ•ˆæœã€‚

```javascript
<!-- DemoBlock.vue -->
<template>
Â  <div class="demo-block">
Â  Â  <div class="source">
Â  Â  Â  <slot name="source"></slot>
Â  Â  </div>
Â  Â  <div class="meta" ref="meta">
Â  Â  Â  <div class="description" v-if="$slots.default">
Â  Â  Â  Â  <slot></slot>
Â  Â  Â  </div>
Â  Â  Â  <div class="highlight">
Â  Â  Â  Â  <slot name="highlight"></slot>
Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <div
Â  Â  Â  class="demo-block-control"
Â  Â  Â  ref="control"
Â  Â  Â  @click="isExpanded = !isExpanded"
Â  Â  >
Â  Â  Â  <span>{{ controlText }}</span>
Â  Â  </div>
Â  </div>
</template>

<script>
import { ref, computed, watchEffect, onMounted } from 'vue'
export default {
Â  setup() {
Â  Â  const meta = ref(null)
Â  Â  const isExpanded = ref(false)
Â  Â  const controlText = computed(() =>
Â  Â  Â  isExpanded.value ? 'éšè—ä»£ç ' : 'æ˜¾ç¤ºä»£ç '
Â  Â  )
Â  Â  const codeAreaHeight = computed(() =>
Â  Â  Â  [...meta.value.children].reduce((t, i) => i.offsetHeight + t, 56)
Â  Â  )
Â  Â  onMounted(() => {
Â  Â  Â  watchEffect(() => {
Â  Â  Â  Â  meta.value.style.height = isExpanded.value
Â  Â  Â  Â  Â  ? `${codeAreaHeight.value}px`
Â  Â  Â  Â  Â  : '0'
Â  Â  Â  })
Â  Â  })

Â  Â  return {
Â  Â  Â  meta,
Â  Â  Â  isExpanded,
Â  Â  Â  controlText
Â  Â  }
Â  }
}
</script>
```

## æ€»ç»“

æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ä»Šå¤©å­¦åˆ°çš„å†…å®¹ã€‚

é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨Vueå®˜ç½‘æ–‡æ¡£çš„æ„å»ºå·¥å…·VuePressæ¥æ­å»ºç»„ä»¶åº“æ–‡æ¡£ï¼ŒVuePressæä¾›äº†å¾ˆå¥½çš„ä¸Šæ‰‹ä½“éªŒï¼ŒMarkdownä¸­å¯ä»¥ç›´æ¥æ³¨å†Œä½¿ç”¨Vueç»„ä»¶ï¼Œæˆ‘ä»¬åœ¨.vuepressä¸­å¯ä»¥æ‰©å±•å¯¹Element3çš„æ”¯æŒã€‚

å¦‚æœæˆ‘ä»¬å®šåˆ¶éœ€æ±‚æ›´å¤šä¸€äº›ï¼Œå°±éœ€è¦è‡ªå·±è§£æMarkdownå¹¶ä¸”å®ç°å¯¹Vueç»„ä»¶çš„æ”¯æŒäº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Markdown-itæ’ä»¶è§£æï¼Œæ”¯æŒVueç»„ä»¶å’Œä»£ç é«˜äº®ï¼Œè¿™ä¹Ÿæ˜¯ç°åœ¨Element3æ–‡æ¡£çš„æ¸²æŸ“æ–¹å¼ã€‚

## æ€è€ƒé¢˜

æœ€åç•™ç»™ä½ ä¸€é“æ€è€ƒé¢˜ï¼šç°åœ¨å¾ˆå¤šç»„ä»¶åº“å¼€å§‹å°è¯•ä½¿ç”¨Storybookæ¥æ­å»ºç»„ä»¶åº“çš„æ–‡æ¡£ï¼Œé‚£ä¹ˆè¿™ä¸ªStorybookç›¸æ¯”äºæˆ‘ä»¬å®ç°çš„æ–‡æ¡£æœ‰ä»€ä¹ˆç‰¹è‰²å‘¢ï¼Ÿ

æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„çœ‹æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾çš„å†…å®¹åˆ†äº«ç»™ä½ çš„åŒäº‹å’Œæœ‹å‹ä»¬ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ï¼
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ6ï¼‰</strong></div><ul>
<li><span>Geek_e1b932</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>vuepresså’Œvitepressç”¨å“ªä¸ªå¥½ï¼Ÿ</p>2022-01-08</li><br/><li><span>DOKE</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<p>æ²¡çœ‹æ‡‚è¿™ä¸ªMarkdown-loaderçš„ä»£ç æ˜¯æ”¾åœ¨å“ªæ‰§è¡Œçš„ï¼Ÿæ•´ä¸ªæºç æœ‰ä¹ˆï¼Ÿ</p>2022-01-03</li><br/><li><span>NULL</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>fjaklhfleh hfajfhll aofruoawprj ngf akfakl kdnanz nahfjaI*&amp; aruq389 je2</p>2023-12-24</li><br/><li><span>Mr_shaojun</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>ç”¨è¿‡ä¸€æ¬¡Storybookï¼Œå¥½åƒå¹¶æ²¡æœ‰éœ€è¦å†™ä¸¤éæºç çš„æƒ…å†µï¼Œä½¿ç”¨ä¹ŸæŒºæ–¹ä¾¿çš„ã€‚vuepressæ²¡æœ‰ç”¨è¿‡ï¼Œä½†æ˜¯æ„Ÿè§‰vuepressçµæ´»æ€§ä¼šæ¯”è¾ƒé«˜</p>2022-12-14</li><br/><li><span>ã€è½»</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>è¿™ç§æ–‡æ¡£æ–¹å¼å‰å®³äº†</p>2022-03-24</li><br/><li><span>æˆ‘æ‰§</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>Storybook é»˜è®¤ç”Ÿäº§çš„æ–‡æ¡£ å¯ä»¥ç›´æ¥äº¤äº’ä¿®æ”¹ç»„ä»¶å±æ€§ã€‚ æ‰©å±•ä¹Ÿå¾ˆä¸°å¯Œã€‚ å„å®¶ç”Ÿæ€éƒ½æ”¯æŒ</p>2022-03-20</li><br/>
</ul>