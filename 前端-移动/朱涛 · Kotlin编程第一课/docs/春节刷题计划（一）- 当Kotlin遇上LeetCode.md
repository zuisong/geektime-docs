ä½ å¥½ï¼Œæˆ‘æ˜¯æœ±æ¶›ã€‚

æ—¶å…‰é£é€ï¼Œä¸çŸ¥ä¸è§‰é—´ï¼Œæˆ‘ä»¬å°±å·²ç»å®Œæˆäº†åŸºç¡€ç¯‡çš„å­¦ä¹ ï¼Œå¹¶ä¸”ä¹Ÿå·²ç»å®Œæˆäº†ä¸‰ä¸ªå®æˆ˜é¡¹ç›®ï¼Œä½†è¿™ç»ˆå½’æ˜¯ä¸å¤Ÿè¿‡ç˜¾çš„ã€‚æƒ³è¦å®Œå…¨æŒæ¡Kotlinçš„åŸºç¡€è¯­æ³•ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ›´å¤šçš„ç»ƒä¹ ã€‚æˆ‘ç›¸ä¿¡ï¼Œä½ ç°åœ¨çš„å¿ƒæƒ…å°±åƒæ˜¯ä¸€ä¸ªæ‰‹æ¡å± é¾™åˆ€çš„å‹‡å£«ï¼Œçƒ­åˆ‡å¸Œæœ›æ‰¾ä¸€äº›å¯¹æ‰‹æ¥éªŒè¯è‡ªå·±çš„å­¦ä¹ æˆæœã€‚

å…¶å®ï¼Œæˆ‘è‡ªå·±åœ¨å­¦ä¹ ä¸€é—¨æ–°çš„ç¼–ç¨‹è¯­è¨€çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªé«˜æ•ˆçš„æ–¹æ³•ï¼Œä¹Ÿåˆ†äº«ç»™ä½ ã€‚è¿™é‡Œæˆ‘ä»¥Kotlinä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ç°åœ¨æ˜¯ä¸€ä¸ªæ–°æ‰‹ï¼Œæƒ³å¿«é€ŸæŒæ¡Kotlinçš„è¯ï¼Œæˆ‘ä¼šè¿™æ ·åšï¼š

- ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä¼š**å»Googleæœç´¢ä¸€äº›è¯­è¨€ç‰¹æ€§å¯¹æ¯”çš„æ–‡ç« **ã€‚æ¯”å¦‚ï¼Œæˆ‘ç†Ÿæ‚‰Javaï¼Œæƒ³å­¦Kotlinï¼Œæˆ‘å°±ä¼šå»æœâ€œfrom Java to Kotlinâ€ï¼Œç„¶åå»çœ‹ä¸€äº›Javaã€Kotlinè¯­æ³•å¯¹æ¯”çš„æ–‡ç« ã€‚è¿™æ—¶å€™ï¼Œæˆ‘å¤§è„‘é‡Œå°±ä¼šå»ºç«‹èµ·Javaä¸Kotlinçš„è¯­æ³•è”ç³»ã€‚
- ç¬¬äºŒæ­¥ï¼Œæˆ‘ä¼šæ‰“å¼€[Kotlinå®˜æ–¹æ–‡æ¡£](https://kotlinlang.org/docs/basic-syntax.html)ï¼ŒèŠ±å‡ ä¸ªå°æ—¶çš„æ—¶é—´ç²—ç•¥çœ‹ä¸€éï¼Œå¯¹Kotlinçš„è¯­æ³•æœ‰ä¸ªå¤§è‡´å°è±¡ã€‚
- æœ€åä¸€æ­¥ï¼Œæˆ‘ä¼š**æ‰“å¼€LeetCodeä¹‹ç±»çš„ç½‘ç«™**ï¼Œå¼€å§‹ç”¨Kotlinåˆ·é¢˜ã€‚åœ¨åˆ·é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿä¼šå…ˆä»æ¨¡æ‹Ÿç±»çš„é¢˜ç›®å¼€å§‹ï¼Œä¹‹åå†åˆ°æ•°ç»„ã€é“¾è¡¨ã€Mapã€äºŒå‰æ ‘ä¹‹ç±»çš„æ•°æ®ç»“æ„ã€‚æ•´ä¸ªè¿‡ç¨‹ç”±æ˜“åˆ°éš¾ï¼Œåˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä¼šé€‰æ‹©â€œç®€å•é¢˜â€ï¼Œç­‰ç†Ÿç»ƒä»¥åï¼Œå†é€‰æ‹©â€œä¸­ç­‰é¢˜â€ï¼Œå¿ƒæƒ…å¥½çš„æ—¶å€™ï¼Œæˆ‘å¶å°”ä¼šåšä¸ªâ€œå›°éš¾é¢˜â€æŒ‘æˆ˜ä¸€ä¸‹ã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ10ï¼‰</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/f9/c5/95b97dfa.jpg" width="30px"><span>éƒ‘å³°</span> ğŸ‘ï¼ˆ5ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>```Kotlin
fun compareVersion(version1: String, version2: String): Int {
  val v1 = version1.split(&quot;.&quot;).map { it.toInt() }
  val v2 = version2.split(&quot;.&quot;).map { it.toInt() }

  for (i in 0 until maxOf(v1.size, v2.size)) {
    val diff = (v1.getOrElse(i) { 0 } - v2.getOrElse(i) { 0 })
    if (diff != 0) return if (diff &gt; 0) 1 else -1
  }
  return 0;
}

```</div>2022-01-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/71/c1/cbc55e06.jpg" width="30px"><span>ç™½ä¹¾æ¶›</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ2ï¼‰<div>æˆ‘çŸ¥é“ä¸ºå•¥æ‰¾ä¸åˆ° maxBy äº†ï¼Œä¼°è®¡æ˜¯å› ä¸ºè¿™ä¸ªæ–¹æ³•åœ¨ 1.6 ç‰ˆæœ¬ä¸­éšè—äº†

@DeprecatedSinceKotlin(warningSince = &quot;1.4&quot;, errorSince = &quot;1.5&quot;, hiddenSince = &quot;1.6&quot;)
public inline fun &lt;T, R : Comparable&lt;R&gt;&gt; Sequence&lt;T&gt;.maxBy(selector: (T) -&gt; R): T? {
    return maxByOrNull(selector)
}</div>2022-03-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/e5/e1/a5064f88.jpg" width="30px"><span>Geek_Adr</span> ğŸ‘ï¼ˆ2ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>&#47;&#47; æˆ‘èƒ½æ‰¾åˆ°çš„æœ€å¤§ç¨‹åº¦çš„å‡½æ•°å¼
    fun compareVersion(version1: String, version2: String): Int {
        return (version1.split(&quot;.&quot;).map { it.toInt() }
                to version2.split(&quot;.&quot;).map { it.toInt() })
            .run {
                (0 until maxOf(first.size, second.size))
                    .fold(0) { acc, i -&gt;
                        if (acc != 0) acc
                        else first.getOrElse(i) { 0 }.compareTo(second.getOrElse(i) { 0 })
                    }
            }
    }
</div>2022-02-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg" width="30px"><span>æ¢ä¸­å</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>
fun mostCommonWord1(paragraph: String, banned: Array&lt;String&gt;) =
            paragraph.toLowerCase()
                .replace(&quot;[^a-zA-Z ]&quot;.toRegex(), &quot; &quot;)
                .split(&quot;\\s+&quot;.toRegex())
                .filter { it !in banned.toSet() }
                .groupBy { it }
                .mapValues { it.value.size }
               &#47;&#47; .maxBy { it.value }  &#47;&#47;è¿™é‡Œç¼–è¯‘ä¸è¿‡ï¼Œæˆ‘æ”¹äº†ä¸‹
               &#47;&#47; ?.key?:throw IllegalArgumentException()
             .toList()   &#47;&#47;å…ˆè½¬æˆListæ‰èƒ½ç”¨MaxBy
            .maxByOrNull { it.second }</div>2022-03-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/07/6d/4c1909be.jpg" width="30px"><span>PoPlus</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ¶›å“¥ï¼Œæ ¡æ‹›ç”Ÿè¿˜æ¨èç”¨ kotlin æ¥å†™ç®—æ³•å—ï¼Œæ„Ÿè§‰æœ‰äº›ç®€åŒ–çš„å¤ªè¿‡äº† ğŸ˜…</div>2022-03-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/e5/e1/a5064f88.jpg" width="30px"><span>Geek_Adr</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>&#47;&#47; å‡½æ•°å¼ 176ms å‡»è´¥19%
    fun compareVersion(version1: String, version2: String): Int {
        return (version1.split(&quot;.&quot;).map { it.toInt() }
                to version2.split(&quot;.&quot;).map { it.toInt() })
            .run {
                (0 until max(first.size, second.size))
                    .fold(0) { acc, i -&gt;
                        if (acc != 0) acc 
                        else first.getOrElse(i) { 0 } - second.getOrElse(i) { 0 }
                    }
            }.let {
                when {
                    it &gt; 0 -&gt; 1
                    it &lt; 0 -&gt; -1
                    else -&gt; 0
                }
            }
    }

&#47;&#47; java  156ms å‡»è´¥70%
    fun compareVersion(version1: String, version2: String): Int {
        val v1 = version1.split(&quot;.&quot;).map { it.toInt() }
        val v2 = version2.split(&quot;.&quot;).map { it.toInt() }
        var idx = 0
        while (idx &lt; v1.size &amp;&amp; idx &lt; v2.size) {
            if (v1[idx] &gt; v2[idx]) {
                return 1
            } else if (v1[idx] &lt; v2[idx]) {
                return -1
            }
            idx++
        }
        while (idx &lt; v1.size) {
            if (v1[idx++] &gt; 0) {
                return 1
            }
        }
        while (idx &lt; v2.size) {
            if (v2[idx++] &gt; 0) {
                return -1
            }
        }
        return 0
    }

</div>2022-02-07</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Urc67zDC8R6dh9U1ZFTF36icXewM1seehvOUYUs4hyWSsFzS5WQc2RcrE1Mzs8qtgib5SM5wFrVh22QcQd0JUUBw/132" width="30px"><span>jim</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ˜¥èŠ‚è¿˜æ›´æ–°å—ï¼Ÿ</div>2022-01-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2c/01/50/c1556a25.jpg" width="30px"><span>çˆ±å­¦ä¹ çš„å°ç¾Š</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æˆ‘è¿™ä¸ªç®—æ˜¯åŠjavaåŠkotlinç¼–ç¨‹äº†å§
fun compareVersion(version1: String, version2: String): Int {
        val nums1 = version1.split(&quot;.&quot;)
        val nums2 = version2.split(&quot;.&quot;)
        for (i in 0..maxOf(nums1.size,nums2.size)){
            var a = 0
            var b = 0
            if (i &lt; nums1.size) a = nums1[i].toInt()
            if (i&lt;nums2.size) b = nums2[i].toInt()
            val data = a - b
            when {
                data &gt; 0 -&gt; return 1
                data &lt; 0 -&gt; return -1
            }

        }
        return 0
    }</div>2022-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/f0/20/54253ab7.jpg" width="30px"><span>æµ…è‰²çš„é£</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>æ˜¯ä¸æ˜¯javaæ€ç»´
fun compareVersion(version1: String, version2: String): Int {
        val listV1 = version1.split(&quot;.&quot;).toList()
        val listV2 = version2.split(&quot;.&quot;).toList()

        val result = if (listV1.size &gt; listV2.size) 1 else -1

        val maxList = if (listV1.size &gt; listV2.size) listV1 else listV2
        val minList = if (listV1.size &lt;= listV2.size) listV1 else listV2

        for(i in 0..minList.size - 1){
            if(listV1[i].toInt() &gt; listV2[i].toInt()){
                return 1
            }else if(listV1[i].toInt() &lt; listV2[i].toInt()){
                return -1
            }
        }

        for(j in minList.size..maxList.size - 1){
            if(maxList[j].toInt() &gt; 0){
                return result
            }
        }

        return 0

    }</div>2022-03-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/c7/5c/94cb3a1a.jpg" width="30px"><span>$Kotlin</span> ğŸ‘ï¼ˆ0ï¼‰ ğŸ’¬ï¼ˆ1ï¼‰<div>    fun compareVersion(version1: String, version2: String): Int {
        val versionList1 = version1.split(&quot;.&quot;).toMutableList()
        val versionList2 = version2.split(&quot;.&quot;).toMutableList()
        if (versionList1.size &gt; versionList2.size) {
            repeat(versionList1.size - versionList2.size) {
                versionList2.add(&quot;0&quot;)
            }
        } else {
            repeat(versionList2.size - versionList1.size) {
                versionList1.add(&quot;0&quot;)
            }
        }
        for (index in 0..versionList1.size-1) {
            val v1Int = versionList1[index].toInt()
            val v2Int = versionList2[index].toInt()
            if (v1Int &gt; v2Int) {
                return 1
            } else if (v1Int &lt; v2Int) {
                return -1
            }
        }
        return 0
    }</div>2022-01-28</li><br/>
</ul>