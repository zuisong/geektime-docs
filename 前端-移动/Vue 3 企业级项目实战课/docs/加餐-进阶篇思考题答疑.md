ä½ å¥½ï¼Œæˆ‘æ˜¯æ¨æ–‡åšã€‚

åœ¨è¿›é˜¶ç¯‡ä¸­ï¼Œæˆ‘ä»¬ç€æ‰‹æ‰“é€ è‡ªå·±çš„Vue.js 3.xè‡ªç ”ç»„ä»¶åº“ï¼Œåˆ†åˆ«å¼€å‘äº†ä¸»é¢˜æ–¹æ¡ˆã€åŸºç¡€ç»„ä»¶æ¯”å¦‚æŒ‰é’®ç»„ä»¶ã€åŠ¨æ€æ¸²æŸ“ç»„ä»¶ã€å¸ƒå±€ç»„ä»¶ã€è¡¨å•ç»„ä»¶ï¼Œä¸ºæˆ‘ä»¬å¼€å‘ä¸šåŠ¡ç»„ä»¶åº“å’Œæ‰“é€ ä¸€ä¸ªè¿è¥æ­å»ºå¹³å°æ‰“å¥½åŸºç¡€ã€‚

æœ€åï¼Œå‡ºäºç»„ä»¶åº“ä»£ç çš„â€œç¨³å®šæ€§â€å’Œâ€œå¥å£®æ€§â€è€ƒè™‘ï¼Œæˆ‘ä»¬åŸºäºVitestï¼Œå®ç°äº†Vue.js 3.xç»„ä»¶åº“çš„å•å…ƒæµ‹è¯•ã€‚

ä»Šå¤©æˆ‘ä»¬ä¼šå¯¹è¿›é˜¶ç¯‡åšä¸€æ¬¡ç»Ÿä¸€çš„ç­”ç–‘ï¼Œå¦‚æœè¿˜æœ‰ç–‘é—®ï¼Œä¹Ÿæ¬¢è¿ä½ ç•™è¨€ã€‚

### 08

è¯¾ç¨‹ï¼š[08 ä»é›¶æ­å»ºè‡ªç ”çš„ Vue ç»„ä»¶åº“](https://time.geekbang.org/column/article/605412)

æé—®ï¼šç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½å®ç°æ–¹å¼ï¼Œè¿˜æœ‰å…¶å®ƒçš„æ–¹æ¡ˆå—ï¼Ÿ

æœ‰å…¶å®ƒæ–¹æ¡ˆçš„ã€‚æ€è€ƒè¿™ä¸ªé—®é¢˜ï¼Œè¦ç†æ¸…æ¥šä¸€ç‚¹ï¼Œè¿™é‡Œçš„â€œæŒ‰éœ€åŠ è½½â€æŒ‡çš„æ˜¯ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®å®é™…é¡¹ç›®â€œimportâ€çš„ç»„ä»¶ï¼Œè¿›è¡Œç‹¬ç«‹JavaScriptæ–‡ä»¶åŠ è½½ï¼Œæ²¡æœ‰â€œimportâ€åˆ°çš„ç»„ä»¶å°±ä¸åŠ è½½ã€‚

é‚£ä¹ˆåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨JavaScriptä»£ç çš„è¯­æ³•æ ‘ï¼ˆASTï¼‰ä¸Šåšå¤„ç†ï¼ŒAnt Designå›¢é˜Ÿå°±å¼€å‘äº†ä¸€ä¸ªbabelæ’ä»¶ï¼Œå«â€œbabel-plugin-importâ€ï¼Œå¯ä»¥æ ¹æ®å®é™…ç»„ä»¶åº“çš„æ„å»ºç»“æœæ–‡ä»¶çš„ç›®å½•ç»“æ„ï¼Œè¿›è¡Œè‡ªå®šä¹‰çš„é…ç½®ç»„ä»¶çš„æŒ‰éœ€åŠ è½½ï¼Œå…·ä½“æ’ä»¶npmé“¾æ¥åœ¨è¿™é‡Œï¼š[https://www.npmjs.com/package/babel-plugin-import](https://www.npmjs.com/package/babel-plugin-import) ã€‚

### 09

è¯¾ç¨‹ï¼š[09 è®¾è®¡ç»„ä»¶åº“çš„ä¸»é¢˜æ–¹æ¡ˆå’ŒåŸºç¡€ç»„ä»¶](https://time.geekbang.org/column/article/605414)

æé—®ï¼šä¸ºä»€ä¹ˆä¸»é¢˜æ§åˆ¶åªè€ƒè™‘é¢œè‰²ï¼Œä¸è€ƒè™‘ç»„ä»¶çš„å°ºå¯¸çš„å½¢çŠ¶æ§åˆ¶å‘¢ï¼Ÿ

å› ä¸ºä¸»é¢˜çš„å½±å“æ˜¯å…¨å±€æ€§çš„ï¼Œæ‰€æœ‰ç”¨åˆ°è¯¥ä¸»é¢˜å°ºå¯¸é…ç½®çš„ç»„ä»¶ï¼Œéƒ½ä¼šå—åˆ°å½±å“ã€‚å¦‚æœç»„ä»¶çš„å°ºå¯¸ï¼ˆä¾‹å¦‚é«˜åº¦ã€å®½åº¦ç­‰ï¼‰å¯ä»¥è¢«ä¸»é¢˜å…¨å±€åŒ–è‡ªå®šä¹‰æ§åˆ¶ï¼Œé‚£ä¹ˆå°±ä¼šå¸¦æ¥å¸ƒå±€çš„å˜åŒ–ã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œç°åœ¨ï¼Œæœ‰ä¸ªæ ‡é¢˜ç»„ä»¶å›ºå®šå°ºå¯¸å¤§å°æ˜¾ç¤ºï¼Œè¢«å…¨å±€çš„é…ç½®è‡ªå®šä¹‰ä¿®æ”¹å¢åŠ äº†é«˜åº¦ï¼Œé‚£ä¹ˆæ•´ä¸ªæ ‡é¢˜ç»„ä»¶æ‰€åœ¨çš„çˆ¶ç»„ä»¶å¯èƒ½ä¼šè¢«â€œæ’‘å¼€â€ï¼Œé«˜åº¦å¯èƒ½ä¼šâ€œæº¢å‡ºâ€ï¼Œå¸¦æ¥ä¸å¯é¢„æµ‹çš„é—®é¢˜ã€‚

è¿™é‡Œâ€œå°ºå¯¸ä¸å…è®¸è‡ªå®šä¹‰â€åªæ˜¯ç›¸å¯¹çš„é™åˆ¶ï¼Œå¦‚æœè¦é’ˆå¯¹æŸä¸ªç»„ä»¶çš„å°ºå¯¸åšè‡ªå®šä¹‰é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡è¿™ä¸ªç»„ä»¶çš„Propsæˆ–è€…å…¶å®ƒAPIï¼Œæ¥æä¾›å•ç‹¬ç»„ä»¶çš„å°ºå¯¸è‡ªå®šä¹‰ä¿®æ”¹ã€‚

### 10

è¯¾ç¨‹ï¼š[10 å®ç° Vue çš„åŠ¨æ€æ¸²æŸ“ç»„ä»¶](https://time.geekbang.org/column/article/607039)

æé—®ï¼šVue.js 3.x åŠ¨æ€æ¸²æŸ“ç»„ä»¶æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„Vue.jsåº”ç”¨æ¥æ¸²æŸ“ç»„ä»¶çš„ï¼Œè·Ÿé¡µé¢åŸæœ‰çš„Vue.jsåº”ç”¨æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆå¦‚ä½•å®ç°è¿™ä¸¤ä¸ªVue.js åº”ç”¨çš„æ•°æ®é€šä¿¡å‘¢ï¼Ÿ

å¯ä»¥é€šè¿‡â€œäº‹ä»¶è®¢é˜…å’Œå‘å¸ƒâ€çš„æ–¹å¼æ¥è¿›è¡Œç»„ä»¶ä¹‹é—´çš„äº’ç›¸é€šä¿¡ã€‚å…·ä½“å®ç°æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼š

- ç¬¬ä¸€æ­¥ï¼Œå®ç°ä¸€ä¸ªäº‹ä»¶è®¢é˜…å’Œå‘å¸ƒçš„ç±» EventEmitterã€‚è¿™ä¸ªå…·ä½“ä»£ç å®ç°ç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œä½ å¯ä»¥è‡ªè¡Œæœç´¢ã€‚å…¨å±€å…±ç”¨ä¸€ä¸ªEventEmitteråˆ›å»ºå‡ºæ¥çš„å¯¹è±¡eventHubï¼›
- ç¬¬äºŒæ­¥ï¼Œåœ¨ç»„ä»¶Aé‡Œç”¨eventHubæ³¨å†Œä¸€ä¸ªäº‹ä»¶â€œcallAâ€ï¼›
- ç¬¬ä¸‰æ­¥ï¼Œåœ¨ç»„ä»¶Bé‡Œçš„æŸä¸ªæ“ä½œé‡Œï¼Œç”¨eventHubè§¦å‘â€œcallAâ€çš„äº‹ä»¶ï¼Œæ¥è¿›è¡Œå¯¹Aç»„ä»¶çš„é€šä¿¡ã€‚

ä¼ªä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

```typescript
import EventEmitter from "./xxx/xxx/EventEmitter"
const eventHub = new EventEmitter();

const A = function() {
  // æ³¨å†Œå…¨å±€çš„äº‹ä»¶
  eventHub.on("callA", (data) => {
    console.log("Aç»„ä»¶è¢«è§¦å‘äº‹ä»¶äº†ï¼Œæ¥æ”¶åˆ°æ•°æ®", data)
  })
  
  // ...
}

const B = function() {
  // ...
  return {
    connectA() {
      // è§¦å‘äº‹ä»¶ "callA" å»è·ŸAç»„ä»¶é€šä¿¡
      // å¹¶ä¼ å…¥æ•°æ®  { abc: 123 }
      eventHub.trigger("callA", { abc: 123 })
    }
  }
}

const b = B();
// è·ŸAç»„ä»¶é€šä¿¡
b.connectA();
```

### 11

è¯¾ç¨‹ï¼š[11 å®ç°è‡ªç ”ç»„ä»¶åº“çš„å¸ƒå±€æ–¹æ¡ˆ](https://time.geekbang.org/column/article/607308)

æé—®ï¼šå¦‚ä½•å®ç°ä¸€å¥—å¸ƒå±€ç»„ä»¶æ–¹å¼ï¼ŒåŒæ—¶å…¼å®¹PCé¡µé¢å’Œç§»åŠ¨ç«¯é¡µé¢çš„å¸ƒå±€ï¼Ÿ

æƒ³è¦ç”¨ä¸€å¥—å¸ƒå±€ä»£ç ï¼Œå®ç°PCç«¯å’Œç§»åŠ¨ç«¯å…¼å®¹ï¼Œæœ€é€šç”¨çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯â€œWebç½‘é¡µçš„è‡ªé€‚åº”å¸ƒå±€â€å’Œâ€œWebç½‘é¡µçš„å“åº”å¼å¸ƒå±€â€ã€‚

â€œWebç½‘é¡µçš„è‡ªé€‚åº”å¸ƒå±€â€å°±æ˜¯ç½‘é¡µå†…å®¹çš„å°ºå¯¸æ˜¯éšç€å±å¹•çš„å¤§å°å˜åŒ–ï¼Œé€šå¸¸æ˜¯ç”¨â€œæ¯”ä¾‹â€ä½œä¸ºå¸ƒå±€å°ºå¯¸ï¼Œæ ¹æ®ä¸åŒå°ºå¯¸çš„å±å¹•ï¼Œåšä¸€å®šçš„æ¯”ä¾‹å¤„ç†ã€‚ä¾‹å¦‚CSSå°ºå¯¸å•ä½ç”¨remã€emã€vhã€vwç­‰ç›¸å¯¹å•ä½ã€‚åŒæ—¶ï¼Œä¹Ÿä¼šç»“åˆCSSåª’ä½“æŸ¥è¯¢ @mediaï¼Œè¿›è¡Œç›‘å¬å±å¹•å°ºå¯¸å˜åŒ–ï¼Œåšå¯¹åº”CSSæ ·å¼å˜åŒ–ã€‚

â€œWebç½‘é¡µçš„å“åº”å¼å¸ƒå±€â€æ ¸å¿ƒæ˜¯åŸºäºCSSåª’ä½“æŸ¥è¯¢ @media ï¼Œè®¾è®¡å‡ ç§å°ºå¯¸é˜¶æ¢¯çš„æ ·å¼å¸ƒå±€ï¼Œç”¨ä¸€å¥—ä»£ç ï¼Œå›Šæ‹¬å¤šç§å±å¹•å°ºå¯¸çš„å¸ƒå±€CSSã€‚å½“@mediaåª’ä½“æŸ¥è¯¢æ£€æµ‹åˆ°å±å¹•å°ºå¯¸è½åœ¨å“ªä¸ªåŒºé—´é‡Œï¼Œå°±ç”¨å¯¹åº”åŒºé—´çš„CSSæ ·å¼è¿›è¡Œæ˜¾ç¤ºã€‚

### 12

è¯¾ç¨‹ï¼š[12 å¼€å‘å—æ§çš„è¡¨å•ç»„ä»¶](https://time.geekbang.org/column/article/608231)

æé—®ï¼šè¡¨å•ç»„ä»¶é™¤äº†åŠ«æŒä»£ç†â€œsubmitâ€äº‹ä»¶ï¼Œè¿˜æœ‰å…¶å®ƒçš„æ–¹å¼æ¥ç®¡ç†è¡¨å•æäº¤æ•°æ®çš„æ“ä½œå—ï¼Ÿ

è¡¨å•ç»„ä»¶åŠ«æŒä»£ç â€œsubmitâ€äº‹ä»¶æ¥ç®¡ç†è¡¨å•æäº¤ï¼Œæ ¸å¿ƒæ˜¯åˆ©ç”¨HTMLçš„åŸç”Ÿäº‹ä»¶ç‰¹æ€§ã€‚å¦‚æœè¦ç”¨å…¶å®ƒæ–¹å¼ï¼Œé‚£å°±æ˜¯ä¸ç”¨è¡¨å•åŸç”Ÿæäº¤äº‹ä»¶ï¼Œå¯ä»¥è‡ªè¡Œå°è£…å¤„ç†è¡¨å•æäº¤æ“ä½œã€‚

è‡ªè¡Œå°è£…ç®¡ç†è¡¨å•æäº¤æ•°æ®ï¼Œæ„å‘³ç€å—æ§è¡¨å•ç»„ä»¶å…¨ç¨‹ç®¡ç†æ•°æ®ï¼Œä¸å†åˆ©ç”¨HTMLåŸç”Ÿè¡¨å•æ—¶é—´ï¼Œæäº¤è¡¨å•æ—¶å€™ï¼Œç‚¹å‡»æŒ‰é’®æˆ–è€…å¿«æ·é”®æäº¤ï¼Œéƒ½ç»Ÿä¸€äº¤äºå—æ§ç»„ä»¶æ¥äººå·¥ç®¡ç†çš„â€œå…¬å…±æ•°æ®â€ï¼Œæœ€åå‘èµ·è¡¨å•è¯·æ±‚ã€‚

### 13

è¯¾ç¨‹ï¼š[13 å¼€å‘åŠ¨æ€æ¸²æŸ“è¡¨å•ç»„ä»¶](https://time.geekbang.org/column/article/609407)

æé—®ï¼šåŠ¨æ€è¡¨å•èƒ½å®ç°å¤šç§è¡¨å•æ•°æ®ç»„ä»¶çš„æ¸²æŸ“ï¼Œé‚£ä¸åŒè¡¨å•æ•°æ®ç»„ä»¶ï¼Œèƒ½å¦åšè”åŠ¨æ“ä½œçš„åŠŸèƒ½é…ç½®ï¼Ÿ

å¯ä»¥åšè”åŠ¨å¤„ç†ï¼Œä¾‹å¦‚è¡¨å•é‡Œæœ‰Aå­—æ®µå’ŒBå­—æ®µï¼Œå…¶ä¸­ï¼ŒBå­—æ®µè¦ç­‰å¾…Aå­—æ®µé€‰æ‹©äº†æ•°æ®ï¼Œæ‰èƒ½è¿›è¡Œç¼–è¾‘ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œå…¶å®ç±»ä¼¼å—æ§ç»„ä»¶é‡Œçš„â€œæ ¡éªŒâ€æ“ä½œï¼Œåªä¸è¿‡åœ¨æ ¡éªŒè¿‡ç¨‹ä¸­ä¼ å…¥æ•´ä¸ªè¡¨å•æ•°æ®æ¥è¿›è¡Œåˆ¤æ–­ã€‚

æ‰€ä»¥ï¼Œè¦å®ç°åŠ¨æ€è¡¨å•ç»„ä»¶çš„â€œæ•°æ®ç»„ä»¶çš„è”åŠ¨åŠŸèƒ½â€ï¼Œæ ¸å¿ƒæ˜¯æ‰©å±•â€œå—æ§è¡¨å•å­—æ®µç»„ä»¶â€çš„æ ¡éªŒåŠŸèƒ½ï¼Œæ ¡éªŒé€»è¾‘è¦åŠ ä¸Šåˆ¤æ–­å…¶ä»–å­—æ®µæ•°æ®çš„èƒ½åŠ›ã€‚

### 14

è¯¾ç¨‹ï¼š[14 ä»£ç å•å…ƒæµ‹è¯•ï¼Œè½»æ¾åœ°ä¿è¯è‡ªå·±çš„ä»£ç è´¨é‡](https://time.geekbang.org/column/article/609408)

æé—®ï¼šè¿™èŠ‚è¯¾éƒ½æ˜¯æ¨¡æ¿è¯­æ³•å†™çš„å•å…ƒæµ‹è¯•ï¼ŒVue.js 3.xçš„JSXè¯­æ³•å•å…ƒæµ‹è¯•è¦æ€ä¹ˆå†™å‘¢ï¼Ÿ

JSXè¯­æ³•çš„å•å…ƒæµ‹è¯•ï¼Œå…¶å®æ¯”æ¨¡æ¿è¯­æ³•çš„å•å…ƒæµ‹è¯•æ›´åŠ çµæ´»ï¼Œå› ä¸ºä¸éœ€è¦æŠŠç»„ä»¶æµ‹è¯•å†…å®¹æ”¾åœ¨ç‹¬ç«‹çš„Vueæ–‡ä»¶é‡Œã€‚

JSXè¯­æ³•æµ‹è¯•çš„ç»„ä»¶ï¼Œåœ¨åŒä¸ªæµ‹è¯•æ–‡ä»¶é‡Œå°±èƒ½è¿›è¡Œæµ‹è¯•ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```typescript
import { describe, test, expect } from 'vitest';
import { nextTick, defineComponent, ref } from 'vue';
import { mount } from '@vue/test-utils';
import { Button } from '../../src';

describe('Button', () => {
  test('click event', async () => {
    const ButtonTest = defineComponent({
      setup() {
        const num = ref(123);
        const onClick = () => {
          num.value += 1;
        };
        return {
          num,
          onClick
        };
      },
      render(ctx) {
        const { num, onClick } = ctx;
        return (
          <div>
            <div class="display-text">å½“å‰æ•°å€¼={num}</div>
            <Button class="btn-add" onClick={onClick}>
              ç‚¹å‡»åŠ 1
            </Button>
          </div>
        );
      }
    });

    const wrapper = mount(ButtonTest, { props: {} });
    const textDOM = wrapper.find('.display-text');
    const btnDOM = wrapper.find('.btn-add');
    expect(textDOM.text()).toBe('å½“å‰æ•°å€¼=123');
    btnDOM.trigger('click');
    await nextTick();
    expect(textDOM.text()).toBe('å½“å‰æ•°å€¼=124');
  });
});
```

ä¸‹ä¸€è®²æˆ‘ä»¬è¿›å…¥å®æˆ˜ç¯‡ï¼ŒæŠŠä½ä»£ç æ­å»ºé¡µé¢çš„æŠ€æœ¯æ¦‚å¿µèå…¥è¯¾ç¨‹ä¸­ï¼Œæ­å»ºèµ·ä¸€ä¸ªä¼ä¸šçº§é¡¹ç›®ï¼Œæ­å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šåˆ†è§£æˆä¸€ä¸ªä¸ªç®€å•æ˜“æ‡‚çš„æŠ€æœ¯çŸ¥è¯†ç‚¹ï¼Œå¹¶å°è¯•ç”¨å·²å­¦çš„ã€åˆé€‚çš„å®ç°æ–¹å¼ä¼˜é›…è§£å†³ã€‚ä¸‹ä¸€è®²è§ã€‚
<div><strong>ç²¾é€‰ç•™è¨€ï¼ˆ1ï¼‰</strong></div><ul>
<li><span>ifelse</span> ğŸ‘ï¼ˆ1ï¼‰ ğŸ’¬ï¼ˆ0ï¼‰<p>å­¦ä¹ æ‰“å¡</p>2024-09-12</li><br/>
</ul>